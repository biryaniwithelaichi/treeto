var me=Object.defineProperty;var he=(e,n,t)=>n in e?me(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var i=(e,n,t)=>he(e,typeof n!="symbol"?n+"":n,t);import{s as xe,r as Ee,n as K,g as Pe,E as we,a as Ie,b as Se,c as fe,t as ve,f as be,p as Ce,N as ge,A as Re,d as Ae,e as De,h as ze,i as Fe,S as _e,D as ke,F as $e,j as Ne,k as He,l as Ue,m as Oe,o as Te,q as Le,u as Me,v as Ge,w as qe,x as je,y as Be,z as Ve,B as Je,C as We,G as Xe,H as Ye,I as Ke,J as Qe,K as Ze,L as et,M as tt,O as nt,P as st,Q as ot,R as it,T as rt,U as at,V as dt,W as ct,_ as l,X as Q,Y as lt,Z as pt,$ as ut,a0 as yt,a1 as h,a2 as g,a3 as mt,a4 as ht,a5 as Z,a6 as ee,a7 as te}from"./index-Cq7rgpS1.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1ced833b-6cd3-44f5-a51c-64f49de77526",e._sentryDebugIdIdentifier="sentry-dbid-1ced833b-6cd3-44f5-a51c-64f49de77526")}catch{}const xt=e=>{if(e==null)return;let n;if(typeof e=="number")n=e;else if(typeof e=="string")n=xe(e);else if(typeof e=="object"&&e.tag===1)n=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(n)||n===1/0||n===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(n*1e3))};class Et{async sign(n,t,s){return n}}const R="***SensitiveInformation***",ne=(e,n)=>{const t={};for(const s in n)Pt(t,e,n,s);return t},Pt=(e,n,t,s)=>{if(n!==null){let c=t[s];typeof c=="function"&&(c=[,c]);const[m=wt,E=It,w=s]=c;(typeof m=="function"&&m(n[w])||typeof m!="function"&&m)&&(e[s]=E(n[w]));return}let[o,u]=t[s];if(typeof u=="function"){let c;const m=o===void 0&&(c=u())!=null,E=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;m?e[s]=c:E&&(e[s]=u())}else{const c=o===void 0&&u!=null,m=typeof o=="function"&&!!o(u)||typeof o!="function"&&!!o;(c||m)&&(e[s]=u)}},wt=e=>e!=null,It=e=>e,St=async(e,n,t)=>({operation:Pe(n).operation,region:await K(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ft(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function C(e){return{schemeId:"smithy.api#noAuth"}}const vt=e=>{const n=[];switch(e.operation){case"GetCredentialsForIdentity":{n.push(C());break}case"GetId":{n.push(C());break}case"GetOpenIdToken":{n.push(C());break}case"UnlinkIdentity":{n.push(C());break}default:n.push(ft(e))}return n},bt=e=>{const n=Ee(e);return Object.assign(n,{authSchemePreference:K(e.authSchemePreference??[])})},Ct=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),se={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},gt="3.915.0",Rt={version:gt},oe="required",a="fn",d="argv",S="ref",M=!0,G="isSet",b="booleanEquals",I="error",x="endpoint",P="tree",A="PartitionResult",D="getAttr",f="stringEquals",q={[oe]:!1,type:"string"},j={[oe]:!0,default:!1,type:"boolean"},B={[S]:"Endpoint"},ie={[a]:b,[d]:[{[S]:"UseFIPS"},!0]},re={[a]:b,[d]:[{[S]:"UseDualStack"},!0]},r={},v={[S]:"Region"},V={[a]:D,[d]:[{[S]:A},"supportsFIPS"]},ae={[S]:A},J={[a]:b,[d]:[!0,{[a]:D,[d]:[ae,"supportsDualStack"]}]},W=[ie],X=[re],Y=[v],At={parameters:{Region:q,UseDualStack:j,UseFIPS:j,Endpoint:q},rules:[{conditions:[{[a]:G,[d]:[B]}],rules:[{conditions:W,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:I},{conditions:X,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:I},{endpoint:{url:B,properties:r,headers:r},type:x}],type:P},{conditions:[{[a]:G,[d]:Y}],rules:[{conditions:[{[a]:"aws.partition",[d]:Y,assign:A}],rules:[{conditions:[ie,re],rules:[{conditions:[{[a]:b,[d]:[M,V]},J],rules:[{conditions:[{[a]:f,[d]:[v,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:r,headers:r},type:x},{conditions:[{[a]:f,[d]:[v,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:r,headers:r},type:x},{conditions:[{[a]:f,[d]:[v,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:r,headers:r},type:x},{conditions:[{[a]:f,[d]:[v,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:r,headers:r},type:x},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:r,headers:r},type:x}],type:P},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:I}],type:P},{conditions:W,rules:[{conditions:[{[a]:b,[d]:[V,M]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:r,headers:r},type:x}],type:P},{error:"FIPS is enabled but this partition does not support FIPS",type:I}],type:P},{conditions:X,rules:[{conditions:[J],rules:[{conditions:[{[a]:f,[d]:["aws",{[a]:D,[d]:[ae,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:r,headers:r},type:x},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:r,headers:r},type:x}],type:P},{error:"DualStack is enabled but this partition does not support DualStack",type:I}],type:P},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:r,headers:r},type:x}],type:P}],type:P},{error:"Invalid Configuration: Missing Region",type:I}]},Dt=At,zt=new we({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ft=(e,n={})=>zt.get(e,()=>Ie(Dt,{endpointParams:e,logger:n.logger}));fe.aws=Se;const _t=e=>({apiVersion:"2014-06-30",base64Decoder:(e==null?void 0:e.base64Decoder)??De,base64Encoder:(e==null?void 0:e.base64Encoder)??Ae,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Ft,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??vt,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new Re},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Et}],logger:(e==null?void 0:e.logger)??new ge,serviceId:(e==null?void 0:e.serviceId)??"Cognito Identity",urlParser:(e==null?void 0:e.urlParser)??Ce,utf8Decoder:(e==null?void 0:e.utf8Decoder)??be,utf8Encoder:(e==null?void 0:e.utf8Encoder)??ve}),kt=e=>{const n=ze(e),t=()=>n().then(Me),s=_t(e);return{...s,...e,runtime:"browser",defaultsMode:n,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Oe,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??Ue({serviceId:s.serviceId,clientVersion:Rt.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??He,region:(e==null?void 0:e.region)??Ne("Region is missing"),requestHandler:$e.create((e==null?void 0:e.requestHandler)??t),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await t()).retryMode||ke),sha256:(e==null?void 0:e.sha256)??_e,streamCollector:(e==null?void 0:e.streamCollector)??Fe,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Le)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(Te))}},$t=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(o){const u=n.findIndex(c=>c.schemeId===o.schemeId);u===-1?n.push(o):n.splice(u,1,o)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(o){t=o},httpAuthSchemeProvider(){return t},setCredentials(o){s=o},credentials(){return s}}},Nt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Ht=(e,n)=>{const t=Object.assign(Ge(e),qe(e),je(e),$t(e));return n.forEach(s=>s.configure(t)),Object.assign(e,Be(t),Ve(t),Je(t),Nt(t))};class dn extends We{constructor(...[t]){const s=kt(t||{});super(s);i(this,"config");this.initConfig=s;const o=Ct(s),u=Xe(o),c=Ye(u),m=Ke(c),E=Ze(m),w=Qe(E),pe=bt(w),ue=Ht(pe,(t==null?void 0:t.extensions)||[]);this.config=ue,this.middlewareStack.use(et(this.config)),this.middlewareStack.use(tt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(st(this.config)),this.middlewareStack.use(ot(this.config)),this.middlewareStack.use(it(this.config)),this.middlewareStack.use(rt(this.config,{httpAuthSchemeParametersProvider:St,identityProviderConfigProvider:async ye=>new at({"aws.auth#sigv4":ye.credentials})})),this.middlewareStack.use(dt(this.config))}destroy(){super.destroy()}}class p extends ct{constructor(n){super(n),Object.setPrototypeOf(this,p.prototype)}}class z extends p{constructor(t){super({name:"InternalErrorException",$fault:"server",...t});i(this,"name","InternalErrorException");i(this,"$fault","server");Object.setPrototypeOf(this,z.prototype)}}class F extends p{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t});i(this,"name","InvalidParameterException");i(this,"$fault","client");Object.setPrototypeOf(this,F.prototype)}}class _ extends p{constructor(t){super({name:"LimitExceededException",$fault:"client",...t});i(this,"name","LimitExceededException");i(this,"$fault","client");Object.setPrototypeOf(this,_.prototype)}}class k extends p{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t});i(this,"name","NotAuthorizedException");i(this,"$fault","client");Object.setPrototypeOf(this,k.prototype)}}class $ extends p{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t});i(this,"name","ResourceConflictException");i(this,"$fault","client");Object.setPrototypeOf(this,$.prototype)}}class N extends p{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t});i(this,"name","TooManyRequestsException");i(this,"$fault","client");Object.setPrototypeOf(this,N.prototype)}}class H extends p{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});i(this,"name","ResourceNotFoundException");i(this,"$fault","client");Object.setPrototypeOf(this,H.prototype)}}class U extends p{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t});i(this,"name","ExternalServiceException");i(this,"$fault","client");Object.setPrototypeOf(this,U.prototype)}}class O extends p{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t});i(this,"name","InvalidIdentityPoolConfigurationException");i(this,"$fault","client");Object.setPrototypeOf(this,O.prototype)}}class T extends p{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t});i(this,"name","DeveloperUserAlreadyRegisteredException");i(this,"$fault","client");Object.setPrototypeOf(this,T.prototype)}}class L extends p{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t});i(this,"name","ConcurrentModificationException");i(this,"$fault","client");Object.setPrototypeOf(this,L.prototype)}}const Ut=e=>({...e,...e.Logins&&{Logins:R}}),Ot=e=>({...e,...e.SecretKey&&{SecretKey:R}}),Tt=e=>({...e,...e.Credentials&&{Credentials:Ot(e.Credentials)}}),Lt=e=>({...e,...e.Logins&&{Logins:R}}),Mt=async(e,n)=>{const t=le("GetCredentialsForIdentity");let s;return s=JSON.stringify(l(e)),ce(n,t,"/",void 0,s)},Gt=async(e,n)=>{const t=le("GetId");let s;return s=JSON.stringify(l(e)),ce(n,t,"/",void 0,s)},qt=async(e,n)=>{if(e.statusCode>=300)return de(e,n);const t=await Q(e.body,n);let s={};return s=sn(t),{$metadata:y(e),...s}},jt=async(e,n)=>{if(e.statusCode>=300)return de(e,n);const t=await Q(e.body,n);let s={};return s=l(t),{$metadata:y(e),...s}},de=async(e,n)=>{const t={...e,body:await pt(e.body,n)},s=ut(e,t.body);switch(s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await Wt(t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Yt(t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Kt(t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await Qt(t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Zt(t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await tn(t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await en(t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await Jt(t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await Xt(t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await Vt(t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await Bt(t);default:const o=t.body;return on({output:e,parsedBody:o,errorCode:s})}},Bt=async(e,n)=>{const t=e.body,s=l(t),o=new L({$metadata:y(e),...s});return h(o,t)},Vt=async(e,n)=>{const t=e.body,s=l(t),o=new T({$metadata:y(e),...s});return h(o,t)},Jt=async(e,n)=>{const t=e.body,s=l(t),o=new U({$metadata:y(e),...s});return h(o,t)},Wt=async(e,n)=>{const t=e.body,s=l(t),o=new z({$metadata:y(e),...s});return h(o,t)},Xt=async(e,n)=>{const t=e.body,s=l(t),o=new O({$metadata:y(e),...s});return h(o,t)},Yt=async(e,n)=>{const t=e.body,s=l(t),o=new F({$metadata:y(e),...s});return h(o,t)},Kt=async(e,n)=>{const t=e.body,s=l(t),o=new _({$metadata:y(e),...s});return h(o,t)},Qt=async(e,n)=>{const t=e.body,s=l(t),o=new k({$metadata:y(e),...s});return h(o,t)},Zt=async(e,n)=>{const t=e.body,s=l(t),o=new $({$metadata:y(e),...s});return h(o,t)},en=async(e,n)=>{const t=e.body,s=l(t),o=new H({$metadata:y(e),...s});return h(o,t)},tn=async(e,n)=>{const t=e.body,s=l(t),o=new N({$metadata:y(e),...s});return h(o,t)},nn=(e,n)=>ne(e,{AccessKeyId:g,Expiration:t=>mt(xt(ht(t))),SecretKey:g,SessionToken:g}),sn=(e,n)=>ne(e,{Credentials:t=>nn(t),IdentityId:g}),y=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),on=yt(p),ce=async(e,n,t,s,o)=>{const{hostname:u,protocol:c="https",port:m,path:E}=await e.endpoint(),w={protocol:c,hostname:u,port:m,method:"POST",path:E.endsWith("/")?E.slice(0,-1)+t:E+t,headers:n};return o!==void 0&&(w.body=o),new lt(w)};function le(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}class cn extends Z.classBuilder().ep(se).m(function(n,t,s,o){return[ee(s,this.serialize,this.deserialize),te(s,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(Ut,Tt).ser(Mt).de(qt).build(){}class ln extends Z.classBuilder().ep(se).m(function(n,t,s,o){return[ee(s,this.serialize,this.deserialize),te(s,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(Lt,void 0).ser(Gt).de(jt).build(){}export{dn as CognitoIdentityClient,cn as GetCredentialsForIdentityCommand,ln as GetIdCommand};
//# sourceMappingURL=loadCognitoIdentity-C1_zf0f4.js.map
