import{a8 as p,a9 as y,aa as g}from"./index-Cq7rgpS1.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="935d6af2-eb0c-4ee9-8f93-ae437c6fcc72",e._sentryDebugIdIdentifier="sentry-dbid-935d6af2-eb0c-4ee9-8f93-ae437c6fcc72")}catch{}var m=function(){function e(){this.fetchObserver=null}return e.prototype.start=function(t){this.eventCallback=t,this.observeFetch()},e.prototype.stop=function(){var t;(t=this.fetchObserver)===null||t===void 0||t.call(this),this.fetchObserver=null,this.eventCallback=void 0},e.prototype.notifyEvent=function(t){var r;(r=this.eventCallback)===null||r===void 0||r.call(this,t)},e.prototype.observeFetch=function(){var t=this,r=p();if(r){var d=r.fetch;d&&(r.fetch=function(h,o){return y(t,void 0,void 0,function(){var i,n,c,s,f,l,s,u;return g(this,function(a){switch(a.label){case 0:i=Date.now(),n={timestamp:i,type:"fetch",method:(o==null?void 0:o.method)||"GET",url:h.toString(),requestHeaders:o==null?void 0:o.headers},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,d(h,o)];case 2:return c=a.sent(),s=Date.now(),n.status=c.status,n.duration=s-i,f={},c.headers.forEach(function(v,b){f[b]=v}),n.responseHeaders=f,this.notifyEvent(n),[2,c];case 3:throw l=a.sent(),s=Date.now(),n.duration=s-i,u=l,n.error={name:u.name||"UnknownError",message:u.message||"An unknown error occurred"},this.notifyEvent(n),l;case 4:return[2]}})})},this.fetchObserver=function(){r.fetch=d})}},e}();export{m as NetworkObservers};
//# sourceMappingURL=observers-3L7VkSo-.js.map
