"use strict";const Ai=require("node:fs"),Co=require("node:path"),uf=require("node:os"),No=require("worker_threads"),He=require("path"),wc=require("url"),lf=require("module"),ff=require("perf_hooks"),Lc=require("async_hooks"),pf=require("events"),$c=require("diagnostics_channel"),wo=require("util"),df=require("tty"),Mc=require("os"),gs=require("fs");require("node:events");require("electron");function ms(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const hf=ms(uf),Ye=ms(He),ze=ms($c);function _t(e){if(e instanceof PerformanceEntry)return e.toJSON();if(e instanceof Error)return{name:e.name,message:e.message,stack:e.stack,cause:"cause"in e&&e.cause?_t(e.cause):void 0};if(Array.isArray(e))return e.map(_t);if(e&&typeof e=="object"){const t={};for(const[r,n]of Object.entries(e))t[r]=_t(n);return t}return e}var _f=typeof globalThis=="object"?globalThis:global,Je="1.9.0",bi=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function gf(e){var t=new Set([e]),r=new Set,n=e.match(bi);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return function(a){return a===e};function s(c){return r.add(c),!1}function i(c){return t.add(c),!0}return function(a){if(t.has(a))return!0;if(r.has(a))return!1;var u=a.match(bi);if(!u)return s(a);var l={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return l.prerelease!=null||o.major!==l.major?s(a):o.major===0?o.minor===l.minor&&o.patch<=l.patch?i(a):s(a):o.minor<=l.minor?i(a):s(a)}}var mf=gf(Je),Ef=Je.split(".")[0],zt=Symbol.for("opentelemetry.js.api."+Ef),Yt=_f;function tr(e,t,r,n){var o;n===void 0&&(n=!1);var s=Yt[zt]=(o=Yt[zt])!==null&&o!==void 0?o:{version:Je};if(!n&&s[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(i.stack||i.message),!1}if(s.version!==Je){var i=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+Je);return r.error(i.stack||i.message),!1}return s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Je+"."),!0}function et(e){var t,r,n=(t=Yt[zt])===null||t===void 0?void 0:t.version;if(!(!n||!mf(n)))return(r=Yt[zt])===null||r===void 0?void 0:r[e]}function rr(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Je+".");var r=Yt[zt];r&&delete r[e]}var vf=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},Sf=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},yf=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Lt("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Lt("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Lt("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Lt("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Lt("verbose",this._namespace,t)},e}();function Lt(e,t,r){var n=et("diag");if(n)return r.unshift(t),n[e].apply(n,Sf([],vf(r),!1))}var q;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(q||(q={}));function Tf(e,t){e<q.NONE?e=q.NONE:e>q.ALL&&(e=q.ALL),t=t||{};function r(n,o){var s=t[n];return typeof s=="function"&&e>=o?s.bind(t):function(){}}return{error:r("error",q.ERROR),warn:r("warn",q.WARN),info:r("info",q.INFO),debug:r("debug",q.DEBUG),verbose:r("verbose",q.VERBOSE)}}var Rf=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},Of=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Af="diag",Oe=function(){function e(){function t(o){return function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var c=et("diag");if(c)return c[o].apply(c,Of([],Rf(s),!1))}}var r=this,n=function(o,s){var i,c,a;if(s===void 0&&(s={logLevel:q.INFO}),o===r){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((i=u.stack)!==null&&i!==void 0?i:u.message),!1}typeof s=="number"&&(s={logLevel:s});var l=et("diag"),f=Tf((c=s.logLevel)!==null&&c!==void 0?c:q.INFO,o);if(l&&!s.suppressOverrideMessage){var p=(a=new Error().stack)!==null&&a!==void 0?a:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),f.warn("Current logger will overwrite one already registered from "+p)}return tr("diag",f,r,!0)};r.setLogger=n,r.disable=function(){rr(Af,r)},r.createComponentLogger=function(o){return new yf(o)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),bf=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},If=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Pf=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=bf(t,2),n=r[0],o=r[1];return[n,o]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=new e(this._entries);try{for(var i=If(n),c=i.next();!c.done;c=i.next()){var a=c.value;s._entries.delete(a)}}catch(u){t={error:u}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),Cf=Symbol("BaggageEntryMetadata"),Nf=Oe.instance();function wf(e){return e===void 0&&(e={}),new Pf(new Map(Object.entries(e)))}function xc(e){return typeof e!="string"&&(Nf.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:Cf,toString:function(){return e}}}function xe(e){return Symbol.for(e)}var Lf=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,o){var s=new e(r._currentContext);return s._currentContext.set(n,o),s},r.deleteValue=function(n){var o=new e(r._currentContext);return o._currentContext.delete(n),o}}return e}(),Es=new Lf,Dn=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],$f=function(){function e(){function t(n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(console){var i=console[n];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,o)}}}for(var r=0;r<Dn.length;r++)this[Dn[r].n]=t(Dn[r].c)}return e}(),ot=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mf=function(){function e(){}return e.prototype.createGauge=function(t,r){return Hf},e.prototype.createHistogram=function(t,r){return Vf},e.prototype.createCounter=function(t,r){return Gf},e.prototype.createUpDownCounter=function(t,r){return qf},e.prototype.createObservableGauge=function(t,r){return zf},e.prototype.createObservableCounter=function(t,r){return Xf},e.prototype.createObservableUpDownCounter=function(t,r){return Yf},e.prototype.addBatchObservableCallback=function(t,r){},e.prototype.removeBatchObservableCallback=function(t){},e}(),cn=function(){function e(){}return e}(),xf=function(e){ot(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(r,n){},t}(cn),Df=function(e){ot(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(r,n){},t}(cn),kf=function(e){ot(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(r,n){},t}(cn),Ff=function(e){ot(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(r,n){},t}(cn),vs=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),Uf=function(e){ot(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(vs),Bf=function(e){ot(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(vs),jf=function(e){ot(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(vs),Dc=new Mf,Gf=new xf,Hf=new kf,Vf=new Ff,qf=new Df,Xf=new Uf,zf=new Bf,Yf=new jf;function Wf(){return Dc}var Lo;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(Lo||(Lo={}));var kc={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},Fc={set:function(e,t,r){e!=null&&(e[t]=r)}},Kf=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},Jf=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Zf=function(){function e(){}return e.prototype.active=function(){return Es},e.prototype.with=function(t,r,n){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return r.call.apply(r,Jf([n],Kf(o),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),Qf=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},ep=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},kn="context",tp=new Zf,un=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return tr(kn,t,Oe.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var o,s=[],i=3;i<arguments.length;i++)s[i-3]=arguments[i];return(o=this._getContextManager()).with.apply(o,ep([t,r,n],Qf(s),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return et(kn)||tp},e.prototype.disable=function(){this._getContextManager().disable(),rr(kn,Oe.instance())},e}(),te;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(te||(te={}));var Ss="0000000000000000",ln="00000000000000000000000000000000",ys={traceId:ln,spanId:Ss,traceFlags:te.NONE},Bt=function(){function e(t){t===void 0&&(t=ys),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}(),Ts=xe("OpenTelemetry Context Key SPAN");function Rs(e){return e.getValue(Ts)||void 0}function rp(){return Rs(un.getInstance().active())}function Os(e,t){return e.setValue(Ts,t)}function np(e){return e.deleteValue(Ts)}function op(e,t){return Os(e,new Bt(t))}function Uc(e){var t;return(t=Rs(e))===null||t===void 0?void 0:t.spanContext()}var sp=/^([0-9a-f]{32})$/i,ip=/^[0-9a-f]{16}$/i;function fn(e){return sp.test(e)&&e!==ln}function Bc(e){return ip.test(e)&&e!==Ss}function Ve(e){return fn(e.traceId)&&Bc(e.spanId)}function ap(e){return new Bt(e)}var Fn=un.getInstance(),jc=function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=Fn.active());var o=!!(r!=null&&r.root);if(o)return new Bt;var s=n&&Uc(n);return cp(s)&&Ve(s)?new Bt(s):new Bt},e.prototype.startActiveSpan=function(t,r,n,o){var s,i,c;if(!(arguments.length<2)){arguments.length===2?c=r:arguments.length===3?(s=r,c=n):(s=r,i=n,c=o);var a=i??Fn.active(),u=this.startSpan(t,s,a),l=Os(a,u);return Fn.with(l,c,void 0,u)}},e}();function cp(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var up=new jc,Gc=function(){function e(t,r,n,o){this._provider=t,this.name=r,this.version=n,this.options=o}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,o){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):up},e}(),lp=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new jc},e}(),fp=new lp,$o=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var o;return(o=this.getDelegateTracer(t,r,n))!==null&&o!==void 0?o:new Gc(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:fp},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(t,r,n)},e}(),$e;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})($e||($e={}));var fe;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(fe||(fe={}));var Le;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Le||(Le={}));var Mo="[_0-9a-z-*/]",pp="[a-z]"+Mo+"{0,255}",dp="[a-z0-9]"+Mo+"{0,240}@[a-z]"+Mo+"{0,13}",hp=new RegExp("^(?:"+pp+"|"+dp+")$"),_p=/^[ -~]{0,255}[!-~]$/,gp=/,|=/;function mp(e){return hp.test(e)}function Ep(e){return _p.test(e)&&!gp.test(e)}var Ii=32,vp=512,Pi=",",Ci="=",Sp=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+Ci+t.get(n)),r},[]).join(Pi)},e.prototype._parse=function(t){t.length>vp||(this._internalState=t.split(Pi).reverse().reduce(function(r,n){var o=n.trim(),s=o.indexOf(Ci);if(s!==-1){var i=o.slice(0,s),c=o.slice(s+1,n.length);mp(i)&&Ep(c)&&r.set(i,c)}return r},new Map),this._internalState.size>Ii&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Ii))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function yp(e){return new Sp(e)}var G=un.getInstance(),x=Oe.instance(),Tp=function(){function e(){}return e.prototype.getMeter=function(t,r,n){return Dc},e}(),Rp=new Tp,Un="metrics",Op=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return tr(Un,t,Oe.instance())},e.prototype.getMeterProvider=function(){return et(Un)||Rp},e.prototype.getMeter=function(t,r,n){return this.getMeterProvider().getMeter(t,r,n)},e.prototype.disable=function(){rr(Un,Oe.instance())},e}(),pn=Op.getInstance(),Ap=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}(),As=xe("OpenTelemetry Baggage Key");function Hc(e){return e.getValue(As)||void 0}function bp(){return Hc(un.getInstance().active())}function Ip(e,t){return e.setValue(As,t)}function Pp(e){return e.deleteValue(As)}var Bn="propagation",Cp=new Ap,Np=function(){function e(){this.createBaggage=wf,this.getBaggage=Hc,this.getActiveBaggage=bp,this.setBaggage=Ip,this.deleteBaggage=Pp}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return tr(Bn,t,Oe.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=Fc),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=kc),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){rr(Bn,Oe.instance())},e.prototype._getGlobalPropagator=function(){return et(Bn)||Cp},e}(),Re=Np.getInstance(),jn="trace",wp=function(){function e(){this._proxyTracerProvider=new $o,this.wrapSpanContext=ap,this.isSpanContextValid=Ve,this.deleteSpan=np,this.getSpan=Rs,this.getActiveSpan=rp,this.getSpanContext=Uc,this.setSpan=Os,this.setSpanContext=op}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=tr(jn,this._proxyTracerProvider,Oe.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return et(jn)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){rr(jn,Oe.instance()),this._proxyTracerProvider=new $o},e}(),F=wp.getInstance();const Lp={context:G,diag:x,metrics:pn,propagation:Re,trace:F},$p=Object.freeze(Object.defineProperty({__proto__:null,DiagConsoleLogger:$f,get DiagLogLevel(){return q},INVALID_SPANID:Ss,INVALID_SPAN_CONTEXT:ys,INVALID_TRACEID:ln,ProxyTracer:Gc,ProxyTracerProvider:$o,ROOT_CONTEXT:Es,get SamplingDecision(){return $e},get SpanKind(){return fe},get SpanStatusCode(){return Le},get TraceFlags(){return te},get ValueType(){return Lo},baggageEntryMetadataFromString:xc,context:G,createContextKey:xe,createNoopMeter:Wf,createTraceState:yp,default:Lp,defaultTextMapGetter:kc,defaultTextMapSetter:Fc,diag:x,isSpanContextValid:Ve,isValidSpanId:Bc,isValidTraceId:fn,metrics:pn,propagation:Re,trace:F},Symbol.toStringTag,{value:"Module"}));var vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bs(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}const Is=bs($p);var Ps=xe("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function st(e){return e.setValue(Ps,!0)}function Mp(e){return e.deleteValue(Ps)}function Ot(e){return e.getValue(Ps)===!0}var xp="=",xo=";",zr=",",Gn="baggage",Dp=180,kp=4096,Fp=8192,Up=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s};function Vc(e){return e.reduce(function(t,r){var n=""+t+(t!==""?zr:"")+r;return n.length>Fp?t:n},"")}function qc(e){return e.getAllEntries().map(function(t){var r=Up(t,2),n=r[0],o=r[1],s=encodeURIComponent(n)+"="+encodeURIComponent(o.value);return o.metadata!==void 0&&(s+=xo+o.metadata.toString()),s})}function Cs(e){var t=e.split(xo);if(!(t.length<=0)){var r=t.shift();if(r){var n=r.indexOf(xp);if(!(n<=0)){var o=decodeURIComponent(r.substring(0,n).trim()),s=decodeURIComponent(r.substring(n+1).trim()),i;return t.length>0&&(i=xc(t.join(xo))),{key:o,value:s,metadata:i}}}}}function Bp(e){return typeof e!="string"||e.length===0?{}:e.split(zr).map(function(t){return Cs(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,r){return t[r.key]=r.value,t},{})}var Ns=function(){function e(){}return e.prototype.inject=function(t,r,n){var o=Re.getBaggage(t);if(!(!o||Ot(t))){var s=qc(o).filter(function(c){return c.length<=kp}).slice(0,Dp),i=Vc(s);i.length>0&&n.set(r,Gn,i)}},e.prototype.extract=function(t,r,n){var o=n.get(r,Gn),s=Array.isArray(o)?o.join(zr):o;if(!s)return t;var i={};if(s.length===0)return t;var c=s.split(zr);return c.forEach(function(a){var u=Cs(a);if(u){var l={value:u.value};u.metadata&&(l.metadata=u.metadata),i[u.key]=l}}),Object.entries(i).length===0?t:Re.setBaggage(t,Re.createBaggage(i))},e.prototype.fields=function(){return[Gn]},e}(),jp=function(){function e(t,r){this._monotonicClock=r,this._epochMillis=t.now(),this._performanceMillis=r.now()}return e.prototype.now=function(){var t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t},e}(),Xc=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Gp=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s};function jt(e){var t,r,n={};if(typeof e!="object"||e==null)return n;try{for(var o=Xc(Object.entries(e)),s=o.next();!s.done;s=o.next()){var i=Gp(s.value,2),c=i[0],a=i[1];if(!zc(c)){x.warn("Invalid attribute key: "+c);continue}if(!ws(a)){x.warn("Invalid attribute value set for key: "+c);continue}Array.isArray(a)?n[c]=a.slice():n[c]=a}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}function zc(e){return typeof e=="string"&&e.length>0}function ws(e){return e==null?!0:Array.isArray(e)?Hp(e):Yc(e)}function Hp(e){var t,r,n;try{for(var o=Xc(e),s=o.next();!s.done;s=o.next()){var i=s.value;if(i!=null){if(!n){if(Yc(i)){n=typeof i;continue}return!1}if(typeof i!==n)return!1}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0}function Yc(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}function Wc(){return function(e){x.error(Vp(e))}}function Vp(e){return typeof e=="string"?e:JSON.stringify(qp(e))}function qp(e){for(var t={},r=e;r!==null;)Object.getOwnPropertyNames(r).forEach(function(n){if(!t[n]){var o=r[n];o&&(t[n]=String(o))}}),r=Object.getPrototypeOf(r);return t}var Kc=Wc();function Xp(e){Kc=e}function Et(e){try{Kc(e)}catch{}}var he;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(he||(he={}));var zp=",",Yp=["OTEL_SDK_DISABLED"];function Wp(e){return Yp.indexOf(e)>-1}var Kp=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Jp(e){return Kp.indexOf(e)>-1}var Zp=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function Qp(e){return Zp.indexOf(e)>-1}var Gt=1/0,Ht=128,Jc=128,Zc=128,Ls={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:q.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Gt,OTEL_ATTRIBUTE_COUNT_LIMIT:Ht,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Gt,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Ht,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Gt,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Ht,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Jc,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Zc,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:he.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function ed(e,t,r){if(!(typeof r[e]>"u")){var n=String(r[e]);t[e]=n.toLowerCase()==="true"}}function td(e,t,r,n,o){if(n===void 0&&(n=-1/0),o===void 0&&(o=1/0),typeof r[e]<"u"){var s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>o?t[e]=o:t[e]=s)}}function rd(e,t,r,n){n===void 0&&(n=zp);var o=r[e];typeof o=="string"&&(t[e]=o.split(n).map(function(s){return s.trim()}))}var nd={ALL:q.ALL,VERBOSE:q.VERBOSE,DEBUG:q.DEBUG,INFO:q.INFO,WARN:q.WARN,ERROR:q.ERROR,NONE:q.NONE};function od(e,t,r){var n=r[e];if(typeof n=="string"){var o=nd[n.toUpperCase()];o!=null&&(t[e]=o)}}function $s(e){var t={};for(var r in Ls){var n=r;switch(n){case"OTEL_LOG_LEVEL":od(n,t,e);break;default:if(Wp(n))ed(n,t,e);else if(Jp(n))td(n,t,e);else if(Qp(n))rd(n,t,e);else{var o=e[n];typeof o<"u"&&o!==null&&(t[n]=String(o))}}}return t}function vt(){var e=$s(process.env);return Object.assign({},Ls,e)}function Qc(){return $s(process.env)}var sd=typeof globalThis=="object"?globalThis:global;function Ni(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function eu(e){for(var t=new Uint8Array(e.length/2),r=0,n=0;n<e.length;n+=2){var o=Ni(e.charCodeAt(n)),s=Ni(e.charCodeAt(n+1));t[r++]=o<<4|s}return t}function id(e){return Buffer.from(eu(e)).toString("base64")}var ad=8,tu=16,cd=function(){function e(){this.generateTraceId=wi(tu),this.generateSpanId=wi(ad)}return e}(),Sr=Buffer.allocUnsafe(tu);function wi(e){return function(){for(var r=0;r<e/4;r++)Sr.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,r*4);for(var r=0;r<e&&!(Sr[r]>0);r++)r===e-1&&(Sr[e-1]=1);return Sr.toString("hex",0,e)}}var Qe=ff.performance,ru="1.30.1",ud="exception.type",ld="exception.message",fd="exception.stacktrace",Hn=ud,Vn=ld,pd=fd,dd="process.runtime.name",hd="service.name",_d="telemetry.sdk.name",gd="telemetry.sdk.language",md="telemetry.sdk.version",Ed=dd,vd=hd,Do=_d,ko=gd,Fo=md,Sd="nodejs",yd=Sd,ut,Ur=(ut={},ut[Do]="opentelemetry",ut[Ed]="node",ut[ko]=yd,ut[Fo]=ru,ut);function nu(e){e.unref()}var ou=9,Td=6,Rd=Math.pow(10,Td),Yr=Math.pow(10,ou);function we(e){var t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*Rd);return[r,n]}function dn(){var e=Qe.timeOrigin;if(typeof e!="number"){var t=Qe;e=t.timing&&t.timing.fetchStart}return e}function Ms(e){var t=we(dn()),r=we(typeof e=="number"?e:Qe.now());return xs(t,r)}function Od(e){if(hn(e))return e;if(typeof e=="number")return e<dn()?Ms(e):we(e);if(e instanceof Date)return we(e.getTime());throw TypeError("Invalid input type")}function su(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Yr),[r,n]}function Ad(e){var t=ou,r=""+"0".repeat(t)+e[1]+"Z",n=r.substring(r.length-t-1),o=new Date(e[0]*1e3).toISOString();return o.replace("000Z",n)}function bd(e){return e[0]*Yr+e[1]}function Id(e){return e[0]*1e3+e[1]/1e6}function Pd(e){return e[0]*1e6+e[1]/1e3}function hn(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function Uo(e){return hn(e)||typeof e=="number"||e instanceof Date}function xs(e,t){var r=[e[0]+t[0],e[1]+t[1]];return r[1]>=Yr&&(r[1]-=Yr,r[0]+=1),r}var Wr;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(Wr||(Wr={}));var Cd=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},iu=function(){function e(t){t===void 0&&(t={});var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(function(n){return typeof n.fields=="function"?n.fields():[]}).reduce(function(n,o){return n.concat(o)},[])))}return e.prototype.inject=function(t,r,n){var o,s;try{for(var i=Cd(this._propagators),c=i.next();!c.done;c=i.next()){var a=c.value;try{a.inject(t,r,n)}catch(u){x.warn("Failed to inject with "+a.constructor.name+". Err: "+u.message)}}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}},e.prototype.extract=function(t,r,n){return this._propagators.reduce(function(o,s){try{return s.extract(o,r,n)}catch(i){x.warn("Failed to extract with "+s.constructor.name+". Err: "+i.message)}return o},t)},e.prototype.fields=function(){return this._fields.slice()},e}(),Bo="[_0-9a-z-*/]",Nd="[a-z]"+Bo+"{0,255}",wd="[a-z0-9]"+Bo+"{0,240}@[a-z]"+Bo+"{0,13}",Ld=new RegExp("^(?:"+Nd+"|"+wd+")$"),$d=/^[ -~]{0,255}[!-~]$/,Md=/,|=/;function xd(e){return Ld.test(e)}function Dd(e){return $d.test(e)&&!Md.test(e)}var Li=32,kd=512,$i=",",Mi="=",_n=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+Mi+t.get(n)),r},[]).join($i)},e.prototype._parse=function(t){t.length>kd||(this._internalState=t.split($i).reverse().reduce(function(r,n){var o=n.trim(),s=o.indexOf(Mi);if(s!==-1){var i=o.slice(0,s),c=o.slice(s+1,n.length);xd(i)&&Dd(c)&&r.set(i,c)}return r},new Map),this._internalState.size>Li&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Li))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),Br="traceparent",jr="tracestate",Fd="00",Ud="(?!ff)[\\da-f]{2}",Bd="(?![0]{32})[\\da-f]{32}",jd="(?![0]{16})[\\da-f]{16}",Gd="[\\da-f]{2}",Hd=new RegExp("^\\s?("+Ud+")-("+Bd+")-("+jd+")-("+Gd+")(-.*)?\\s?$");function au(e){var t=Hd.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var cu=function(){function e(){}return e.prototype.inject=function(t,r,n){var o=F.getSpanContext(t);if(!(!o||Ot(t)||!Ve(o))){var s=Fd+"-"+o.traceId+"-"+o.spanId+"-0"+Number(o.traceFlags||te.NONE).toString(16);n.set(r,Br,s),o.traceState&&n.set(r,jr,o.traceState.serialize())}},e.prototype.extract=function(t,r,n){var o=n.get(r,Br);if(!o)return t;var s=Array.isArray(o)?o[0]:o;if(typeof s!="string")return t;var i=au(s);if(!i)return t;i.isRemote=!0;var c=n.get(r,jr);if(c){var a=Array.isArray(c)?c.join(","):c;i.traceState=new _n(typeof a=="string"?a:void 0)}return F.setSpanContext(t,i)},e.prototype.fields=function(){return[Br,jr]},e}(),Ds=xe("OpenTelemetry SDK Context Key RPC_METADATA"),jo;(function(e){e.HTTP="http"})(jo||(jo={}));function Vd(e,t){return e.setValue(Ds,t)}function qd(e){return e.deleteValue(Ds)}function Xd(e){return e.getValue(Ds)}var Go=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:$e.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),Gr=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:$e.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),zd=function(){function e(t){var r,n,o,s;this._root=t.root,this._root||(Et(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Gr),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Gr,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Go,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new Gr,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new Go}return e.prototype.shouldSample=function(t,r,n,o,s,i){var c=F.getSpanContext(t);return!c||!Ve(c)?this._root.shouldSample(t,r,n,o,s,i):c.isRemote?c.traceFlags&te.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,o,s,i):this._remoteParentNotSampled.shouldSample(t,r,n,o,s,i):c.traceFlags&te.SAMPLED?this._localParentSampled.shouldSample(t,r,n,o,s,i):this._localParentNotSampled.shouldSample(t,r,n,o,s,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),Yd=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,r){return{decision:fn(r)&&this._accumulate(r)<this._upperBound?$e.RECORD_AND_SAMPLED:$e.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var r=0,n=0;n<t.length/8;n++){var o=n*8,s=parseInt(t.slice(o,o+8),16);r=(r^s)>>>0}return r},e}(),Wd="[object Object]",Kd="[object Null]",Jd="[object Undefined]",Zd=Function.prototype,uu=Zd.toString,Qd=uu.call(Object),eh=th(Object.getPrototypeOf,Object),lu=Object.prototype,fu=lu.hasOwnProperty,We=Symbol?Symbol.toStringTag:void 0,pu=lu.toString;function th(e,t){return function(r){return e(t(r))}}function xi(e){if(!rh(e)||nh(e)!==Wd)return!1;var t=eh(e);if(t===null)return!0;var r=fu.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&uu.call(r)===Qd}function rh(e){return e!=null&&typeof e=="object"}function nh(e){return e==null?e===void 0?Jd:Kd:We&&We in Object(e)?oh(e):sh(e)}function oh(e){var t=fu.call(e,We),r=e[We],n=!1;try{e[We]=void 0,n=!0}catch{}var o=pu.call(e);return n&&(t?e[We]=r:delete e[We]),o}function sh(e){return pu.call(e)}var ih=20;function du(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=hu(r,e.shift(),0,n);return r}function qn(e){return Kr(e)?e.slice():e}function hu(e,t,r,n){r===void 0&&(r=0);var o;if(!(r>ih)){if(r++,Hr(e)||Hr(t)||_u(t))o=qn(t);else if(Kr(e)){if(o=e.slice(),Kr(t))for(var s=0,i=t.length;s<i;s++)o.push(qn(t[s]));else if($t(t))for(var c=Object.keys(t),s=0,i=c.length;s<i;s++){var a=c[s];o[a]=qn(t[a])}}else if($t(e))if($t(t)){if(!ah(e,t))return t;o=Object.assign({},e);for(var c=Object.keys(t),s=0,i=c.length;s<i;s++){var a=c[s],u=t[a];if(Hr(u))typeof u>"u"?delete o[a]:o[a]=u;else{var l=o[a],f=u;if(Di(e,a,n)||Di(t,a,n))delete o[a];else{if($t(l)&&$t(f)){var p=n.get(l)||[],d=n.get(f)||[];p.push({obj:e,key:a}),d.push({obj:t,key:a}),n.set(l,p),n.set(f,d)}o[a]=hu(o[a],u,r,n)}}}}else o=t;return o}}function Di(e,t,r){for(var n=r.get(e[t])||[],o=0,s=n.length;o<s;o++){var i=n[o];if(i.key===t&&i.obj===e)return!0}return!1}function Kr(e){return Array.isArray(e)}function _u(e){return typeof e=="function"}function $t(e){return!Hr(e)&&!Kr(e)&&!_u(e)&&typeof e=="object"}function Hr(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function ah(e,t){return!(!xi(e)||!xi(t))}var ch=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gu=function(e){ch(t,e);function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return t}(Error);function uh(e,t){var r,n=new Promise(function(s,i){r=setTimeout(function(){i(new gu("Operation timed out."))},t)});return Promise.race([e,n]).then(function(o){return clearTimeout(r),o},function(o){throw clearTimeout(r),o})}var lh=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function mu(e,t){return typeof t=="string"?e===t:!!e.match(t)}function fh(e,t){var r,n;if(!t)return!1;try{for(var o=lh(t),s=o.next();!s.done;s=o.next()){var i=s.value;if(mu(e,i))return!0}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return!1}function ph(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var dh=function(){function e(){var t=this;this._promise=new Promise(function(r,n){t._resolve=r,t._reject=n})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(t){this._resolve(t)},e.prototype.reject=function(t){this._reject(t)},e}(),hh=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},_h=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Eu=function(){function e(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new dh}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var t,r=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,_h([this._that],hh(n),!1))).then(function(s){return r._deferred.resolve(s)},function(s){return r._deferred.reject(s)})}catch(s){this._deferred.reject(s)}}return this._deferred.promise},e}();function gh(e,t){return new Promise(function(r){G.with(st(G.active()),function(){e.export(t,function(n){r(n)})})})}var mh={getKeyPairs:qc,serializeKeyPairs:Vc,parseKeyPairsIntoRecord:Bp,parsePairKeyValue:Cs},Eh={_export:gh};const vh=Object.freeze(Object.defineProperty({__proto__:null,AlwaysOffSampler:Go,AlwaysOnSampler:Gr,AnchoredClock:jp,BindOnceFuture:Eu,CompositePropagator:iu,DEFAULT_ATTRIBUTE_COUNT_LIMIT:Ht,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:Gt,DEFAULT_ENVIRONMENT:Ls,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Jc,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Zc,get ExportResultCode(){return Wr},ParentBasedSampler:zd,get RPCType(){return jo},RandomIdGenerator:cd,SDK_INFO:Ur,TRACE_PARENT_HEADER:Br,TRACE_STATE_HEADER:jr,TimeoutError:gu,TraceIdRatioBasedSampler:Yd,TraceState:_n,get TracesSamplerValues(){return he},VERSION:ru,W3CBaggagePropagator:Ns,W3CTraceContextPropagator:cu,_globalThis:sd,addHrTimes:xs,baggageUtils:mh,callWithTimeout:uh,deleteRPCMetadata:qd,getEnv:vt,getEnvWithoutDefaults:Qc,getRPCMetadata:Xd,getTimeOrigin:dn,globalErrorHandler:Et,hexToBase64:id,hexToBinary:eu,hrTime:Ms,hrTimeDuration:su,hrTimeToMicroseconds:Pd,hrTimeToMilliseconds:Id,hrTimeToNanoseconds:bd,hrTimeToTimeStamp:Ad,internal:Eh,isAttributeKey:zc,isAttributeValue:ws,isTimeInput:Uo,isTimeInputHrTime:hn,isTracingSuppressed:Ot,isUrlIgnored:fh,isWrapped:ph,loggingErrorHandler:Wc,merge:du,millisToHrTime:we,otperformance:Qe,parseEnvironment:$s,parseTraceParent:au,sanitizeAttributes:jt,setGlobalErrorHandler:Xp,setRPCMetadata:Vd,suppressTracing:st,timeInputToHrTime:Od,unrefTimer:nu,unsuppressTracing:Mp,urlMatches:mu},Symbol.toStringTag,{value:"Module"})),Sh=bs(vh);var Ho={exports:{}};const yh="2.0.0",vu=256,Th=Number.MAX_SAFE_INTEGER||9007199254740991,Rh=16,Oh=vu-6,Ah=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var gn={MAX_LENGTH:vu,MAX_SAFE_COMPONENT_LENGTH:Rh,MAX_SAFE_BUILD_LENGTH:Oh,MAX_SAFE_INTEGER:Th,RELEASE_TYPES:Ah,SEMVER_SPEC_VERSION:yh,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const bh=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var mn=bh;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:o}=gn,s=mn;t=e.exports={};const i=t.re=[],c=t.safeRe=[],a=t.src=[],u=t.safeSrc=[],l=t.t={};let f=0;const p="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",o],[p,n]],m=v=>{for(const[h,S]of d)v=v.split(`${h}*`).join(`${h}{0,${S}}`).split(`${h}+`).join(`${h}{1,${S}}`);return v},_=(v,h,S)=>{const g=m(h),y=f++;s(v,y,h),l[v]=y,a[y]=h,u[y]=g,i[y]=new RegExp(h,S?"g":void 0),c[y]=new RegExp(g,S?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),_("MAINVERSION",`(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${a[l.NONNUMERICIDENTIFIER]}|${a[l.NUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${a[l.NONNUMERICIDENTIFIER]}|${a[l.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASE",`(?:-(${a[l.PRERELEASEIDENTIFIER]}(?:\\.${a[l.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${a[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[l.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${p}+`),_("BUILD",`(?:\\+(${a[l.BUILDIDENTIFIER]}(?:\\.${a[l.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${a[l.MAINVERSION]}${a[l.PRERELEASE]}?${a[l.BUILD]}?`),_("FULL",`^${a[l.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${a[l.MAINVERSIONLOOSE]}${a[l.PRERELEASELOOSE]}?${a[l.BUILD]}?`),_("LOOSE",`^${a[l.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${a[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${a[l.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:${a[l.PRERELEASE]})?${a[l.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:${a[l.PRERELEASELOOSE]})?${a[l.BUILD]}?)?)?`),_("XRANGE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),_("COERCE",`${a[l.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",a[l.COERCEPLAIN]+`(?:${a[l.PRERELEASE]})?(?:${a[l.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",a[l.COERCE],!0),_("COERCERTLFULL",a[l.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${a[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",_("TILDE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${a[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",_("CARET",`^${a[l.LONECARET]}${a[l.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${a[l.LONECARET]}${a[l.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${a[l.GTLT]}\\s*(${a[l.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]}|${a[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${a[l.XRANGEPLAIN]})\\s+-\\s+(${a[l.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${a[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[l.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ho,Ho.exports);var nr=Ho.exports;const Ih=Object.freeze({loose:!0}),Ph=Object.freeze({}),Ch=e=>e?typeof e!="object"?Ih:e:Ph;var ks=Ch;const ki=/^[0-9]+$/,Su=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const r=ki.test(e),n=ki.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Nh=(e,t)=>Su(t,e);var yu={compareIdentifiers:Su,rcompareIdentifiers:Nh};const yr=mn,{MAX_LENGTH:Fi,MAX_SAFE_INTEGER:Tr}=gn,{safeRe:Rr,t:Or}=nr,wh=ks,{compareIdentifiers:Xn}=yu;let Lh=class Te{constructor(t,r){if(r=wh(r),t instanceof Te){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Fi)throw new TypeError(`version is longer than ${Fi} characters`);yr("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Rr[Or.LOOSE]:Rr[Or.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Tr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Tr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Tr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const s=+o;if(s>=0&&s<Tr)return s}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(yr("SemVer.compare",this.version,this.options,t),!(t instanceof Te)){if(typeof t=="string"&&t===this.version)return 0;t=new Te(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Te||(t=new Te(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof Te||(t=new Te(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],o=t.prerelease[r];if(yr("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Xn(n,o)}while(++r)}compareBuild(t){t instanceof Te||(t=new Te(t,this.options));let r=0;do{const n=this.build[r],o=t.build[r];if(yr("build compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return Xn(n,o)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const o=`-${r}`.match(this.options.loose?Rr[Or.PRERELEASELOOSE]:Rr[Or.PRERELEASE]);if(!o||o[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const o=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[o];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(r){let s=[r,o];n===!1&&(s=[r]),Xn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ie=Lh;const Ui=ie,$h=(e,t,r=!1)=>{if(e instanceof Ui)return e;try{return new Ui(e,t)}catch(n){if(!r)return null;throw n}};var At=$h;const Mh=At,xh=(e,t)=>{const r=Mh(e,t);return r?r.version:null};var Dh=xh;const kh=At,Fh=(e,t)=>{const r=kh(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Uh=Fh;const Bi=ie,Bh=(e,t,r,n,o)=>{typeof r=="string"&&(o=n,n=r,r=void 0);try{return new Bi(e instanceof Bi?e.version:e,r).inc(t,n,o).version}catch{return null}};var jh=Bh;const ji=At,Gh=(e,t)=>{const r=ji(e,null,!0),n=ji(t,null,!0),o=r.compare(n);if(o===0)return null;const s=o>0,i=s?r:n,c=s?n:r,a=!!i.prerelease.length;if(!!c.prerelease.length&&!a){if(!c.patch&&!c.minor)return"major";if(c.compareMain(i)===0)return c.minor&&!c.patch?"minor":"patch"}const l=a?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};var Hh=Gh;const Vh=ie,qh=(e,t)=>new Vh(e,t).major;var Xh=qh;const zh=ie,Yh=(e,t)=>new zh(e,t).minor;var Wh=Yh;const Kh=ie,Jh=(e,t)=>new Kh(e,t).patch;var Zh=Jh;const Qh=At,e_=(e,t)=>{const r=Qh(e,t);return r&&r.prerelease.length?r.prerelease:null};var t_=e_;const Gi=ie,r_=(e,t,r)=>new Gi(e,r).compare(new Gi(t,r));var Ee=r_;const n_=Ee,o_=(e,t,r)=>n_(t,e,r);var s_=o_;const i_=Ee,a_=(e,t)=>i_(e,t,!0);var c_=a_;const Hi=ie,u_=(e,t,r)=>{const n=new Hi(e,r),o=new Hi(t,r);return n.compare(o)||n.compareBuild(o)};var Fs=u_;const l_=Fs,f_=(e,t)=>e.sort((r,n)=>l_(r,n,t));var p_=f_;const d_=Fs,h_=(e,t)=>e.sort((r,n)=>d_(n,r,t));var __=h_;const g_=Ee,m_=(e,t,r)=>g_(e,t,r)>0;var En=m_;const E_=Ee,v_=(e,t,r)=>E_(e,t,r)<0;var Us=v_;const S_=Ee,y_=(e,t,r)=>S_(e,t,r)===0;var Tu=y_;const T_=Ee,R_=(e,t,r)=>T_(e,t,r)!==0;var Ru=R_;const O_=Ee,A_=(e,t,r)=>O_(e,t,r)>=0;var Bs=A_;const b_=Ee,I_=(e,t,r)=>b_(e,t,r)<=0;var js=I_;const P_=Tu,C_=Ru,N_=En,w_=Bs,L_=Us,$_=js,M_=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return P_(e,r,n);case"!=":return C_(e,r,n);case">":return N_(e,r,n);case">=":return w_(e,r,n);case"<":return L_(e,r,n);case"<=":return $_(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Ou=M_;const x_=ie,D_=At,{safeRe:Ar,t:br}=nr,k_=(e,t)=>{if(e instanceof x_)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Ar[br.COERCEFULL]:Ar[br.COERCE]);else{const a=t.includePrerelease?Ar[br.COERCERTLFULL]:Ar[br.COERCERTL];let u;for(;(u=a.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),a.lastIndex=u.index+u[1].length+u[2].length;a.lastIndex=-1}if(r===null)return null;const n=r[2],o=r[3]||"0",s=r[4]||"0",i=t.includePrerelease&&r[5]?`-${r[5]}`:"",c=t.includePrerelease&&r[6]?`+${r[6]}`:"";return D_(`${n}.${o}.${s}${i}${c}`,t)};var F_=k_;class U_{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(t,r)}return this}}var B_=U_,zn,Vi;function ve(){if(Vi)return zn;Vi=1;const e=/\s+/g;class t{constructor(T,I){if(I=o(I),T instanceof t)return T.loose===!!I.loose&&T.includePrerelease===!!I.includePrerelease?T:new t(T.raw,I);if(T instanceof s)return this.raw=T.value,this.set=[[T]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=T.trim().replace(e," "),this.set=this.raw.split("||").map(b=>this.parseRange(b.trim())).filter(b=>b.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const b=this.set[0];if(this.set=this.set.filter(C=>!_(C[0])),this.set.length===0)this.set=[b];else if(this.set.length>1){for(const C of this.set)if(C.length===1&&v(C[0])){this.set=[C];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let T=0;T<this.set.length;T++){T>0&&(this.formatted+="||");const I=this.set[T];for(let b=0;b<I.length;b++)b>0&&(this.formatted+=" "),this.formatted+=I[b].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(T){const b=((this.options.includePrerelease&&d)|(this.options.loose&&m))+":"+T,C=n.get(b);if(C)return C;const A=this.options.loose,$=A?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];T=T.replace($,Ie(this.options.includePrerelease)),i("hyphen replace",T),T=T.replace(a[u.COMPARATORTRIM],l),i("comparator trim",T),T=T.replace(a[u.TILDETRIM],f),i("tilde trim",T),T=T.replace(a[u.CARETTRIM],p),i("caret trim",T);let k=T.split(" ").map(w=>S(w,this.options)).join(" ").split(/\s+/).map(w=>pe(w,this.options));A&&(k=k.filter(w=>(i("loose invalid filter",w,this.options),!!w.match(a[u.COMPARATORLOOSE])))),i("range list",k);const L=new Map,P=k.map(w=>new s(w,this.options));for(const w of P){if(_(w))return[w];L.set(w.value,w)}L.size>1&&L.has("")&&L.delete("");const U=[...L.values()];return n.set(b,U),U}intersects(T,I){if(!(T instanceof t))throw new TypeError("a Range is required");return this.set.some(b=>h(b,I)&&T.set.some(C=>h(C,I)&&b.every(A=>C.every($=>A.intersects($,I)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new c(T,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if(at(this.set[I],T,this.options))return!0;return!1}}zn=t;const r=B_,n=new r,o=ks,s=vn(),i=mn,c=ie,{safeRe:a,t:u,comparatorTrimReplace:l,tildeTrimReplace:f,caretTrimReplace:p}=nr,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:m}=gn,_=O=>O.value==="<0.0.0-0",v=O=>O.value==="",h=(O,T)=>{let I=!0;const b=O.slice();let C=b.pop();for(;I&&b.length;)I=b.every(A=>C.intersects(A,T)),C=b.pop();return I},S=(O,T)=>(O=O.replace(a[u.BUILD],""),i("comp",O,T),O=j(O,T),i("caret",O),O=y(O,T),i("tildes",O),O=ce(O,T),i("xrange",O),O=J(O,T),i("stars",O),O),g=O=>!O||O.toLowerCase()==="x"||O==="*",y=(O,T)=>O.trim().split(/\s+/).map(I=>E(I,T)).join(" "),E=(O,T)=>{const I=T.loose?a[u.TILDELOOSE]:a[u.TILDE];return O.replace(I,(b,C,A,$,k)=>{i("tilde",O,b,C,A,$,k);let L;return g(C)?L="":g(A)?L=`>=${C}.0.0 <${+C+1}.0.0-0`:g($)?L=`>=${C}.${A}.0 <${C}.${+A+1}.0-0`:k?(i("replaceTilde pr",k),L=`>=${C}.${A}.${$}-${k} <${C}.${+A+1}.0-0`):L=`>=${C}.${A}.${$} <${C}.${+A+1}.0-0`,i("tilde return",L),L})},j=(O,T)=>O.trim().split(/\s+/).map(I=>H(I,T)).join(" "),H=(O,T)=>{i("caret",O,T);const I=T.loose?a[u.CARETLOOSE]:a[u.CARET],b=T.includePrerelease?"-0":"";return O.replace(I,(C,A,$,k,L)=>{i("caret",O,C,A,$,k,L);let P;return g(A)?P="":g($)?P=`>=${A}.0.0${b} <${+A+1}.0.0-0`:g(k)?A==="0"?P=`>=${A}.${$}.0${b} <${A}.${+$+1}.0-0`:P=`>=${A}.${$}.0${b} <${+A+1}.0.0-0`:L?(i("replaceCaret pr",L),A==="0"?$==="0"?P=`>=${A}.${$}.${k}-${L} <${A}.${$}.${+k+1}-0`:P=`>=${A}.${$}.${k}-${L} <${A}.${+$+1}.0-0`:P=`>=${A}.${$}.${k}-${L} <${+A+1}.0.0-0`):(i("no pr"),A==="0"?$==="0"?P=`>=${A}.${$}.${k}${b} <${A}.${$}.${+k+1}-0`:P=`>=${A}.${$}.${k}${b} <${A}.${+$+1}.0-0`:P=`>=${A}.${$}.${k} <${+A+1}.0.0-0`),i("caret return",P),P})},ce=(O,T)=>(i("replaceXRanges",O,T),O.split(/\s+/).map(I=>Q(I,T)).join(" ")),Q=(O,T)=>{O=O.trim();const I=T.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return O.replace(I,(b,C,A,$,k,L)=>{i("xRange",O,b,C,A,$,k,L);const P=g(A),U=P||g($),w=U||g(k),ne=w;return C==="="&&ne&&(C=""),L=T.includePrerelease?"-0":"",P?C===">"||C==="<"?b="<0.0.0-0":b="*":C&&ne?(U&&($=0),k=0,C===">"?(C=">=",U?(A=+A+1,$=0,k=0):($=+$+1,k=0)):C==="<="&&(C="<",U?A=+A+1:$=+$+1),C==="<"&&(L="-0"),b=`${C+A}.${$}.${k}${L}`):U?b=`>=${A}.0.0${L} <${+A+1}.0.0-0`:w&&(b=`>=${A}.${$}.0${L} <${A}.${+$+1}.0-0`),i("xRange return",b),b})},J=(O,T)=>(i("replaceStars",O,T),O.trim().replace(a[u.STAR],"")),pe=(O,T)=>(i("replaceGTE0",O,T),O.trim().replace(a[T.includePrerelease?u.GTE0PRE:u.GTE0],"")),Ie=O=>(T,I,b,C,A,$,k,L,P,U,w,ne)=>(g(b)?I="":g(C)?I=`>=${b}.0.0${O?"-0":""}`:g(A)?I=`>=${b}.${C}.0${O?"-0":""}`:$?I=`>=${I}`:I=`>=${I}${O?"-0":""}`,g(P)?L="":g(U)?L=`<${+P+1}.0.0-0`:g(w)?L=`<${P}.${+U+1}.0-0`:ne?L=`<=${P}.${U}.${w}-${ne}`:O?L=`<${P}.${U}.${+w+1}-0`:L=`<=${L}`,`${I} ${L}`.trim()),at=(O,T,I)=>{for(let b=0;b<O.length;b++)if(!O[b].test(T))return!1;if(T.prerelease.length&&!I.includePrerelease){for(let b=0;b<O.length;b++)if(i(O[b].semver),O[b].semver!==s.ANY&&O[b].semver.prerelease.length>0){const C=O[b].semver;if(C.major===T.major&&C.minor===T.minor&&C.patch===T.patch)return!0}return!1}return!0};return zn}var Yn,qi;function vn(){if(qi)return Yn;qi=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,f){if(f=r(f),l instanceof t){if(l.loose===!!f.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),i("comparator",l,f),this.options=f,this.loose=!!f.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(l){const f=this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],p=l.match(f);if(!p)throw new TypeError(`Invalid comparator: ${l}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new c(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(i("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new c(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,f){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a(l.value,f).test(this.value):l.operator===""?l.value===""?!0:new a(this.value,f).test(l.semver):(f=r(f),f.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,f)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,f)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Yn=t;const r=ks,{safeRe:n,t:o}=nr,s=Ou,i=mn,c=ie,a=ve();return Yn}const j_=ve(),G_=(e,t,r)=>{try{t=new j_(t,r)}catch{return!1}return t.test(e)};var Sn=G_;const H_=ve(),V_=(e,t)=>new H_(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var q_=V_;const X_=ie,z_=ve(),Y_=(e,t,r)=>{let n=null,o=null,s=null;try{s=new z_(t,r)}catch{return null}return e.forEach(i=>{s.test(i)&&(!n||o.compare(i)===-1)&&(n=i,o=new X_(n,r))}),n};var W_=Y_;const K_=ie,J_=ve(),Z_=(e,t,r)=>{let n=null,o=null,s=null;try{s=new J_(t,r)}catch{return null}return e.forEach(i=>{s.test(i)&&(!n||o.compare(i)===1)&&(n=i,o=new K_(n,r))}),n};var Q_=Z_;const Wn=ie,eg=ve(),Xi=En,tg=(e,t)=>{e=new eg(e,t);let r=new Wn("0.0.0");if(e.test(r)||(r=new Wn("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const o=e.set[n];let s=null;o.forEach(i=>{const c=new Wn(i.semver.version);switch(i.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||Xi(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),s&&(!r||Xi(r,s))&&(r=s)}return r&&e.test(r)?r:null};var rg=tg;const ng=ve(),og=(e,t)=>{try{return new ng(e,t).range||"*"}catch{return null}};var sg=og;const ig=ie,Au=vn(),{ANY:ag}=Au,cg=ve(),ug=Sn,zi=En,Yi=Us,lg=js,fg=Bs,pg=(e,t,r,n)=>{e=new ig(e,n),t=new cg(t,n);let o,s,i,c,a;switch(r){case">":o=zi,s=lg,i=Yi,c=">",a=">=";break;case"<":o=Yi,s=fg,i=zi,c="<",a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ug(e,t,n))return!1;for(let u=0;u<t.set.length;++u){const l=t.set[u];let f=null,p=null;if(l.forEach(d=>{d.semver===ag&&(d=new Au(">=0.0.0")),f=f||d,p=p||d,o(d.semver,f.semver,n)?f=d:i(d.semver,p.semver,n)&&(p=d)}),f.operator===c||f.operator===a||(!p.operator||p.operator===c)&&s(e,p.semver))return!1;if(p.operator===a&&i(e,p.semver))return!1}return!0};var Gs=pg;const dg=Gs,hg=(e,t,r)=>dg(e,t,">",r);var _g=hg;const gg=Gs,mg=(e,t,r)=>gg(e,t,"<",r);var Eg=mg;const Wi=ve(),vg=(e,t,r)=>(e=new Wi(e,r),t=new Wi(t,r),e.intersects(t,r));var Sg=vg;const yg=Sn,Tg=Ee;var Rg=(e,t,r)=>{const n=[];let o=null,s=null;const i=e.sort((l,f)=>Tg(l,f,r));for(const l of i)yg(l,t,r)?(s=l,o||(o=l)):(s&&n.push([o,s]),s=null,o=null);o&&n.push([o,null]);const c=[];for(const[l,f]of n)l===f?c.push(l):!f&&l===i[0]?c.push("*"):f?l===i[0]?c.push(`<=${f}`):c.push(`${l} - ${f}`):c.push(`>=${l}`);const a=c.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return a.length<u.length?a:t};const Ki=ve(),Hs=vn(),{ANY:Kn}=Hs,Mt=Sn,Vs=Ee,Og=(e,t,r={})=>{if(e===t)return!0;e=new Ki(e,r),t=new Ki(t,r);let n=!1;e:for(const o of e.set){for(const s of t.set){const i=bg(o,s,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},Ag=[new Hs(">=0.0.0-0")],Ji=[new Hs(">=0.0.0")],bg=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Kn){if(t.length===1&&t[0].semver===Kn)return!0;r.includePrerelease?e=Ag:e=Ji}if(t.length===1&&t[0].semver===Kn){if(r.includePrerelease)return!0;t=Ji}const n=new Set;let o,s;for(const d of e)d.operator===">"||d.operator===">="?o=Zi(o,d,r):d.operator==="<"||d.operator==="<="?s=Qi(s,d,r):n.add(d.semver);if(n.size>1)return null;let i;if(o&&s){if(i=Vs(o.semver,s.semver,r),i>0)return null;if(i===0&&(o.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(o&&!Mt(d,String(o),r)||s&&!Mt(d,String(s),r))return null;for(const m of t)if(!Mt(d,String(m),r))return!1;return!0}let c,a,u,l,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const d of t){if(l=l||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",o){if(p&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===p.major&&d.semver.minor===p.minor&&d.semver.patch===p.patch&&(p=!1),d.operator===">"||d.operator===">="){if(c=Zi(o,d,r),c===d&&c!==o)return!1}else if(o.operator===">="&&!Mt(o.semver,String(d),r))return!1}if(s){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator==="<"||d.operator==="<="){if(a=Qi(s,d,r),a===d&&a!==s)return!1}else if(s.operator==="<="&&!Mt(s.semver,String(d),r))return!1}if(!d.operator&&(s||o)&&i!==0)return!1}return!(o&&u&&!s&&i!==0||s&&l&&!o&&i!==0||p||f)},Zi=(e,t,r)=>{if(!e)return t;const n=Vs(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Qi=(e,t,r)=>{if(!e)return t;const n=Vs(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var Ig=Og;const Jn=nr,ea=gn,Pg=ie,ta=yu,Cg=At,Ng=Dh,wg=Uh,Lg=jh,$g=Hh,Mg=Xh,xg=Wh,Dg=Zh,kg=t_,Fg=Ee,Ug=s_,Bg=c_,jg=Fs,Gg=p_,Hg=__,Vg=En,qg=Us,Xg=Tu,zg=Ru,Yg=Bs,Wg=js,Kg=Ou,Jg=F_,Zg=vn(),Qg=ve(),em=Sn,tm=q_,rm=W_,nm=Q_,om=rg,sm=sg,im=Gs,am=_g,cm=Eg,um=Sg,lm=Rg,fm=Ig;var pm={parse:Cg,valid:Ng,clean:wg,inc:Lg,diff:$g,major:Mg,minor:xg,patch:Dg,prerelease:kg,compare:Fg,rcompare:Ug,compareLoose:Bg,compareBuild:jg,sort:Gg,rsort:Hg,gt:Vg,lt:qg,eq:Xg,neq:zg,gte:Yg,lte:Wg,cmp:Kg,coerce:Jg,Comparator:Zg,Range:Qg,satisfies:em,toComparators:tm,maxSatisfying:rm,minSatisfying:nm,minVersion:om,validRange:sm,outside:im,gtr:am,ltr:cm,intersects:um,simplifyRange:lm,subset:fm,SemVer:Pg,re:Jn.re,src:Jn.src,tokens:Jn.t,SEMVER_SPEC_VERSION:ea.SEMVER_SPEC_VERSION,RELEASE_TYPES:ea.RELEASE_TYPES,compareIdentifiers:ta.compareIdentifiers,rcompareIdentifiers:ta.rcompareIdentifiers},bu=function(){function e(){}return e.prototype.emit=function(t){},e}(),dm=new bu,hm=function(){function e(){}return e.prototype.getLogger=function(t,r,n){return new bu},e}(),Iu=new hm,_m=function(){function e(t,r,n,o){this._provider=t,this.name=r,this.version=n,this.options=o}return e.prototype.emit=function(t){this._getLogger().emit(t)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateLogger(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):dm},e}(),ra=function(){function e(){}return e.prototype.getLogger=function(t,r,n){var o;return(o=this.getDelegateLogger(t,r,n))!==null&&o!==void 0?o:new _m(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:Iu},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateLogger=function(t,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getLogger(t,r,n)},e}(),gm=typeof globalThis=="object"?globalThis:global,Ir=Symbol.for("io.opentelemetry.js.api.logs"),xt=gm;function mm(e,t,r){return function(n){return n===e?t:r}}var na=1,Em=function(){function e(){this._proxyLoggerProvider=new ra}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(t){return xt[Ir]?this.getLoggerProvider():(xt[Ir]=mm(na,t,Iu),this._proxyLoggerProvider.setDelegate(t),t)},e.prototype.getLoggerProvider=function(){var t,r;return(r=(t=xt[Ir])===null||t===void 0?void 0:t.call(xt,na))!==null&&r!==void 0?r:this._proxyLoggerProvider},e.prototype.getLogger=function(t,r,n){return this.getLoggerProvider().getLogger(t,r,n)},e.prototype.disable=function(){delete xt[Ir],this._proxyLoggerProvider=new ra},e}(),Pu=Em.getInstance();function vm(e,t,r,n){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),r&&i.setMeterProvider(r),n&&i.setLoggerProvider&&i.setLoggerProvider(n),i.getConfig().enabled||i.enable()}}function Sm(e){e.forEach(function(t){return t.disable()})}function yn(e){var t,r,n=e.tracerProvider||F.getTracerProvider(),o=e.meterProvider||pn.getMeterProvider(),s=e.loggerProvider||Pu.getLoggerProvider(),i=(r=(t=e.instrumentations)===null||t===void 0?void 0:t.flat())!==null&&r!==void 0?r:[];return vm(i,n,o,s),function(){Sm(i)}}function Vo(e){return typeof e=="function"}var se=console.error.bind(console);function Dt(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function or(e){e&&e.logger&&(Vo(e.logger)?se=e.logger:se("new logger isn't a function, not replacing"))}function Cu(e,t,r){if(!e||!e[t]){se("no original function "+t+" to wrap");return}if(!r){se("no wrapper function"),se(new Error().stack);return}if(!Vo(e[t])||!Vo(r)){se("original object and wrapper must be functions");return}var n=e[t],o=r(n,t);return Dt(o,"__original",n),Dt(o,"__unwrap",function(){e[t]===o&&Dt(e,t,n)}),Dt(o,"__wrapped",!0),Dt(e,t,o),o}function ym(e,t,r){if(e)Array.isArray(e)||(e=[e]);else{se("must provide one or more modules to patch"),se(new Error().stack);return}if(!(t&&Array.isArray(t))){se("must provide one or more functions to wrap on modules");return}e.forEach(function(n){t.forEach(function(o){Cu(n,o,r)})})}function Nu(e,t){if(!e||!e[t]){se("no function to unwrap."),se(new Error().stack);return}if(!e[t].__unwrap)se("no original to unwrap to -- has "+t+" already been unwrapped?");else return e[t].__unwrap()}function Tm(e,t){if(e)Array.isArray(e)||(e=[e]);else{se("must provide one or more modules to patch"),se(new Error().stack);return}if(!(t&&Array.isArray(t))){se("must provide one or more functions to unwrap on modules");return}e.forEach(function(r){t.forEach(function(n){Nu(r,n)})})}or.wrap=Cu;or.massWrap=ym;or.unwrap=Nu;or.massUnwrap=Tm;var Ze=or,qo=function(){return qo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},qo.apply(this,arguments)},Rm=function(){function e(t,r,n){this.instrumentationName=t,this.instrumentationVersion=r,this._config={},this._wrap=Ze.wrap,this._unwrap=Ze.unwrap,this._massWrap=Ze.massWrap,this._massUnwrap=Ze.massUnwrap,this.setConfig(n),this._diag=x.createComponentLogger({namespace:t}),this._tracer=F.getTracer(t,r),this._meter=pn.getMeter(t,r),this._logger=Pu.getLogger(t,r),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var t,r=(t=this.init())!==null&&t!==void 0?t:[];return Array.isArray(r)?r:[r]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(t){this._config=qo({enabled:!0},t)},e.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(t,r,n,o){if(t)try{t(n,o)}catch(s){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},s)}},e}(),wu={exports:{}},Xo={exports:{}},Pr={exports:{}},Zn,oa;function Om(){if(oa)return Zn;oa=1;var e=1e3,t=e*60,r=t*60,n=r*24,o=n*7,s=n*365.25;Zn=function(l,f){f=f||{};var p=typeof l;if(p==="string"&&l.length>0)return i(l);if(p==="number"&&isFinite(l))return f.long?a(l):c(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function i(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var p=parseFloat(f[1]),d=(f[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return p*s;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*n;case"hours":case"hour":case"hrs":case"hr":case"h":return p*r;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function c(l){var f=Math.abs(l);return f>=n?Math.round(l/n)+"d":f>=r?Math.round(l/r)+"h":f>=t?Math.round(l/t)+"m":f>=e?Math.round(l/e)+"s":l+"ms"}function a(l){var f=Math.abs(l);return f>=n?u(l,f,n,"day"):f>=r?u(l,f,r,"hour"):f>=t?u(l,f,t,"minute"):f>=e?u(l,f,e,"second"):l+" ms"}function u(l,f,p,d){var m=f>=p*1.5;return Math.round(l/p)+" "+d+(m?"s":"")}return Zn}var Qn,sa;function Lu(){if(sa)return Qn;sa=1;function e(t){n.debug=n,n.default=n,n.coerce=u,n.disable=c,n.enable=s,n.enabled=a,n.humanize=Om(),n.destroy=l,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let p=0;for(let d=0;d<f.length;d++)p=(p<<5)-p+f.charCodeAt(d),p|=0;return n.colors[Math.abs(p)%n.colors.length]}n.selectColor=r;function n(f){let p,d=null,m,_;function v(...h){if(!v.enabled)return;const S=v,g=Number(new Date),y=g-(p||g);S.diff=y,S.prev=p,S.curr=g,p=g,h[0]=n.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let E=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(H,ce)=>{if(H==="%%")return"%";E++;const Q=n.formatters[ce];if(typeof Q=="function"){const J=h[E];H=Q.call(S,J),h.splice(E,1),E--}return H}),n.formatArgs.call(S,h),(S.log||n.log).apply(S,h)}return v.namespace=f,v.useColors=n.useColors(),v.color=n.selectColor(f),v.extend=o,v.destroy=n.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(m!==n.namespaces&&(m=n.namespaces,_=n.enabled(f)),_),set:h=>{d=h}}),typeof n.init=="function"&&n.init(v),v}function o(f,p){const d=n(this.namespace+(typeof p>"u"?":":p)+f);return d.log=this.log,d}function s(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];const p=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of p)d[0]==="-"?n.skips.push(d.slice(1)):n.names.push(d)}function i(f,p){let d=0,m=0,_=-1,v=0;for(;d<f.length;)if(m<p.length&&(p[m]===f[d]||p[m]==="*"))p[m]==="*"?(_=m,v=d,m++):(d++,m++);else if(_!==-1)m=_+1,v++,d=v;else return!1;for(;m<p.length&&p[m]==="*";)m++;return m===p.length}function c(){const f=[...n.names,...n.skips.map(p=>"-"+p)].join(",");return n.enable(""),f}function a(f){for(const p of n.skips)if(i(f,p))return!1;for(const p of n.names)if(i(f,p))return!0;return!1}function u(f){return f instanceof Error?f.stack||f.message:f}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Qn=e,Qn}var ia;function Am(){return ia||(ia=1,function(e,t){t.formatArgs=n,t.save=o,t.load=s,t.useColors=r,t.storage=i(),t.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let a;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(a=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;a.splice(1,0,u,"color: inherit");let l=0,f=0;a[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(l++,p==="%c"&&(f=l))}),a.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(a){try{a?t.storage.setItem("debug",a):t.storage.removeItem("debug")}catch{}}function s(){let a;try{a=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!a&&typeof process<"u"&&"env"in process&&(a=process.env.DEBUG),a}function i(){try{return localStorage}catch{}}e.exports=Lu()(t);const{formatters:c}=e.exports;c.j=function(a){try{return JSON.stringify(a)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(Pr,Pr.exports)),Pr.exports}var Cr={exports:{}},eo,aa;function bm(){return aa||(aa=1,eo=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return n!==-1&&(o===-1?!0:n<o)}),eo}var to,ca;function Im(){if(ca)return to;ca=1;const e=Mc,t=bm(),r=process.env;let n;t("no-color")||t("no-colors")||t("color=false")?n=!1:(t("color")||t("colors")||t("color=true")||t("color=always"))&&(n=!0),"FORCE_COLOR"in r&&(n=r.FORCE_COLOR.length===0||parseInt(r.FORCE_COLOR,10)!==0);function o(c){return c===0?!1:{level:c,hasBasic:!0,has256:c>=2,has16m:c>=3}}function s(c){if(n===!1)return 0;if(t("color=16m")||t("color=full")||t("color=truecolor"))return 3;if(t("color=256"))return 2;if(c&&!c.isTTY&&n!==!0)return 0;const a=n?1:0;if(process.platform==="win32"){const u=e.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(u[0])>=10&&Number(u[2])>=10586?Number(u[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(u=>u in r)||r.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if(r.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in r){const u=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return u>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM==="dumb",a)}function i(c){const a=s(c);return o(a)}return to={supportsColor:i,stdout:i(process.stdout),stderr:i(process.stderr)},to}var ua;function Pm(){return ua||(ua=1,function(e,t){const r=df,n=wo;t.init=l,t.log=c,t.formatArgs=s,t.save=a,t.load=u,t.useColors=o,t.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const p=Im();p&&(p.stderr||p).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter(p=>/^debug_/i.test(p)).reduce((p,d)=>{const m=d.substring(6).toLowerCase().replace(/_([a-z])/g,(v,h)=>h.toUpperCase());let _=process.env[d];return/^(yes|on|true|enabled)$/i.test(_)?_=!0:/^(no|off|false|disabled)$/i.test(_)?_=!1:_==="null"?_=null:_=Number(_),p[m]=_,p},{});function o(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:r.isatty(process.stderr.fd)}function s(p){const{namespace:d,useColors:m}=this;if(m){const _=this.color,v="\x1B[3"+(_<8?_:"8;5;"+_),h=`  ${v};1m${d} \x1B[0m`;p[0]=h+p[0].split(`
`).join(`
`+h),p.push(v+"m+"+e.exports.humanize(this.diff)+"\x1B[0m")}else p[0]=i()+d+" "+p[0]}function i(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function c(...p){return process.stderr.write(n.formatWithOptions(t.inspectOpts,...p)+`
`)}function a(p){p?process.env.DEBUG=p:delete process.env.DEBUG}function u(){return process.env.DEBUG}function l(p){p.inspectOpts={};const d=Object.keys(t.inspectOpts);for(let m=0;m<d.length;m++)p.inspectOpts[d[m]]=t.inspectOpts[d[m]]}e.exports=Lu()(t);const{formatters:f}=e.exports;f.o=function(p){return this.inspectOpts.colors=this.useColors,n.inspect(p,this.inspectOpts).split(`
`).map(d=>d.trim()).join(" ")},f.O=function(p){return this.inspectOpts.colors=this.useColors,n.inspect(p,this.inspectOpts)}}(Cr,Cr.exports)),Cr.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Xo.exports=Am():Xo.exports=Pm();var Cm=Xo.exports,ro=He.sep,$u=function(e){var t=e.split(ro),r=t.lastIndexOf("node_modules");if(r!==-1&&t[r+1]){for(var n=t[r+1][0]==="@",o=n?t[r+1]+"/"+t[r+2]:t[r+1],s=n?3:2,i="",c=r+s-1,a=0;a<=c;a++)a===c?i+=t[a]:i+=t[a]+ro;for(var u="",l=t.length-1,f=r+s;f<=l;f++)f===l?u+=t[f]:u+=t[f]+ro;return{name:o,basedir:i,path:u}}},no,la;function Mu(){if(la)return no;la=1;var e=Mc;return no=e.homedir||function(){var r=process.env.HOME,n=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||r||null:process.platform==="darwin"?r||(n?"/Users/"+n:null):process.platform==="linux"?r||(process.getuid()===0?"/root":n?"/home/"+n:null):r||null},no}var oo,fa;function xu(){return fa||(fa=1,oo=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(r,n){return n};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}),oo}var lt={exports:{}},pa;function Nm(){if(pa)return lt.exports;pa=1;var e=process.platform==="win32",t=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,r={};function n(c){return t.exec(c).slice(1)}r.parse=function(c){if(typeof c!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof c);var a=n(c);if(!a||a.length!==5)throw new TypeError("Invalid path '"+c+"'");return{root:a[1],dir:a[0]===a[1]?a[0]:a[0].slice(0,-1),base:a[2],ext:a[4],name:a[3]}};var o=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,s={};function i(c){return o.exec(c).slice(1)}return s.parse=function(c){if(typeof c!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof c);var a=i(c);if(!a||a.length!==5)throw new TypeError("Invalid path '"+c+"'");return{root:a[1],dir:a[0].slice(0,-1),base:a[2],ext:a[4],name:a[3]}},e?lt.exports=r.parse:lt.exports=s.parse,lt.exports.posix=s.parse,lt.exports.win32=r.parse,lt.exports}var so,da;function Du(){if(da)return so;da=1;var e=He,t=e.parse||Nm(),r=function(o,s){var i="/";/^([A-Za-z]:)/.test(o)?i="":/^\\\\/.test(o)&&(i="\\\\");for(var c=[o],a=t(o);a.dir!==c[c.length-1];)c.push(a.dir),a=t(a.dir);return c.reduce(function(u,l){return u.concat(s.map(function(f){return e.resolve(i,l,f)}))},[])};return so=function(o,s,i){var c=s&&s.moduleDirectory?[].concat(s.moduleDirectory):["node_modules"];if(s&&typeof s.paths=="function")return s.paths(i,o,function(){return r(o,c)},s);var a=r(o,c);return s&&s.paths?a.concat(s.paths):a},so}var io,ha;function ku(){return ha||(ha=1,io=function(e,t){return t||{}}),io}var ao,_a;function wm(){if(_a)return ao;_a=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",o=function(a,u){for(var l=[],f=0;f<a.length;f+=1)l[f]=a[f];for(var p=0;p<u.length;p+=1)l[p+a.length]=u[p];return l},s=function(a,u){for(var l=[],f=u,p=0;f<a.length;f+=1,p+=1)l[p]=a[f];return l},i=function(c,a){for(var u="",l=0;l<c.length;l+=1)u+=c[l],l+1<c.length&&(u+=a);return u};return ao=function(a){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var l=s(arguments,1),f,p=function(){if(this instanceof f){var h=u.apply(this,o(l,arguments));return Object(h)===h?h:this}return u.apply(a,o(l,arguments))},d=r(0,u.length-l.length),m=[],_=0;_<d;_++)m[_]="$"+_;if(f=Function("binder","return function ("+i(m,",")+"){ return binder.apply(this,arguments); }")(p),u.prototype){var v=function(){};v.prototype=u.prototype,f.prototype=new v,v.prototype=null}return f},ao}var co,ga;function Lm(){if(ga)return co;ga=1;var e=wm();return co=Function.prototype.bind||e,co}var uo,ma;function $m(){if(ma)return uo;ma=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Lm();return uo=r.call(e,t),uo}const Mm=!0,xm=">= 8",Dm=">= 0.5 && < 0.9.7",km=!0,Fm=!0,Um=">= 0.5",Bm=!0,jm=!0,Gm=!0,Hm=">= 1 && < 8",Vm="< 8",qm=!0,Xm=[">= 14.17 && < 15",">= 15.1"],zm=!0,Ym=">= 0.7.12",Wm=!0,Km="< 6",Jm=!0,Zm=">= 0.11.1",Qm=">= 0.11.1",eE=">= 0.11.1",tE=">= 0.11.1",rE=">= 0.11.1",nE=">= 0.11.1",oE=!0,sE=">= 8.8",iE=!0,aE=">= 8",cE="< 8",uE=!0,lE=!0,fE=!0,pE=!0,dE=">= 8.5",hE=">= 1",_E=">= 0.5",gE=!0,mE=!0,EE=!0,vE=">= 0.11.5 && < 3",SE=">= 0.9.4",yE=">= 0.9.4",TE=">= 1.4.1",RE=">= 0.9.4",OE=">= 0.9.4",AE=">= 0.9.4",bE=!0,IE=!0,PE=[">= 0.4 && < 0.7",">= 0.8"],CE=!0,NE=">= 0.11.13",wE=">= 0.11.3 && < 10",LE=">= 0.11.3",$E=!0,ME=">= 10",xE=!0,DE=!0,kE=!0,FE=">= 1",UE=!0,BE=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],jE=">= 11.7",GE=">= 0.5",HE={assert:Mm,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:xm,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:Dm,buffer:km,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:Fm,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:Um,"node:cluster":[">= 14.18 && < 15",">= 16"],console:Bm,"node:console":[">= 14.18 && < 15",">= 16"],constants:jm,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:Gm,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:Hm,_debugger:Vm,dgram:qm,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:Xm,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:zm,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:Ym,"node:domain":[">= 14.18 && < 15",">= 16"],events:Wm,"node:events":[">= 14.18 && < 15",">= 16"],freelist:Km,fs:Jm,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:Zm,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:Qm,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:eE,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:tE,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:rE,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:nE,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:oE,"node:http":[">= 14.18 && < 15",">= 16"],http2:sE,"node:http2":[">= 14.18 && < 15",">= 16"],https:iE,"node:https":[">= 14.18 && < 15",">= 16"],inspector:aE,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:cE,module:uE,"node:module":[">= 14.18 && < 15",">= 16"],net:lE,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:fE,"node:os":[">= 14.18 && < 15",">= 16"],path:pE,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:dE,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:hE,"node:process":[">= 14.18 && < 15",">= 16"],punycode:_E,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:gE,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:mE,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:EE,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:vE,"node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:SE,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:yE,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:TE,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:RE,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:OE,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:AE,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:bE,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:IE,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:PE,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:CE,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:NE,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:wE,_tls_wrap:LE,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:$E,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:ME,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:xE,"node:tty":[">= 14.18 && < 15",">= 16"],url:DE,"node:url":[">= 14.18 && < 15",">= 16"],util:kE,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:FE,"node:v8":[">= 14.18 && < 15",">= 16"],vm:UE,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:BE,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:jE,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:GE,"node:zlib":[">= 14.18 && < 15",">= 16"]};var lo,Ea;function Tn(){if(Ea)return lo;Ea=1;var e=$m();function t(s,i){for(var c=s.split("."),a=i.split(" "),u=a.length>1?a[0]:"=",l=(a.length>1?a[1]:a[0]).split("."),f=0;f<3;++f){var p=parseInt(c[f]||0,10),d=parseInt(l[f]||0,10);if(p!==d)return u==="<"?p<d:u===">="?p>=d:!1}return u===">="}function r(s,i){var c=i.split(/ ?&& ?/);if(c.length===0)return!1;for(var a=0;a<c.length;++a)if(!t(s,c[a]))return!1;return!0}function n(s,i){if(typeof i=="boolean")return i;var c=typeof s>"u"?process.versions&&process.versions.node:s;if(typeof c!="string")throw new TypeError(typeof s>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(i&&typeof i=="object"){for(var a=0;a<i.length;++a)if(r(c,i[a]))return!0;return!1}return r(c,i)}var o=HE;return lo=function(i,c){return e(o,i)&&n(c,o[i])},lo}var fo,va;function VE(){if(va)return fo;va=1;var e=gs,t=Mu(),r=He,n=xu(),o=Du(),s=ku(),i=Tn(),c=process.platform!=="win32"&&e.realpath&&typeof e.realpath.native=="function"?e.realpath.native:e.realpath,a=t(),u=function(){return[r.join(a,".node_modules"),r.join(a,".node_libraries")]},l=function(h,S){e.stat(h,function(g,y){return g?g.code==="ENOENT"||g.code==="ENOTDIR"?S(null,!1):S(g):S(null,y.isFile()||y.isFIFO())})},f=function(h,S){e.stat(h,function(g,y){return g?g.code==="ENOENT"||g.code==="ENOTDIR"?S(null,!1):S(g):S(null,y.isDirectory())})},p=function(h,S){c(h,function(g,y){g&&g.code!=="ENOENT"?S(g):S(null,g?h:y)})},d=function(h,S,g,y){g&&g.preserveSymlinks===!1?h(S,y):y(null,S)},m=function(h,S,g){h(S,function(y,E){if(y)g(y);else try{var j=JSON.parse(E);g(null,j)}catch{g(null)}})},_=function(h,S,g){for(var y=o(S,g,h),E=0;E<y.length;E++)y[E]=r.join(y[E],h);return y};return fo=function(h,S,g){var y=g,E=S;if(typeof S=="function"&&(y=E,E={}),typeof h!="string"){var j=new TypeError("Path must be a string.");return process.nextTick(function(){y(j)})}E=s(h,E);var H=E.isFile||l,ce=E.isDirectory||f,Q=E.readFile||e.readFile,J=E.realpath||p,pe=E.readPackage||m;if(E.readFile&&E.readPackage){var Ie=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){y(Ie)})}var at=E.packageIterator,O=E.extensions||[".js"],T=E.includeCoreModules!==!1,I=E.basedir||r.dirname(n()),b=E.filename||I;E.paths=E.paths||u();var C=r.resolve(I);d(J,C,E,function(N,D){N?y(N):$(D)});var A;function $(N){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(h))A=r.resolve(N,h),(h==="."||h===".."||h.slice(-1)==="/")&&(A+="/"),/\/$/.test(h)&&A===N?U(A,E.package,k):L(A,E.package,k);else{if(T&&i(h))return y(null,h);ne(h,N,function(D,Y,B){if(D)y(D);else{if(Y)return d(J,Y,E,function(de,W){de?y(de):y(null,W,B)});var X=new Error("Cannot find module '"+h+"' from '"+b+"'");X.code="MODULE_NOT_FOUND",y(X)}})}}function k(N,D,Y){N?y(N):D?y(null,D,Y):U(A,function(B,X,de){if(B)y(B);else if(X)d(J,X,E,function(z,ae){z?y(z):y(null,ae,de)});else{var W=new Error("Cannot find module '"+h+"' from '"+b+"'");W.code="MODULE_NOT_FOUND",y(W)}})}function L(N,D,Y){var B=D,X=Y;typeof B=="function"&&(X=B,B=void 0);var de=[""].concat(O);W(de,N,B);function W(z,ae,Pe){if(z.length===0)return X(null,void 0,Pe);var Xe=ae+z[0],ye=Pe;ye?oe(null,ye):P(r.dirname(Xe),oe);function oe(De,ct,Ce){if(ye=ct,De)return X(De);if(Ce&&ye&&E.pathFilter){var mr=r.relative(Ce,Xe),Er=mr.slice(0,mr.length-z[0].length),wt=E.pathFilter(ye,ae,Er);if(wt)return W([""].concat(O.slice()),r.resolve(Ce,wt),ye)}H(Xe,gr)}function gr(De,ct){if(De)return X(De);if(ct)return X(null,Xe,ye);W(z.slice(1),ae,ye)}}}function P(N,D){if(N===""||N==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(N)||/[/\\]node_modules[/\\]*$/.test(N))return D(null);d(J,N,E,function(Y,B){if(Y)return P(r.dirname(N),D);var X=r.join(B,"package.json");H(X,function(de,W){if(!W)return P(r.dirname(N),D);pe(Q,X,function(z,ae){z&&D(z);var Pe=ae;Pe&&E.packageFilter&&(Pe=E.packageFilter(Pe,X)),D(null,Pe,N)})})})}function U(N,D,Y){var B=Y,X=D;typeof X=="function"&&(B=X,X=E.package),d(J,N,E,function(de,W){if(de)return B(de);var z=r.join(W,"package.json");H(z,function(ae,Pe){if(ae)return B(ae);if(!Pe)return L(r.join(N,"index"),X,B);pe(Q,z,function(Xe,ye){if(Xe)return B(Xe);var oe=ye;if(oe&&E.packageFilter&&(oe=E.packageFilter(oe,z)),oe&&oe.main){if(typeof oe.main!="string"){var gr=new TypeError("package "+oe.name+" `main` must be a string");return gr.code="INVALID_PACKAGE_MAIN",B(gr)}(oe.main==="."||oe.main==="./")&&(oe.main="index"),L(r.resolve(N,oe.main),oe,function(De,ct,Ce){if(De)return B(De);if(ct)return B(null,ct,Ce);if(!Ce)return L(r.join(N,"index"),Ce,B);var mr=r.resolve(N,Ce.main);U(mr,Ce,function(Er,wt,Oi){if(Er)return B(Er);if(wt)return B(null,wt,Oi);L(r.join(N,"index"),Oi,B)})});return}L(r.join(N,"/index"),oe,B)})})})}function w(N,D){if(D.length===0)return N(null,void 0);var Y=D[0];ce(r.dirname(Y),B);function B(W,z){if(W)return N(W);if(!z)return w(N,D.slice(1));L(Y,E.package,X)}function X(W,z,ae){if(W)return N(W);if(z)return N(null,z,ae);U(Y,E.package,de)}function de(W,z,ae){if(W)return N(W);if(z)return N(null,z,ae);w(N,D.slice(1))}}function ne(N,D,Y){var B=function(){return _(N,D,E)};w(Y,at?at(N,D,B,E):B())}},fo}const qE=!0,XE=">= 8",zE=">= 0.5 && < 0.9.7",YE=!0,WE=!0,KE=">= 0.5",JE=!0,ZE=!0,QE=!0,ev=">= 1 && < 8",tv="< 8",rv=!0,nv=[">= 14.17 && < 15",">= 15.1"],ov=!0,sv=">= 0.7.12",iv=!0,av="< 6",cv=!0,uv=">= 0.11.1",lv=">= 0.11.1",fv=">= 0.11.1",pv=">= 0.11.1",dv=">= 0.11.1",hv=">= 0.11.1",_v=!0,gv=">= 8.8",mv=!0,Ev=">= 8",vv="< 8",Sv=!0,yv=!0,Tv=!0,Rv=!0,Ov=">= 8.5",Av=">= 1",bv=">= 0.5",Iv=!0,Pv=!0,Cv=!0,Nv=">= 0.11.5 && < 3",wv=">= 0.9.4",Lv=">= 0.9.4",$v=">= 1.4.1",Mv=">= 0.9.4",xv=">= 0.9.4",Dv=">= 0.9.4",kv=!0,Fv=!0,Uv=[">= 0.4 && < 0.7",">= 0.8"],Bv=!0,jv=">= 0.11.13",Gv=">= 0.11.3 && < 10",Hv=">= 0.11.3",Vv=!0,qv=">= 10",Xv=!0,zv=!0,Yv=!0,Wv=">= 1",Kv=!0,Jv=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],Zv=">= 11.7",Qv=">= 0.5",eS={assert:qE,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:XE,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:zE,buffer:YE,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:WE,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:KE,"node:cluster":[">= 14.18 && < 15",">= 16"],console:JE,"node:console":[">= 14.18 && < 15",">= 16"],constants:ZE,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:QE,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:ev,_debugger:tv,dgram:rv,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:nv,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:ov,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:sv,"node:domain":[">= 14.18 && < 15",">= 16"],events:iv,"node:events":[">= 14.18 && < 15",">= 16"],freelist:av,fs:cv,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:uv,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:lv,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:fv,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:pv,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:dv,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:hv,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:_v,"node:http":[">= 14.18 && < 15",">= 16"],http2:gv,"node:http2":[">= 14.18 && < 15",">= 16"],https:mv,"node:https":[">= 14.18 && < 15",">= 16"],inspector:Ev,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:vv,module:Sv,"node:module":[">= 14.18 && < 15",">= 16"],net:yv,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:Tv,"node:os":[">= 14.18 && < 15",">= 16"],path:Rv,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:Ov,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:Av,"node:process":[">= 14.18 && < 15",">= 16"],punycode:bv,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:Iv,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:Pv,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:Cv,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:Nv,_stream_duplex:wv,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:Lv,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:$v,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:Mv,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:xv,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:Dv,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:kv,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:Fv,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:Uv,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:Bv,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:jv,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:Gv,_tls_wrap:Hv,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:Vv,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:qv,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:Xv,"node:tty":[">= 14.18 && < 15",">= 16"],url:zv,"node:url":[">= 14.18 && < 15",">= 16"],util:Yv,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:Wv,"node:v8":[">= 14.18 && < 15",">= 16"],vm:Kv,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:Jv,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:Zv,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:Qv,"node:zlib":[">= 14.18 && < 15",">= 16"]};var po,Sa;function tS(){if(Sa)return po;Sa=1;var e=Tn(),t=eS,r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=e(n));return po=r,po}var ho,ya;function rS(){if(ya)return ho;ya=1;var e=Tn();return ho=function(r){return e(r)},ho}var _o,Ta;function nS(){if(Ta)return _o;Ta=1;var e=Tn(),t=gs,r=He,n=Mu(),o=xu(),s=Du(),i=ku(),c=process.platform!=="win32"&&t.realpathSync&&typeof t.realpathSync.native=="function"?t.realpathSync.native:t.realpathSync,a=n(),u=function(){return[r.join(a,".node_modules"),r.join(a,".node_libraries")]},l=function(h){try{var S=t.statSync(h,{throwIfNoEntry:!1})}catch(g){if(g&&(g.code==="ENOENT"||g.code==="ENOTDIR"))return!1;throw g}return!!S&&(S.isFile()||S.isFIFO())},f=function(h){try{var S=t.statSync(h,{throwIfNoEntry:!1})}catch(g){if(g&&(g.code==="ENOENT"||g.code==="ENOTDIR"))return!1;throw g}return!!S&&S.isDirectory()},p=function(h){try{return c(h)}catch(S){if(S.code!=="ENOENT")throw S}return h},d=function(h,S,g){return g&&g.preserveSymlinks===!1?h(S):S},m=function(h,S){var g=h(S);try{var y=JSON.parse(g);return y}catch{}},_=function(h,S,g){for(var y=s(S,g,h),E=0;E<y.length;E++)y[E]=r.join(y[E],h);return y};return _o=function(h,S){if(typeof h!="string")throw new TypeError("Path must be a string.");var g=i(h,S),y=g.isFile||l,E=g.readFileSync||t.readFileSync,j=g.isDirectory||f,H=g.realpathSync||p,ce=g.readPackageSync||m;if(g.readFileSync&&g.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var Q=g.packageIterator,J=g.extensions||[".js"],pe=g.includeCoreModules!==!1,Ie=g.basedir||r.dirname(o()),at=g.filename||Ie;g.paths=g.paths||u();var O=d(H,r.resolve(Ie),g);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(h)){var T=r.resolve(O,h);(h==="."||h===".."||h.slice(-1)==="/")&&(T+="/");var I=A(T)||k(T);if(I)return d(H,I,g)}else{if(pe&&e(h))return h;var b=L(h,O);if(b)return d(H,b,g)}var C=new Error("Cannot find module '"+h+"' from '"+at+"'");throw C.code="MODULE_NOT_FOUND",C;function A(P){var U=$(r.dirname(P));if(U&&U.dir&&U.pkg&&g.pathFilter){var w=r.relative(U.dir,P),ne=g.pathFilter(U.pkg,P,w);ne&&(P=r.resolve(U.dir,ne))}if(y(P))return P;for(var N=0;N<J.length;N++){var D=P+J[N];if(y(D))return D}}function $(P){if(!(P===""||P==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(P))&&!/[/\\]node_modules[/\\]*$/.test(P)){var U=r.join(d(H,P,g),"package.json");if(!y(U))return $(r.dirname(P));var w=ce(E,U);return w&&g.packageFilter&&(w=g.packageFilter(w,P)),{pkg:w,dir:P}}}function k(P){var U=r.join(d(H,P,g),"/package.json");if(y(U)){try{var w=ce(E,U)}catch{}if(w&&g.packageFilter&&(w=g.packageFilter(w,P)),w&&w.main){if(typeof w.main!="string"){var ne=new TypeError("package "+w.name+" `main` must be a string");throw ne.code="INVALID_PACKAGE_MAIN",ne}(w.main==="."||w.main==="./")&&(w.main="index");try{var N=A(r.resolve(P,w.main));if(N)return N;var D=k(r.resolve(P,w.main));if(D)return D}catch{}}}return A(r.join(P,"/index"))}function L(P,U){for(var w=function(){return _(P,U,g)},ne=Q?Q(P,U,w,g):w(),N=0;N<ne.length;N++){var D=ne[N];if(j(r.dirname(D))){var Y=A(D);if(Y)return Y;var B=k(D);if(B)return B}}}},_o}var go,Ra;function Fu(){if(Ra)return go;Ra=1;var e=VE();return e.core=tS(),e.isCore=rS(),e.sync=nS(),go=e,go}const oS={url:"https://github.com/nodejs/require-in-the-middle/issues"},sS={bugs:oS},gt=He,_e=lf,K=Cm("require-in-the-middle"),iS=$u;wu.exports=Wt;var Uu=wu.exports.Hook=Wt;let mo,ht;if(_e.isBuiltin)ht=_e.isBuiltin;else if(_e.builtinModules)ht=e=>e.startsWith("node:")?!0:(mo===void 0&&(mo=new Set(_e.builtinModules)),mo.has(e));else{const e=Fu(),[t,r]=process.versions.node.split(".").map(Number);t===8&&r<8?ht=n=>n==="http2"?!0:!!e.core[n]:ht=n=>!!e.core[n]}let Nr;function aS(e,t){if(!Nr)if(require.resolve&&require.resolve.paths)Nr=function(r,n){return require.resolve(r,{paths:[n]})};else{const r=Fu();Nr=function(n,o){return r.sync(n,{basedir:o})}}return Nr(e,t)}const cS=/([/\\]index)?(\.js)?$/;class uS{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(t,r){if(this._localCache.has(t))return!0;if(r)return!1;{const n=require.cache[t];return!!(n&&this._kRitmExports in n)}}get(t,r){const n=this._localCache.get(t);if(n!==void 0)return n;if(!r){const o=require.cache[t];return o&&o[this._kRitmExports]}}set(t,r,n){n?this._localCache.set(t,r):t in require.cache?require.cache[t][this._kRitmExports]=r:(K('non-core module is unexpectedly not in require.cache: "%s"',t),this._localCache.set(t,r))}}function Wt(e,t,r){if(!(this instanceof Wt))return new Wt(e,t,r);if(typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),typeof _e._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof _e._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,sS.bugs.url);return}this._cache=new uS,this._unhooked=!1,this._origRequire=_e.prototype.require;const n=this,o=new Set,s=t?t.internals===!0:!1,i=Array.isArray(e);K("registering require hook"),this._require=_e.prototype.require=function(a){return n._unhooked===!0?(K("ignoring require call - module is soft-unhooked"),n._origRequire.apply(this,arguments)):c.call(this,arguments,!1)},typeof process.getBuiltinModule=="function"&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(a){return n._unhooked===!0?(K("ignoring process.getBuiltinModule call - module is soft-unhooked"),n._origGetBuiltinModule.apply(this,arguments)):c.call(this,arguments,!0)});function c(a,u){const l=a[0],f=ht(l);let p;if(f){if(p=l,l.startsWith("node:")){const S=l.slice(5);ht(S)&&(p=S)}}else{if(u)return K("call to process.getBuiltinModule with unknown built-in id"),n._origGetBuiltinModule.apply(this,a);try{p=_e._resolveFilename(l,this)}catch(S){return K('Module._resolveFilename("%s") threw %j, calling original Module.require',l,S.message),n._origRequire.apply(this,a)}}let d,m;if(K("processing %s module require('%s'): %s",f===!0?"core":"non-core",l,p),n._cache.has(p,f)===!0)return K("returning already patched cached module: %s",p),n._cache.get(p,f);const _=o.has(p);_===!1&&o.add(p);const v=u?n._origGetBuiltinModule.apply(this,a):n._origRequire.apply(this,a);if(_===!0)return K("module is in the process of being patched already - ignoring: %s",p),v;if(o.delete(p),f===!0){if(i===!0&&e.includes(p)===!1)return K("ignoring core module not on whitelist: %s",p),v;d=p}else if(i===!0&&e.includes(p)){const S=gt.parse(p);d=S.name,m=S.dir}else{const S=iS(p);if(S===void 0)return K("could not parse filename: %s",p),v;d=S.name,m=S.basedir;const g=lS(S);K("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",d,l,g,m);let y=!1;if(i){if(!l.startsWith(".")&&e.includes(l)&&(d=l,y=!0),!e.includes(d)&&!e.includes(g))return v;e.includes(g)&&g!==d&&(d=g,y=!0)}if(!y){let E;try{E=aS(d,m)}catch{return K("could not resolve module: %s",d),n._cache.set(p,v,f),v}if(E!==p)if(s===!0)d=d+gt.sep+gt.relative(m,p),K("preparing to process require of internal file: %s",d);else return K("ignoring require of non-main module file: %s",E),n._cache.set(p,v,f),v}}n._cache.set(p,v,f),K("calling require hook: %s",d);const h=r(v,d,m);return n._cache.set(p,h,f),K("returning module: %s",d),h}}Wt.prototype.unhook=function(){this._unhooked=!0,this._require===_e.prototype.require?(_e.prototype.require=this._origRequire,K("require unhook successful")):K("require unhook unsuccessful"),process.getBuiltinModule!==void 0&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,K("process.getBuiltinModule unhook successful")):K("process.getBuiltinModule unhook unsuccessful"))};function lS(e){const t=gt.sep!=="/"?e.path.split(gt.sep).join("/"):e.path;return gt.posix.join(e.name,t).replace(cS,"")}var Oa=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Aa=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},ba=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Jr="/",Ia=function(){function e(){this.hooks=[],this.children=new Map}return e}(),fS=function(){function e(){this._trie=new Ia,this._counter=0}return e.prototype.insert=function(t){var r,n,o=this._trie;try{for(var s=Oa(t.moduleName.split(Jr)),i=s.next();!i.done;i=s.next()){var c=i.value,a=o.children.get(c);a||(a=new Ia,o.children.set(c,a)),o=a}}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}o.hooks.push({hook:t,insertedId:this._counter++})},e.prototype.search=function(t,r){var n,o,s=r===void 0?{}:r,i=s.maintainInsertionOrder,c=s.fullOnly,a=this._trie,u=[],l=!0;try{for(var f=Oa(t.split(Jr)),p=f.next();!p.done;p=f.next()){var d=p.value,m=a.children.get(d);if(!m){l=!1;break}c||u.push.apply(u,ba([],Aa(m.hooks),!1)),a=m}}catch(_){n={error:_}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return c&&l&&u.push.apply(u,ba([],Aa(a.hooks),!1)),u.length===0?[]:u.length===1?[u[0].hook]:(i&&u.sort(function(_,v){return _.insertedId-v.insertedId}),u.map(function(_){var v=_.hook;return v}))},e}(),pS=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dS=["afterEach","after","beforeEach","before","describe","it"].every(function(e){return typeof global[e]=="function"}),hS=function(){function e(){this._moduleNameTrie=new fS,this._initialize()}return e.prototype._initialize=function(){var t=this;new Uu(null,{internals:!0},function(r,n,o){var s,i,c=_S(n),a=t._moduleNameTrie.search(c,{maintainInsertionOrder:!0,fullOnly:o===void 0});try{for(var u=pS(a),l=u.next();!l.done;l=u.next()){var f=l.value.onRequire;r=f(r,n,o)}}catch(p){s={error:p}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}return r})},e.prototype.register=function(t,r){var n={moduleName:t,onRequire:r};return this._moduleNameTrie.insert(n),n},e.getInstance=function(){var t;return dS?new e:this._instance=(t=this._instance)!==null&&t!==void 0?t:new e},e}();function _S(e){return Ye.sep!==Jr?e.split(Ye.sep).join(Jr):e}var sr={exports:{}},it={};const Bu=[],zo=new WeakMap,ju=new WeakMap,Gu=new Map,Hu=[],gS={set(e,t,r){return zo.get(e)[t](r)},get(e,t){if(t===Symbol.toStringTag)return"Module";const r=ju.get(e)[t];if(typeof r=="function")return r()},defineProperty(e,t,r){if(!("value"in r))throw new Error("Getters/setters are not supported for exports property descriptors.");return zo.get(e)[t](r.value)}};function mS(e,t,r,n,o){Gu.set(e,o),zo.set(t,r),ju.set(t,n);const s=new Proxy(t,gS);Bu.forEach(i=>i(e,s)),Hu.push([e,s])}let Vu=!1;function ES(){return Vu}function vS(e){Vu=e}it.register=mS;it.importHooks=Bu;it.specifiers=Gu;it.toHook=Hu;it.getExperimentalPatchInternals=ES;it.setExperimentalPatchInternals=vS;const Pa=He,SS=$u,{fileURLToPath:Ca}=wc,{MessageChannel:yS}=No,{importHooks:Yo,specifiers:TS,toHook:RS,getExperimentalPatchInternals:OS}=it;function qu(e){Yo.push(e),RS.forEach(([t,r])=>e(t,r))}function Xu(e){const t=Yo.indexOf(e);t>-1&&Yo.splice(t,1)}function Na(e,t,r,n){const o=e(t,r,n);o&&o!==t&&(t.default=o)}let Wo;function AS(){const{port1:e,port2:t}=new yS;let r=0,n;Wo=c=>{r++,e.postMessage(c)},e.on("message",()=>{r--,n&&r<=0&&n()}).unref();function o(){const c=setInterval(()=>{},1e3),a=new Promise(u=>{n=u}).then(()=>{clearInterval(c)});return r===0&&n(),a}const s=t;return{registerOptions:{data:{addHookMessagePort:s,include:[]},transferList:[s]},addHookMessagePort:s,waitForAllMessagesAcknowledged:o}}function Kt(e,t,r){if(!(this instanceof Kt))return new Kt(e,t,r);typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null);const n=t?t.internals===!0:!1;Wo&&Array.isArray(e)&&Wo(e),this._iitmHook=(o,s)=>{const i=o,c=o.startsWith("node:");let a;if(c)o=o.replace(/^node:/,"");else{if(o.startsWith("file://"))try{o=Ca(o)}catch{}const u=SS(o);u&&(o=u.name,a=u.basedir)}if(e){for(const u of e)if(u===o){if(a){if(n)o=o+Pa.sep+Pa.relative(a,Ca(i));else if(!OS()&&!a.endsWith(TS.get(i)))continue}Na(r,s,o,a)}}else Na(r,s,o,a)},qu(this._iitmHook)}Kt.prototype.unhook=function(){Xu(this._iitmHook)};sr.exports=Kt;var bS=sr.exports.Hook=Kt;sr.exports.addHook=qu;sr.exports.removeHook=Xu;sr.exports.createAddHookMessageChannel=AS;var IS=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function c(l){try{u(n.next(l))}catch(f){i(f)}}function a(l){try{u(n.throw(l))}catch(f){i(f)}}function u(l){l.done?s(l.value):o(l.value).then(c,a)}u((n=n.apply(e,t||[])).next())})},PS=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(u){return function(l){return a([u,l])}}function a(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function CS(e,t,r){var n,o;try{o=e()}catch(s){n=s}finally{if(t(n,o),n&&!r)throw n;return o}}function NS(e,t,r){return IS(this,void 0,void 0,function(){var n,o,s;return PS(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),n=s,[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}})})}function zu(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var wS=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kt=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yu=function(e){wS(t,e);function t(r,n,o){var s=e.call(this,r,n,o)||this;s._hooks=[],s._requireInTheMiddleSingleton=hS.getInstance(),s._enabled=!1,s._wrap=function(c,a,u){if(zu(c[a])&&s._unwrap(c,a),wo.types.isProxy(c)){var l=Ze.wrap(Object.assign({},c),a,u);return Object.defineProperty(c,a,{value:l}),l}else return Ze.wrap(c,a,u)},s._unwrap=function(c,a){return wo.types.isProxy(c)?Object.defineProperty(c,a,{value:c[a]}):Ze.unwrap(c,a)},s._massWrap=function(c,a,u){if(c)Array.isArray(c)||(c=[c]);else{x.error("must provide one or more modules to patch");return}if(!(a&&Array.isArray(a))){x.error("must provide one or more functions to wrap on modules");return}c.forEach(function(l){a.forEach(function(f){s._wrap(l,f,u)})})},s._massUnwrap=function(c,a){if(c)Array.isArray(c)||(c=[c]);else{x.error("must provide one or more modules to patch");return}if(!(a&&Array.isArray(a))){x.error("must provide one or more functions to wrap on modules");return}c.forEach(function(u){a.forEach(function(l){s._unwrap(u,l)})})};var i=s.init();return i&&!Array.isArray(i)&&(i=[i]),s._modules=i||[],s._config.enabled&&s.enable(),s}return t.prototype._warnOnPreloadedModules=function(){var r=this;this._modules.forEach(function(n){var o=n.name;try{var s=require.resolve(o);require.cache[s]&&r._diag.warn("Module "+o+" has been loaded before "+r.instrumentationName+" so it might not work, please initialize it before requiring "+o)}catch{}})},t.prototype._extractPackageVersion=function(r){try{var n=gs.readFileSync(Ye.join(r,"package.json"),{encoding:"utf8"}),o=JSON.parse(n).version;return typeof o=="string"?o:void 0}catch{x.warn("Failed extracting version",r)}},t.prototype._onRequire=function(r,n,o,s){var i=this,c;if(!s)return typeof r.patch=="function"&&(r.moduleExports=n,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:r.name}),r.patch(n)):n;var a=this._extractPackageVersion(s);if(r.moduleVersion=a,r.name===o)return wa(r.supportedVersions,a,r.includePrerelease)&&typeof r.patch=="function"&&(r.moduleExports=n,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:r.name,version:r.moduleVersion,baseDir:s}),r.patch(n,r.moduleVersion)):n;var u=(c=r.files)!==null&&c!==void 0?c:[],l=Ye.normalize(o),f=u.filter(function(p){return p.name===l}).filter(function(p){return wa(p.supportedVersions,a,r.includePrerelease)});return f.reduce(function(p,d){return d.moduleExports=p,i._enabled?(i._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:r.name,version:r.moduleVersion,fileName:d.name,baseDir:s}),d.patch(p,r.moduleVersion)):p},n)},t.prototype.enable=function(){var r,n,o,s,i,c,a=this;if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){try{for(var u=kt(this._modules),l=u.next();!l.done;l=u.next()){var f=l.value;typeof f.patch=="function"&&f.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:f.name,version:f.moduleVersion}),f.patch(f.moduleExports,f.moduleVersion));try{for(var p=(o=void 0,kt(f.files)),d=p.next();!d.done;d=p.next()){var m=d.value;m.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:f.name,version:f.moduleVersion,fileName:m.name}),m.patch(m.moduleExports,f.moduleVersion))}}catch(y){o={error:y}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}catch(y){r={error:y}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return}this._warnOnPreloadedModules();var _=function(y){var E=function(Q,J,pe){if(!pe&&Ye.isAbsolute(J)){var Ie=Ye.parse(J);J=Ie.name,pe=Ie.dir}return a._onRequire(y,Q,J,pe)},j=function(Q,J,pe){return a._onRequire(y,Q,J,pe)},H=Ye.isAbsolute(y.name)?new Uu([y.name],{internals:!0},j):v._requireInTheMiddleSingleton.register(y.name,j);v._hooks.push(H);var ce=new bS([y.name],{internals:!1},E);v._hooks.push(ce)},v=this;try{for(var h=kt(this._modules),S=h.next();!S.done;S=h.next()){var g=S.value;_(g)}}catch(y){i={error:y}}finally{try{S&&!S.done&&(c=h.return)&&c.call(h)}finally{if(i)throw i.error}}}},t.prototype.disable=function(){var r,n,o,s;if(this._enabled){this._enabled=!1;try{for(var i=kt(this._modules),c=i.next();!c.done;c=i.next()){var a=c.value;typeof a.unpatch=="function"&&a.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:a.name,version:a.moduleVersion}),a.unpatch(a.moduleExports,a.moduleVersion));try{for(var u=(o=void 0,kt(a.files)),l=u.next();!l.done;l=u.next()){var f=l.value;f.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:a.name,version:a.moduleVersion,fileName:f.name}),f.unpatch(f.moduleExports,a.moduleVersion))}}catch(p){o={error:p}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}}}catch(p){r={error:p}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(Rm);function wa(e,t,r){return typeof t>"u"?e.includes("*"):e.some(function(n){return pm.satisfies(t,n,{includePrerelease:r})})}var LS=function(){function e(t,r,n,o,s){this.name=t,this.supportedVersions=r,this.patch=n,this.unpatch=o,this.files=s||[]}return e}(),$S=function(){function e(t,r,n,o){this.supportedVersions=r,this.patch=n,this.unpatch=o,this.name=He.normalize(t)}return e}();const MS=Object.freeze(Object.defineProperty({__proto__:null,InstrumentationBase:Yu,InstrumentationNodeModuleDefinition:LS,InstrumentationNodeModuleFile:$S,isWrapped:zu,registerInstrumentations:yn,safeExecuteInTheMiddle:CS,safeExecuteInTheMiddleAsync:NS},Symbol.toStringTag,{value:"Module"})),xS=bs(MS),M=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,V=globalThis,ge="9.46.0";function qe(){return ir(V),V}function ir(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ge,t[ge]=t[ge]||{}}function ar(e,t,r=V){const n=r.__SENTRY__=r.__SENTRY__||{},o=n[ge]=n[ge]||{};return o[e]||(o[e]=t())}const Wu=["debug","info","warn","error","log","assert","trace"],DS="Sentry Logger ",Zr={};function tt(e){if(!("console"in V))return e();const t=V.console,r={},n=Object.keys(Zr);n.forEach(o=>{const s=Zr[o];r[o]=t[o],t[o]=s});try{return e()}finally{n.forEach(o=>{t[o]=r[o]})}}function kS(){Xs().enabled=!0}function FS(){Xs().enabled=!1}function Ku(){return Xs().enabled}function US(...e){qs("log",...e)}function BS(...e){qs("warn",...e)}function jS(...e){qs("error",...e)}function qs(e,...t){M&&Ku()&&tt(()=>{V.console[e](`${DS}[${e}]:`,...t)})}function Xs(){return M?ar("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const R={enable:kS,disable:FS,isEnabled:Ku,log:US,warn:BS,error:jS},Ju=50,Zu="?",La=/\(error: (.*)\)/,$a=/captureMessage|captureException/;function Qu(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,o=0)=>{const s=[],i=r.split(`
`);for(let c=n;c<i.length;c++){const a=i[c];if(a.length>1024)continue;const u=La.test(a)?a.replace(La,"$1"):a;if(!u.match(/\S*Error: /)){for(const l of t){const f=l(u);if(f){s.push(f);break}}if(s.length>=Ju+o)break}}return HS(s.slice(o))}}function GS(e){return Array.isArray(e)?Qu(...e):e}function HS(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(wr(t).function||"")&&t.pop(),t.reverse(),$a.test(wr(t).function||"")&&(t.pop(),$a.test(wr(t).function||"")&&t.pop()),t.slice(0,Ju).map(r=>({...r,filename:r.filename||wr(t).filename,function:r.function||Zu}))}function wr(e){return e[e.length-1]||{}}const Eo="<anonymous>";function el(e){try{return!e||typeof e!="function"?Eo:e.name||Eo}catch{return Eo}}const Vr={},Ma={};function zs(e,t){Vr[e]=Vr[e]||[],Vr[e].push(t)}function Ys(e,t){if(!Ma[e]){Ma[e]=!0;try{t()}catch(r){M&&R.error(`Error while instrumenting ${e}`,r)}}}function Ws(e,t){const r=e&&Vr[e];if(r)for(const n of r)try{n(t)}catch(o){M&&R.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${el(n)}
Error:`,o)}}let vo=null;function VS(e){const t="error";zs(t,e),Ys(t,qS)}function qS(){vo=V.onerror,V.onerror=function(e,t,r,n,o){return Ws("error",{column:n,error:o,line:r,msg:e,url:t}),vo?vo.apply(this,arguments):!1},V.onerror.__SENTRY_INSTRUMENTED__=!0}let So=null;function XS(e){const t="unhandledrejection";zs(t,e),Ys(t,zS)}function zS(){So=V.onunhandledrejection,V.onunhandledrejection=function(e){return Ws("unhandledrejection",e),So?So.apply(this,arguments):!0},V.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const tl=Object.prototype.toString;function rl(e){switch(tl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return rt(e,Error)}}function Rn(e,t){return tl.call(e)===`[object ${t}]`}function YS(e){return Rn(e,"ErrorEvent")}function Qr(e){return Rn(e,"String")}function Ks(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function nl(e){return e===null||Ks(e)||typeof e!="object"&&typeof e!="function"}function Jt(e){return Rn(e,"Object")}function WS(e){return typeof Event<"u"&&rt(e,Event)}function KS(e){return typeof Element<"u"&&rt(e,Element)}function JS(e){return Rn(e,"RegExp")}function cr(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function ZS(e){return Jt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function rt(e,t){try{return e instanceof t}catch{return!1}}function ol(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const QS=V,ey=80;function ty(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,o=[];let s=0,i=0;const c=" > ",a=c.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||ey;for(;r&&s++<n&&(u=ry(r,l),!(u==="html"||s>1&&i+o.length*a+u.length>=f));)o.push(u),i+=u.length,r=r.parentNode;return o.reverse().join(c)}catch{return"<unknown>"}}function ry(e,t){const r=e,n=[];if(!(r!=null&&r.tagName))return"";if(QS.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const o=t!=null&&t.length?t.filter(i=>r.getAttribute(i)).map(i=>[i,r.getAttribute(i)]):null;if(o!=null&&o.length)o.forEach(i=>{n.push(`[${i[0]}="${i[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const i=r.className;if(i&&Qr(i)){const c=i.split(/\s+/);for(const a of c)n.push(`.${a}`)}}const s=["aria-label","type","name","title","alt"];for(const i of s){const c=r.getAttribute(i);c&&n.push(`[${i}="${c}"]`)}return n.join("")}function en(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function ny(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const o=e[n];try{ol(o)?r.push("[VueViewModel]"):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function oy(e,t,r=!1){return Qr(e)?JS(t)?t.test(e):Qr(t)?r?e===t:e.includes(t):!1:!1}function ur(e,t=[],r=!1){return t.some(n=>oy(e,n,r))}function sy(e,t,r){if(!(t in e))return;const n=e[t];if(typeof n!="function")return;const o=r(n);typeof o=="function"&&iy(o,n);try{e[t]=o}catch{M&&R.log(`Failed to replace method "${t}" in object`,e)}}function Fe(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{M&&R.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function iy(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,Fe(e,"__sentry_original__",t)}catch{}}function ay(e){return e.__sentry_original__}function sl(e){if(rl(e))return{message:e.message,name:e.name,stack:e.stack,...Da(e)};if(WS(e)){const t={type:e.type,target:xa(e.target),currentTarget:xa(e.currentTarget),...Da(e)};return typeof CustomEvent<"u"&&rt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function xa(e){try{return KS(e)?ty(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Da(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function cy(e,t=40){const r=Object.keys(sl(e));r.sort();const n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return en(n,t);for(let o=r.length;o>0;o--){const s=r.slice(0,o).join(", ");if(!(s.length>t))return o===r.length?s:en(s,t)}return""}function uy(){const e=V;return e.crypto||e.msCrypto}function me(e=uy()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(t()&15)>>r/4).toString(16))}function il(e){var t,r;return(r=(t=e.exception)==null?void 0:t.values)==null?void 0:r[0]}function dt(e){const{message:t,event_id:r}=e;if(t)return t;const n=il(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function ly(e,t,r){const n=e.exception=e.exception||{},o=n.values=n.values||[],s=o[0]=o[0]||{};s.value||(s.value=""),s.type||(s.type="Error")}function Js(e,t){const r=il(e);if(!r)return;const n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...n,...o,...t},t&&"data"in t){const s={...o==null?void 0:o.data,...t.data};r.mechanism.data=s}}const fy=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function yo(e){return parseInt(e||"",10)}function py(e){const t=e.match(fy)||[],r=yo(t[1]),n=yo(t[2]),o=yo(t[3]);return{buildmetadata:t[5],major:isNaN(r)?void 0:r,minor:isNaN(n)?void 0:n,patch:isNaN(o)?void 0:o,prerelease:t[4]}}function ka(e){if(dy(e))return!0;try{Fe(e,"__sentry_captured__",!0)}catch{}return!1}function dy(e){try{return e.__sentry_captured__}catch{}}const al=1e3;function lr(){return Date.now()/al}function hy(){const{performance:e}=V;if(!(e!=null&&e.now)||!e.timeOrigin)return lr;const t=e.timeOrigin;return()=>(t+e.now())/al}let Fa;function cl(){return(Fa??(Fa=hy()))()}function Ko(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||cl(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:me()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function fr(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&Object.keys(t).length===0)return e;const n={...e};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=fr(n[o],t[o],r-1));return n}function tn(){return me()}function Zs(){return me().substring(16)}const Jo="_sentrySpan";function Zo(e,t){t?Fe(e,Jo,t):delete e[Jo]}function Qo(e){return e[Jo]}const _y=100;class Ae{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:tn(),sampleRand:Math.random()}}clone(){const t=new Ae;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Zo(t,Qo(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ko(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,n=r instanceof Ae?r.getScopeData():Jt(r)?t:void 0,{tags:o,extra:s,user:i,contexts:c,level:a,fingerprint:u=[],propagationContext:l}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...c},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Zo(this,void 0),this._attachments=[],this.setPropagationContext({traceId:tn(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){var s;const n=typeof r=="number"?r:_y;if(n<=0)return this;const o={timestamp:lr(),...t,message:t.message?en(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),(s=this._client)==null||s.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Qo(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=fr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=(r==null?void 0:r.event_id)||me();if(!this._client)return M&&R.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...r,event_id:n},this),n}captureMessage(t,r,n){const o=(n==null?void 0:n.event_id)||me();if(!this._client)return M&&R.warn("No client configured on scope - will not capture message!"),o;const s=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:s,...n,event_id:o},this),o}captureEvent(t,r){const n=(r==null?void 0:r.event_id)||me();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(M&&R.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Qs(){return ar("defaultCurrentScope",()=>new Ae)}function ei(){return ar("defaultIsolationScope",()=>new Ae)}class gy{constructor(t,r){let n;t?n=t:n=new Ae;let o;r?o=r:o=new Ae,this._stack=[{scope:n}],this._isolationScope=o}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(o){throw this._popScope(),o}return cr(n)?n.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function St(){const e=qe(),t=ir(e);return t.stack=t.stack||new gy(Qs(),ei())}function my(e){return St().withScope(e)}function Ey(e,t){const r=St();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function Ua(e){return St().withScope(()=>e(St().getIsolationScope()))}function vy(){return{withIsolationScope:Ua,withScope:my,withSetScope:Ey,withSetIsolationScope:(e,t)=>Ua(t),getCurrentScope:()=>St().getScope(),getIsolationScope:()=>St().getIsolationScope()}}function Sy(e){const t=qe(),r=ir(t);r.acs=e}function bt(e){const t=ir(e);return t.acs?t.acs:vy()}function Se(){const e=qe();return bt(e).getCurrentScope()}function pr(){const e=qe();return bt(e).getIsolationScope()}function yy(){return ar("globalScope",()=>new Ae)}function ul(...e){const t=qe(),r=bt(t);if(e.length===2){const[n,o]=e;return n?r.withSetScope(n,o):r.withScope(o)}return r.withScope(e[0])}function re(){return Se().getClient()}function ti(e){const t=e.getPropagationContext(),{traceId:r,parentSpanId:n,propagationSpanId:o}=t,s={trace_id:r,span_id:o||Zs()};return n&&(s.parent_span_id=n),s}const Ue="sentry.source",Zt="sentry.sample_rate",Ty="sentry.previous_trace_sample_rate",Be="sentry.op",It="sentry.origin",Ry="sentry.measurement_unit",Oy="sentry.measurement_value",On="sentry.custom_span_name",ll="sentry.profile_id",fl="sentry.exclusive_time",Ay=0,rn=1,ee=2;function by(e){if(e<400&&e>=100)return{code:rn};if(e>=400&&e<500)switch(e){case 401:return{code:ee,message:"unauthenticated"};case 403:return{code:ee,message:"permission_denied"};case 404:return{code:ee,message:"not_found"};case 409:return{code:ee,message:"already_exists"};case 413:return{code:ee,message:"failed_precondition"};case 429:return{code:ee,message:"resource_exhausted"};case 499:return{code:ee,message:"cancelled"};default:return{code:ee,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:ee,message:"unimplemented"};case 503:return{code:ee,message:"unavailable"};case 504:return{code:ee,message:"deadline_exceeded"};default:return{code:ee,message:"internal_error"}}return{code:ee,message:"unknown_error"}}const pl="_sentryScope",dl="_sentryIsolationScope";function Iy(e,t,r){e&&(Fe(e,dl,r),Fe(e,pl,t))}function An(e){return{scope:e[pl],isolationScope:e[dl]}}const ri="sentry-",Py=/^sentry-/,Cy=8192;function bn(e){const t=nn(e);if(!t)return;const r=Object.entries(t).reduce((n,[o,s])=>{if(o.match(Py)){const i=o.slice(ri.length);n[i]=s}return n},{});if(Object.keys(r).length>0)return r}function ni(e){if(!e)return;const t=Object.entries(e).reduce((r,[n,o])=>(o&&(r[`${ri}${n}`]=o),r),{});return hl(t)}function nn(e){if(!(!e||!Qr(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,r)=>{const n=Ba(r);return Object.entries(n).forEach(([o,s])=>{t[o]=s}),t},{}):Ba(e)}function Ba(e){return e.split(",").map(t=>t.split("=").map(r=>{try{return decodeURIComponent(r.trim())}catch{return}})).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}function hl(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[r,n],o)=>{const s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,i=o===0?s:`${t},${s}`;return i.length>Cy?(M&&R.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):i},"")}function yt(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const _l=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ny(e){if(!e)return;const t=e.match(_l);if(!t)return;let r;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}function wy(e,t){const r=Ny(e),n=bn(t);if(!(r!=null&&r.traceId))return{traceId:tn(),sampleRand:Math.random()};const o=Ly(r,n);n&&(n.sample_rand=o.toString());const{traceId:s,parentSpanId:i,parentSampled:c}=r;return{traceId:s,parentSpanId:i,sampled:c,dsc:n||{},sampleRand:o}}function In(e=tn(),t=Zs(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${e}-${t}${n}`}function Ly(e,t){const r=yt(t==null?void 0:t.sample_rand);if(r!==void 0)return r;const n=yt(t==null?void 0:t.sample_rate);return n&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*n:n+Math.random()*(1-n):Math.random()}const gl=1;let ja=!1;function oi(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext(),o=n?t:Me(e).parent_span_id,s=An(e).scope,i=n?(s==null?void 0:s.getPropagationContext().propagationSpanId)||Zs():t;return{parent_span_id:o,span_id:i,trace_id:r}}function $y(e){const{traceId:t,spanId:r}=e.spanContext(),n=ii(e);return In(t,r,n)}function si(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:r,traceFlags:n,...o},attributes:s})=>({span_id:t,trace_id:r,sampled:n===gl,attributes:s,...o}))}function Tt(e){return typeof e=="number"?Ga(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ga(e.getTime()):cl()}function Ga(e){return e>9999999999?e/1e3:e}function Me(e){var n;if(xy(e))return e.getSpanJSON();const{spanId:t,traceId:r}=e.spanContext();if(My(e)){const{attributes:o,startTime:s,name:i,endTime:c,status:a,links:u}=e,l="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(n=e.parentSpanContext)==null?void 0:n.spanId:void 0;return{span_id:t,trace_id:r,data:o,description:i,parent_span_id:l,start_timestamp:Tt(s),timestamp:Tt(c)||void 0,status:ai(a),op:o[Be],origin:o[It],links:si(u)}}return{span_id:t,trace_id:r,start_timestamp:0,data:{}}}function My(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function xy(e){return typeof e.getSpanJSON=="function"}function ii(e){const{traceFlags:t}=e.spanContext();return t===gl}function ai(e){if(!(!e||e.code===Ay))return e.code===rn?"ok":e.message||"unknown_error"}const To="_sentryChildSpans",es="_sentryRootSpan";function Dy(e,t){const r=e[es]||e;Fe(t,es,r),e[To]?e[To].add(t):Fe(e,To,new Set([t]))}function Pt(e){return e[es]||e}function ci(){const e=qe(),t=bt(e);return t.getActiveSpan?t.getActiveSpan():Qo(Se())}function Ha(){ja||(tt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),ja=!0)}let Va=!1;function ky(){if(Va)return;function e(){const t=ci(),r=t&&Pt(t);if(r){const n="internal_error";M&&R.log(`[Tracing] Root span: ${n} -> Global error occurred`),r.setStatus({code:ee,message:n})}}e.tag="sentry_tracingErrorCallback",Va=!0,VS(e),XS(e)}function Pn(e){var r;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((r=re())==null?void 0:r.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const ui="production",Fy=/^o(\d+)\./,Uy=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function By(e){return e==="http"||e==="https"}function dr(e,t=!1){const{host:r,path:n,pass:o,port:s,projectId:i,protocol:c,publicKey:a}=e;return`${c}://${a}${t&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${i}`}function jy(e){const t=Uy.exec(e);if(!t){tt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[r,n,o="",s="",i="",c=""]=t.slice(1);let a="",u=c;const l=u.split("/");if(l.length>1&&(a=l.slice(0,-1).join("/"),u=l.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return ml({host:s,pass:o,path:a,projectId:u,port:i,protocol:r,publicKey:n})}function ml(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Gy(e){if(!M)return!0;const{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(R.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:r.match(/^\d+$/)?By(n)?t&&isNaN(parseInt(t,10))?(R.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(R.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(R.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function Hy(e){const t=e.match(Fy);return t==null?void 0:t[1]}function Vy(e){const t=typeof e=="string"?jy(e):ml(e);if(!(!t||!Gy(t)))return t}const qy="_frozenDsc";function El(e,t){const r=t.getOptions(),{publicKey:n,host:o}=t.getDsn()||{};let s;r.orgId?s=String(r.orgId):o&&(s=Hy(o));const i={environment:r.environment||ui,release:r.release,public_key:n,trace_id:e,org_id:s};return t.emit("createDsc",i),i}function hr(e,t){const r=t.getPropagationContext();return r.dsc||El(r.traceId,e)}function je(e){var m;const t=re();if(!t)return{};const r=Pt(e),n=Me(r),o=n.data,s=r.spanContext().traceState,i=(s==null?void 0:s.get("sentry.sample_rate"))??o[Zt]??o[Ty];function c(_){return(typeof i=="number"||typeof i=="string")&&(_.sample_rate=`${i}`),_}const a=r[qy];if(a)return c(a);const u=s==null?void 0:s.get("sentry.dsc"),l=u&&bn(u);if(l)return c(l);const f=El(e.spanContext().traceId,t),p=o[Ue],d=n.description;return p!=="url"&&d&&(f.transaction=d),Pn()&&(f.sampled=String(ii(r)),f.sample_rand=(s==null?void 0:s.get("sentry.sample_rand"))??((m=An(r).scope)==null?void 0:m.getPropagationContext().sampleRand.toString())),c(f),t.emit("createDsc",f,r),f}function Ne(e,t=100,r=1/0){try{return ts("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function vl(e,t=3,r=100*1024){const n=Ne(e,t);return Wy(n)>r?vl(e,t-1,r):n}function ts(e,t,r=1/0,n=1/0,o=Ky()){const[s,i]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const c=Xy(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const a=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(a===0)return c.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const d=u.toJSON();return ts("",d,a-1,n,o)}catch{}const l=Array.isArray(t)?[]:{};let f=0;const p=sl(t);for(const d in p){if(!Object.prototype.hasOwnProperty.call(p,d))continue;if(f>=n){l[d]="[MaxProperties ~]";break}const m=p[d];l[d]=ts(d,m,a-1,n,o),f++}return i(t),l}function Xy(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(ol(t))return"[VueViewModel]";if(ZS(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${el(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const r=zy(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function zy(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function Yy(e){return~-encodeURI(e).split(/%..|./).length}function Wy(e){return Yy(JSON.stringify(e))}function Ky(){const e=new WeakSet;function t(n){return e.has(n)?!0:(e.add(n),!1)}function r(n){e.delete(n)}return[t,r]}function Ct(e,t=[]){return[e,t]}function Jy(e,t){const[r,n]=e;return[r,[...n,t]]}function qa(e,t){const r=e[1];for(const n of r){const o=n[0].type;if(t(n,o))return!0}return!1}function rs(e){const t=ir(V);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Zy(e){const[t,r]=e;let n=JSON.stringify(t);function o(s){typeof n=="string"?n=typeof s=="string"?n+s:[rs(n),s]:n.push(typeof s=="string"?rs(s):s)}for(const s of r){const[i,c]=s;if(o(`
${JSON.stringify(i)}
`),typeof c=="string"||c instanceof Uint8Array)o(c);else{let a;try{a=JSON.stringify(c)}catch{a=JSON.stringify(Ne(c))}o(a)}}return typeof n=="string"?n:Qy(n)}function Qy(e){const t=e.reduce((o,s)=>o+s.length,0),r=new Uint8Array(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return r}function eT(e){const t=typeof e.data=="string"?rs(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const tT={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Xa(e){return tT[e]}function Sl(e){if(!(e!=null&&e.sdk))return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function rT(e,t,r,n){var s;const o=(s=e.sdkProcessingMetadata)==null?void 0:s.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:dr(n)},...o&&{trace:o}}}function nT(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function oT(e,t,r,n){const o=Sl(r),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!n&&t&&{dsn:dr(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ct(s,[i])}function sT(e,t,r,n){const o=Sl(r),s=e.type&&e.type!=="replay_event"?e.type:"event";nT(e,r==null?void 0:r.sdk);const i=rT(e,o,n,t);return delete e.sdkProcessingMetadata,Ct(i,[[{type:s},e]])}function iT(e){if(!M)return;const{description:t="< unknown name >",op:r="< unknown op >",parent_span_id:n}=Me(e),{spanId:o}=e.spanContext(),s=ii(e),i=Pt(e),c=i===e,a=`[Tracing] Starting ${s?"sampled":"unsampled"} ${c?"root ":""}span`,u=[`op: ${r}`,`name: ${t}`,`ID: ${o}`];if(n&&u.push(`parent ID: ${n}`),!c){const{op:l,description:f}=Me(i);u.push(`root ID: ${i.spanContext().spanId}`),l&&u.push(`root op: ${l}`),f&&u.push(`root description: ${f}`)}R.log(`${a}
  ${u.join(`
  `)}`)}function aT(e){if(!M)return;const{description:t="< unknown name >",op:r="< unknown op >"}=Me(e),{spanId:n}=e.spanContext(),s=Pt(e)===e,i=`[Tracing] Finishing "${r}" ${s?"root ":""}span "${t}" with ID ${n}`;R.log(i)}function yl(e){if(!e||e.length===0)return;const t={};return e.forEach(r=>{const n=r.attributes||{},o=n[Ry],s=n[Oy];typeof o=="string"&&typeof s=="number"&&(t[r.name]={value:s,unit:o})}),t}function Tl(e,t,r=()=>{}){let n;try{n=e()}catch(o){throw t(o),r(),o}return cT(n,t,r)}function cT(e,t,r){return cr(e)?e.then(n=>(r(),n),n=>{throw t(n),r(),n}):(r(),e)}function uT(e,t,r){if(!Pn(e))return[!1];let n,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:c=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):c}),n=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,n=!0);const s=yt(o);if(s===void 0)return M&&R.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!s)return M&&R.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,n];const i=r<s;return i||M&&R.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[i,s,n]}function lT(e,t){const r=fT();return r.withActiveSpan?r.withActiveSpan(e,t):ul(n=>(Zo(n,e||void 0),t(n)))}function fT(){const e=qe();return bt(e)}const Ro=0,za=1,Ya=2;function nt(e){return new Ge(t=>{t(e)})}function Rl(e){return new Ge((t,r)=>{r(e)})}class Ge{constructor(t){this._state=Ro,this._handlers=[],this._runExecutor(t)}then(t,r){return new Ge((n,o)=>{this._handlers.push([!1,s=>{if(!t)n(s);else try{n(t(s))}catch(i){o(i)}},s=>{if(!r)o(s);else try{n(r(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Ge((r,n)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){n(o);return}r(o)})})}_executeHandlers(){if(this._state===Ro)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===za&&r[1](this._value),this._state===Ya&&r[2](this._value),r[0]=!0)})}_runExecutor(t){const r=(s,i)=>{if(this._state===Ro){if(cr(i)){i.then(n,o);return}this._state=s,this._value=i,this._executeHandlers()}},n=s=>{r(za,s)},o=s=>{r(Ya,s)};try{t(n,o)}catch(s){o(s)}}}function ns(e,t,r,n=0){return new Ge((o,s)=>{const i=e[n];if(t===null||typeof i!="function")o(t);else{const c=i({...t},r);M&&i.id&&c===null&&R.log(`Event processor "${i.id}" dropped event`),cr(c)?c.then(a=>ns(e,a,r,n+1).then(o)).then(null,s):ns(e,c,r,n+1).then(o).then(null,s)}})}function pT(e,t){const{fingerprint:r,span:n,breadcrumbs:o,sdkProcessingMetadata:s}=t;dT(e,t),n&&gT(e,n),mT(e,r),hT(e,o),_T(e,s)}function Wa(e,t){const{extra:r,tags:n,user:o,contexts:s,level:i,sdkProcessingMetadata:c,breadcrumbs:a,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:p,transactionName:d,span:m}=t;Lr(e,"extra",r),Lr(e,"tags",n),Lr(e,"user",o),Lr(e,"contexts",s),e.sdkProcessingMetadata=fr(e.sdkProcessingMetadata,c,2),i&&(e.level=i),d&&(e.transactionName=d),m&&(e.span=m),a.length&&(e.breadcrumbs=[...e.breadcrumbs,...a]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...p}}function Lr(e,t,r){e[t]=fr(e[t],r,1)}function dT(e,t){const{extra:r,tags:n,user:o,contexts:s,level:i,transactionName:c}=t;Object.keys(r).length&&(e.extra={...r,...e.extra}),Object.keys(n).length&&(e.tags={...n,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),i&&(e.level=i),c&&e.type!=="transaction"&&(e.transaction=c)}function hT(e,t){const r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function _T(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function gT(e,t){e.contexts={trace:oi(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:je(t),...e.sdkProcessingMetadata};const r=Pt(t),n=Me(r).description;n&&!e.transaction&&e.type==="transaction"&&(e.transaction=n)}function mT(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let $r,Ka,Mr;function ET(e){const t=V._sentryDebugIds;if(!t)return{};const r=Object.keys(t);return Mr&&r.length===Ka||(Ka=r.length,Mr=r.reduce((n,o)=>{$r||($r={});const s=$r[o];if(s)n[s[0]]=s[1];else{const i=e(o);for(let c=i.length-1;c>=0;c--){const a=i[c],u=a==null?void 0:a.filename,l=t[o];if(u&&l){n[u]=l,$r[o]=[u,l];break}}}return n},{})),Mr}function vT(e,t,r,n,o,s){const{normalizeDepth:i=3,normalizeMaxBreadth:c=1e3}=e,a={...t,event_id:t.event_id||r.event_id||me(),timestamp:t.timestamp||lr()},u=r.integrations||e.integrations.map(v=>v.name);ST(a,e),RT(a,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&yT(a,e.stackParser);const l=AT(n,r.captureContext);r.mechanism&&Js(a,r.mechanism);const f=o?o.getEventProcessors():[],p=yy().getScopeData();if(s){const v=s.getScopeData();Wa(p,v)}if(l){const v=l.getScopeData();Wa(p,v)}const d=[...r.attachments||[],...p.attachments];d.length&&(r.attachments=d),pT(a,p);const m=[...f,...p.eventProcessors];return ns(m,a,r).then(v=>(v&&TT(v),typeof i=="number"&&i>0?OT(v,i,c):v))}function ST(e,t){const{environment:r,release:n,dist:o,maxValueLength:s=250}=t;e.environment=e.environment||r||ui,!e.release&&n&&(e.release=n),!e.dist&&o&&(e.dist=o);const i=e.request;i!=null&&i.url&&(i.url=en(i.url,s))}function yT(e,t){var n,o;const r=ET(t);(o=(n=e.exception)==null?void 0:n.values)==null||o.forEach(s=>{var i,c;(c=(i=s.stacktrace)==null?void 0:i.frames)==null||c.forEach(a=>{a.filename&&(a.debug_id=r[a.filename])})})}function TT(e){var n,o;const t={};if((o=(n=e.exception)==null?void 0:n.values)==null||o.forEach(s=>{var i,c;(c=(i=s.stacktrace)==null?void 0:i.frames)==null||c.forEach(a=>{a.debug_id&&(a.abs_path?t[a.abs_path]=a.debug_id:a.filename&&(t[a.filename]=a.debug_id),delete a.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.entries(t).forEach(([s,i])=>{r.push({type:"sourcemap",code_file:s,debug_id:i})})}function RT(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function OT(e,t,r){var o,s;if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Ne(i.data,t,r)}}))},...e.user&&{user:Ne(e.user,t,r)},...e.contexts&&{contexts:Ne(e.contexts,t,r)},...e.extra&&{extra:Ne(e.extra,t,r)}};return(o=e.contexts)!=null&&o.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=Ne(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(i=>({...i,...i.data&&{data:Ne(i.data,t,r)}}))),(s=e.contexts)!=null&&s.flags&&n.contexts&&(n.contexts.flags=Ne(e.contexts.flags,3,r)),n}function AT(e,t){if(!t)return e;const r=e?e.clone():new Ae;return r.update(t),r}function bT(e){if(e)return IT(e)?{captureContext:e}:CT(e)?{captureContext:e}:e}function IT(e){return e instanceof Ae||typeof e=="function"}const PT=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function CT(e){return Object.keys(e).some(t=>PT.includes(t))}function Vt(e,t){return Se().captureException(e,bT(t))}function NT(e,t){return Se().captureEvent(e,t)}function wT(){const e=re();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}const LT="7";function $T(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function MT(e){return`${$T(e)}${e.projectId}/envelope/`}function xT(e,t){const r={sentry_version:LT};return e.publicKey&&(r.sentry_key=e.publicKey),t&&(r.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(r).toString()}function DT(e,t,r){return t||`${MT(e)}?${xT(e,r)}`}const Ja=[];function kT(e){const t={};return e.forEach(r=>{const{name:n}=r,o=t[n];o&&!o.isDefaultInstance&&r.isDefaultInstance||(t[n]=r)}),Object.values(t)}function FT(e){const t=e.defaultIntegrations||[],r=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...t,...r];else if(typeof r=="function"){const o=r(t);n=Array.isArray(o)?o:[o]}else n=t;return kT(n)}function UT(e,t){const r={};return t.forEach(n=>{n&&Ol(e,n,r)}),r}function Za(e,t){for(const r of t)r!=null&&r.afterAllSetup&&r.afterAllSetup(e)}function Ol(e,t,r){if(r[t.name]){M&&R.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,Ja.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ja.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,s)=>n(o,s,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),o=Object.assign((s,i)=>n(s,i,e),{id:t.name});e.addEventProcessor(o)}M&&R.log(`Integration installed: ${t.name}`)}function BT(e,t,r){const n=[{type:"client_report"},{timestamp:lr(),discarded_events:e}];return Ct(t?{dsn:t}:{},[n])}function Al(e){const t=[];e.message&&t.push(e.message);try{const r=e.exception.values[e.exception.values.length-1];r!=null&&r.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`))}catch{}return t}function jT(e){var a;const{trace_id:t,parent_span_id:r,span_id:n,status:o,origin:s,data:i,op:c}=((a=e.contexts)==null?void 0:a.trace)??{};return{data:i??{},description:e.transaction,op:c,parent_span_id:r,span_id:n??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:i==null?void 0:i[ll],exclusive_time:i==null?void 0:i[fl],measurements:e.measurements,is_segment:!0}}function GT(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[ll]:e.profile_id},...e.exclusive_time&&{[fl]:e.exclusive_time}}}},measurements:e.measurements}}const Qa="Not capturing exception because it's already been captured.",ec="Discarded session because of missing or non-string release",bl=Symbol.for("SentryInternalError"),Il=Symbol.for("SentryDoNotSendEventError");function qr(e){return{message:e,[bl]:!0}}function Oo(e){return{message:e,[Il]:!0}}function tc(e){return!!e&&typeof e=="object"&&bl in e}function rc(e){return!!e&&typeof e=="object"&&Il in e}class HT{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Vy(t.dsn):M&&R.warn("No DSN provided, client will not send events."),this._dsn){const r=DT(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}}captureException(t,r,n){const o=me();if(ka(t))return M&&R.log(Qa),o;const s={event_id:o,...r};return this._process(this.eventFromException(t,s).then(i=>this._captureEvent(i,s,n))),s.event_id}captureMessage(t,r,n,o){const s={event_id:me(),...n},i=Ks(t)?t:String(t),c=nl(t)?this.eventFromMessage(i,r,s):this.eventFromException(t,s);return this._process(c.then(a=>this._captureEvent(a,s,o))),s.event_id}captureEvent(t,r,n){const o=me();if(r!=null&&r.originalException&&ka(r.originalException))return M&&R.log(Qa),o;const s={event_id:o,...r},i=t.sdkProcessingMetadata||{},c=i.capturedSpanScope,a=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,s,c||n,a)),s.event_id}captureSession(t){this.sendSession(t),Ko(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(o=>n&&o))):nt(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];Ol(this,t,this._integrations),r||Za(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=sT(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of r.attachments||[])n=Jy(n,eT(s));const o=this.sendEnvelope(n);o&&o.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const{release:r,environment:n=ui}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!r){M&&R.warn(ec);return}s.release=s.release||r,s.environment=s.environment||n,t.attrs=s}else{if(!t.release&&!r){M&&R.warn(ec);return}t.release=t.release||r,t.environment=t.environment||n}this.emit("beforeSendSession",t);const o=oT(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,r,n=1){if(this._options.sendClientReports){const o=`${t}:${r}`;M&&R.log(`Recording outcome: "${o}"${n>1?` (${n} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+n}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(o=>o(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(M&&R.error("Error while sending envelope:",r),r)):(M&&R.error("Transport disabled"),nt({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=UT(this,t),Za(this,t)}_updateSessionFromEvent(t,r){var a;let n=r.level==="fatal",o=!1;const s=(a=r.exception)==null?void 0:a.values;if(s){o=!0;for(const u of s){const l=u.mechanism;if((l==null?void 0:l.handled)===!1){n=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&n)&&(Ko(t,{...n&&{status:"crashed"},errors:t.errors||Number(o||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ge(r=>{let n=0;const o=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=o,t&&n>=t&&(clearInterval(s),r(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n,o){const s=this.getOptions(),i=Object.keys(this._integrations);return!r.integrations&&(i!=null&&i.length)&&(r.integrations=i),this.emit("preprocessEvent",t,r),t.type||o.setLastEventId(t.event_id||r.event_id),vT(s,t,r,n,this,o).then(c=>{if(c===null)return c;this.emit("postprocessEvent",c,r),c.contexts={trace:ti(n),...c.contexts};const a=hr(this,n);return c.sdkProcessingMetadata={dynamicSamplingContext:a,...c.sdkProcessingMetadata},c})}_captureEvent(t,r={},n=Se(),o=pr()){return M&&os(t)&&R.log(`Captured error event \`${Al(t)[0]||"<unknown>"}\``),this._processEvent(t,r,n,o).then(s=>s.event_id,s=>{M&&(rc(s)?R.log(s.message):tc(s)?R.warn(s.message):R.warn(s))})}_processEvent(t,r,n,o){const s=this.getOptions(),{sampleRate:i}=s,c=Pl(t),a=os(t),u=t.type||"error",l=`before send for type \`${u}\``,f=typeof i>"u"?void 0:yt(i);if(a&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error"),Rl(Oo(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const p=u==="replay_event"?"replay":u;return this._prepareEvent(t,r,n,o).then(d=>{if(d===null)throw this.recordDroppedEvent("event_processor",p),Oo("An event processor returned `null`, will not send event.");if(r.data&&r.data.__sentry__===!0)return d;const _=qT(this,s,d,r);return VT(_,l)}).then(d=>{var v;if(d===null){if(this.recordDroppedEvent("before_send",p),c){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw Oo(`${l} returned \`null\`, will not send event.`)}const m=n.getSession()||o.getSession();if(a&&m&&this._updateSessionFromEvent(m,d),c){const h=((v=d.sdkProcessingMetadata)==null?void 0:v.spanCountBeforeProcessing)||0,S=d.spans?d.spans.length:0,g=h-S;g>0&&this.recordDroppedEvent("before_send","span",g)}const _=d.transaction_info;if(c&&_&&d.transaction!==t.transaction){const h="custom";d.transaction_info={..._,source:h}}return this.sendEvent(d,r),d}).then(null,d=>{throw rc(d)||tc(d)?d:(this.captureException(d,{data:{__sentry__:!0},originalException:d}),qr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${d}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[o,s]=r.split(":");return{reason:o,category:s,quantity:n}})}_flushOutcomes(){M&&R.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){M&&R.log("No outcomes to send");return}if(!this._dsn){M&&R.log("No dsn provided, will not send outcomes");return}M&&R.log("Sending outcomes:",t);const r=BT(t,this._options.tunnel&&dr(this._dsn));this.sendEnvelope(r)}}function VT(e,t){const r=`${t} must return \`null\` or a valid event.`;if(cr(e))return e.then(n=>{if(!Jt(n)&&n!==null)throw qr(r);return n},n=>{throw qr(`${t} rejected with ${n}`)});if(!Jt(e)&&e!==null)throw qr(r);return e}function qT(e,t,r,n){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i}=t;let c=r;if(os(c)&&o)return o(c,n);if(Pl(c)){if(i){const a=i(jT(c));if(a?c=fr(r,GT(a)):Ha(),c.spans){const u=[];for(const l of c.spans){const f=i(l);f?u.push(f):(Ha(),u.push(l))}c.spans=u}}if(s){if(c.spans){const a=c.spans.length;c.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return s(c,n)}}return c}function os(e){return e.type===void 0}function Pl(e){return e.type==="transaction"}function XT(e,t){return t?ul(t,()=>{const r=ci(),n=r?oi(r):ti(t);return[r?je(r):hr(e,t),n]}):[void 0,void 0]}function zT(e,t,r,n,o){const s={sent_at:new Date().toISOString()};r!=null&&r.sdk&&(s.sdk={name:r.sdk.name,version:r.sdk.version}),n&&o&&(s.dsn=dr(o)),t&&(s.trace=t);const i=YT(e);return Ct(s,[i])}function YT(e){return[{type:"check_in"},e]}function WT(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function KT(e,t,r,n){const o={};return t!=null&&t.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),r&&n&&(o.dsn=dr(n)),Ct(o,[WT(e)])}function Xr(e,t){const r=JT(e)??[];if(r.length===0)return;const n=e.getOptions(),o=KT(r,n._metadata,n.tunnel,e.getDsn());Cl().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function JT(e){return Cl().get(e)}function Cl(){return ar("clientToLogBufferMap",()=>new WeakMap)}function Nl(e,t){return e(t.stack||"",1)}function wl(e,t){const r={type:t.name||t.constructor.name,value:t.message},n=Nl(e,t);return n.length&&(r.stacktrace={frames:n}),r}function ZT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t];if(r instanceof Error)return r}}function QT(e){if("name"in e&&typeof e.name=="string"){let n=`'${e.name}' captured as exception`;return"message"in e&&typeof e.message=="string"&&(n+=` with message '${e.message}'`),n}else if("message"in e&&typeof e.message=="string")return e.message;const t=cy(e);if(YS(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;const r=eR(e);return`${r&&r!=="Object"?`'${r}'`:"Object"} captured as exception with keys: ${t}`}function eR(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function tR(e,t,r,n){if(rl(r))return[r,void 0];if(t.synthetic=!0,Jt(r)){const s=e==null?void 0:e.getOptions().normalizeDepth,i={__serialized__:vl(r,s)},c=ZT(r);if(c)return[c,i];const a=QT(r),u=(n==null?void 0:n.syntheticException)||new Error(a);return u.message=a,[u,i]}const o=(n==null?void 0:n.syntheticException)||new Error(r);return o.message=`${r}`,[o,void 0]}function rR(e,t,r,n){const s=(n==null?void 0:n.data)&&n.data.mechanism||{handled:!0,type:"generic"},[i,c]=tR(e,s,r,n),a={exception:{values:[wl(t,i)]}};return c&&(a.extra=c),ly(a),Js(a,s),{...a,event_id:n==null?void 0:n.event_id}}function nR(e,t,r="info",n,o){const s={event_id:n==null?void 0:n.event_id,level:r};if(o&&(n!=null&&n.syntheticException)){const i=Nl(e,n.syntheticException);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]},Js(s,{synthetic:!0}))}if(Ks(t)){const{__sentry_template_string__:i,__sentry_template_values__:c}=t;return s.logentry={message:i,params:c},s}return s.message=t,s}const oR=5e3;class sR extends HT{constructor(t){var n;if(ky(),super(t),this._logWeight=0,this._options.enableLogs??((n=this._options._experiments)==null?void 0:n.enableLogs)){const o=this;o.on("flushLogs",()=>{o._logWeight=0,clearTimeout(o._logFlushIdleTimeout)}),o.on("afterCaptureLog",s=>{o._logWeight+=iR(s),o._logWeight>=8e5?Xr(o):o._logFlushIdleTimeout=setTimeout(()=>{Xr(o)},oR)}),o.on("flush",()=>{Xr(o)})}}eventFromException(t,r){const n=rR(this,this._options.stackParser,t,r);return n.level="error",nt(n)}eventFromMessage(t,r="info",n){return nt(nR(this._options.stackParser,t,r,n,this._options.attachStacktrace))}captureException(t,r,n){return nc(r),super.captureException(t,r,n)}captureEvent(t,r,n){var s;return!t.type&&((s=t.exception)==null?void 0:s.values)&&t.exception.values.length>0&&nc(r),super.captureEvent(t,r,n)}captureCheckIn(t,r,n){const o="checkInId"in t&&t.checkInId?t.checkInId:me();if(!this._isEnabled())return M&&R.warn("SDK not enabled, will not capture check-in."),o;const s=this.getOptions(),{release:i,environment:c,tunnel:a}=s,u={check_in_id:o,monitor_slug:t.monitorSlug,status:t.status,release:i,environment:c};"duration"in t&&(u.duration=t.duration),r&&(u.monitor_config={schedule:r.schedule,checkin_margin:r.checkinMargin,max_runtime:r.maxRuntime,timezone:r.timezone,failure_issue_threshold:r.failureIssueThreshold,recovery_threshold:r.recoveryThreshold});const[l,f]=XT(this,n);f&&(u.contexts={trace:f});const p=zT(u,l,this.getSdkMetadata(),a,this.getDsn());return M&&R.log("Sending checkin:",t.monitorSlug,t.status),this.sendEnvelope(p),o}_prepareEvent(t,r,n,o){var s;return this._options.platform&&(t.platform=t.platform||this._options.platform),this._options.runtime&&(t.contexts={...t.contexts,runtime:((s=t.contexts)==null?void 0:s.runtime)||this._options.runtime}),this._options.serverName&&(t.server_name=t.server_name||this._options.serverName),super._prepareEvent(t,r,n,o)}}function nc(e){var r;const t=pr().getScopeData().sdkProcessingMetadata.requestSession;if(t){const n=((r=e==null?void 0:e.mechanism)==null?void 0:r.handled)??!0;n&&t.status!=="crashed"?t.status="errored":n||(t.status="crashed")}}function iR(e){let t=0;return e.message&&(t+=e.message.length*2),e.attributes&&Object.values(e.attributes).forEach(r=>{Array.isArray(r)?t+=r.length*oc(r[0]):nl(r)?t+=oc(r):t+=100}),t}function oc(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}const Ll=Symbol.for("SentryBufferFullError");function aR(e){const t=[];function r(){return e===void 0||t.length<e}function n(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function o(i){if(!r())return Rl(Ll);const c=i();return t.indexOf(c)===-1&&t.push(c),c.then(()=>n(c)).then(null,()=>n(c).then(null,()=>{})),c}function s(i){return new Ge((c,a)=>{let u=t.length;if(!u)return c(!0);const l=setTimeout(()=>{i&&i>0&&c(!1)},i);t.forEach(f=>{nt(f).then(()=>{--u||(clearTimeout(l),c(!0))},a)})})}return{$:t,add:o,drain:s}}const cR=60*1e3;function uR(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${e}`);return isNaN(n)?cR:n-t}function lR(e,t){return e[t]||e.all||0}function fR(e,t,r=Date.now()){return lR(e,t)>r}function pR(e,{statusCode:t,headers:r},n=Date.now()){const o={...e},s=r==null?void 0:r["x-sentry-rate-limits"],i=r==null?void 0:r["retry-after"];if(s)for(const c of s.trim().split(",")){const[a,u,,,l]=c.split(":",5),f=parseInt(a,10),p=(isNaN(f)?60:f)*1e3;if(!u)o.all=n+p;else for(const d of u.split(";"))d==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(o[d]=n+p):o[d]=n+p}else i?o.all=n+uR(i,n):t===429&&(o.all=n+60*1e3);return o}const dR=64;function hR(e,t,r=aR(e.bufferSize||dR)){let n={};const o=i=>r.drain(i);function s(i){const c=[];if(qa(i,(f,p)=>{const d=Xa(p);fR(n,d)?e.recordDroppedEvent("ratelimit_backoff",d):c.push(f)}),c.length===0)return nt({});const a=Ct(i[0],c),u=f=>{qa(a,(p,d)=>{e.recordDroppedEvent(f,Xa(d))})},l=()=>t({body:Zy(a)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&M&&R.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),n=pR(n,f),f),f=>{throw u("network_error"),M&&R.error("Encountered error running transport request:",f),f});return r.add(l).then(f=>f,f=>{if(f===Ll)return M&&R.error("Skipped sending event because buffer is full."),u("queue_overflow"),nt({});throw f})}return{send:s,flush:o}}function _R(e,t,r=[t],n="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:r.map(s=>({name:`${n}:@sentry/${s}`,version:ge})),version:ge}),e._metadata=o}function gR(e={}){const t=e.client||re();if(!wT()||!t)return{};const r=qe(),n=bt(r);if(n.getTraceData)return n.getTraceData(e);const o=e.scope||Se(),s=e.span||ci(),i=s?$y(s):mR(o),c=s?je(s):hr(t,o),a=ni(c);return _l.test(i)?{"sentry-trace":i,baggage:a}:(R.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function mR(e){const{traceId:t,sampled:r,propagationSpanId:n}=e.getPropagationContext();return In(t,n,r)}function ER(e,t,r){let n,o,s;const i=Math.max(r.maxWait,t),c=(r==null?void 0:r.setTimeoutImpl)||setTimeout;function a(){return u(),n=e(),n}function u(){o!==void 0&&clearTimeout(o),s!==void 0&&clearTimeout(s),o=s=void 0}function l(){return o!==void 0||s!==void 0?a():n}function f(){return o&&clearTimeout(o),o=c(a,t),i&&s===void 0&&(s=c(a,i)),n}return f.cancel=u,f.flush=l,f}const vR=100;function $l(e,t){const r=re(),n=pr();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=vR}=r.getOptions();if(s<=0)return;const c={timestamp:lr(),...e},a=o?tt(()=>o(c,t)):c;a!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,s))}let sc;const SR="FunctionToString",ic=new WeakMap,yR=()=>({name:SR,setupOnce(){sc=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ay(this),r=ic.has(re())&&t!==void 0?t:this;return sc.apply(r,e)}}catch{}},setup(e){ic.set(e,!0)}}),TR=yR,RR=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],OR="EventFilters",AR=(e={})=>{let t;return{name:OR,setup(r){const n=r.getOptions();t=ac(e,n)},processEvent(r,n,o){if(!t){const s=o.getOptions();t=ac(e,s)}return bR(r,t)?null:r}}};function ac(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:RR],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function bR(e,t){if(e.type){if(e.type==="transaction"&&PR(e,t.ignoreTransactions))return M&&R.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${dt(e)}`),!0}else{if(IR(e,t.ignoreErrors))return M&&R.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${dt(e)}`),!0;if(LR(e))return M&&R.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${dt(e)}`),!0;if(CR(e,t.denyUrls))return M&&R.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${dt(e)}.
Url: ${on(e)}`),!0;if(!NR(e,t.allowUrls))return M&&R.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${dt(e)}.
Url: ${on(e)}`),!0}return!1}function IR(e,t){return t!=null&&t.length?Al(e).some(r=>ur(r,t)):!1}function PR(e,t){if(!(t!=null&&t.length))return!1;const r=e.transaction;return r?ur(r,t):!1}function CR(e,t){if(!(t!=null&&t.length))return!1;const r=on(e);return r?ur(r,t):!1}function NR(e,t){if(!(t!=null&&t.length))return!0;const r=on(e);return r?ur(r,t):!0}function wR(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function on(e){var t,r;try{const n=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(s=>{var i,c,a;return((i=s.mechanism)==null?void 0:i.parent_id)===void 0&&((a=(c=s.stacktrace)==null?void 0:c.frames)==null?void 0:a.length)}),o=(r=n==null?void 0:n.stacktrace)==null?void 0:r.frames;return o?wR(o):null}catch{return M&&R.error(`Cannot extract url for event ${dt(e)}`),null}}function LR(e){var t,r;return(r=(t=e.exception)==null?void 0:t.values)!=null&&r.length?!e.message&&!e.exception.values.some(n=>n.stacktrace||n.type&&n.type!=="Error"||n.value):!1}function $R(e,t,r,n,o,s){var c;if(!((c=o.exception)!=null&&c.values)||!s||!rt(s.originalException,Error))return;const i=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;i&&(o.exception.values=ss(e,t,n,s.originalException,r,o.exception.values,i,0))}function ss(e,t,r,n,o,s,i,c){if(s.length>=r+1)return s;let a=[...s];if(rt(n[o],Error)){cc(i,c);const u=e(t,n[o]),l=a.length;uc(u,o,l,c),a=ss(e,t,r,n[o],o,[u,...a],u,l)}return Array.isArray(n.errors)&&n.errors.forEach((u,l)=>{if(rt(u,Error)){cc(i,c);const f=e(t,u),p=a.length;uc(f,`errors[${l}]`,p,c),a=ss(e,t,r,u,o,[f,...a],f,p)}}),a}function cc(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function uc(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}const MR="cause",xR=5,DR="LinkedErrors",kR=(e={})=>{const t=e.limit||xR,r=e.key||MR;return{name:DR,preprocessEvent(n,o,s){const i=s.getOptions();$R(wl,i.stackParser,r,t,n,o)}}},FR=kR;function UR(e){const t="console";zs(t,e),Ys(t,BR)}function BR(){"console"in V&&Wu.forEach(function(e){e in V.console&&sy(V.console,e,function(t){return Zr[e]=t,function(...r){Ws("console",{args:r,level:e});const o=Zr[e];o==null||o.apply(V.console,r)}})})}function jR(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const GR=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function HR(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,r=GR.exec(t);return r?r.slice(1):[]}function VR(e){const t=HR(e),r=t[0]||"";let n=t[1];return!r&&!n?".":(n&&(n=n.slice(0,n.length-1)),r+n)}const qR="Console",XR=(e={})=>{const t=new Set(e.levels||Wu);return{name:qR,setup(r){UR(({args:n,level:o})=>{re()!==r||!t.has(o)||zR(o,n)})}}};function zR(e,t){const r={category:"console",data:{arguments:t,logger:"console"},level:jR(e),message:lc(t)};if(e==="assert")if(t[0]===!1){const n=t.slice(1);r.message=n.length>0?`Assertion failed: ${lc(n)}`:"Assertion failed",r.data.arguments=n}else return;$l(r,{input:t,level:e})}function lc(e){return"util"in V&&typeof V.util.format=="function"?V.util.format(...e):ny(e," ")}function li(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function fc(e){return e.split(/[?#]/,1)[0]}function fi(e){const{protocol:t,host:r,path:n}=e,o=(r==null?void 0:r.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,""))||"";return`${t?`${t}://`:""}${o}${n}`}function YR(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}function WR(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&e!==void 0&&!e.includes("node_modules/")}function KR(e){const t=/^\s*[-]{4,}$/,r=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return n=>{var s;const o=n.match(r);if(o){let i,c,a,u,l;if(o[1]){a=o[1];let d=a.lastIndexOf(".");if(a[d-1]==="."&&d--,d>0){i=a.slice(0,d),c=a.slice(d+1);const m=i.indexOf(".Module");m>0&&(a=a.slice(m+1),i=i.slice(0,m))}u=void 0}c&&(u=i,l=c),c==="<anonymous>"&&(l=void 0,a=void 0),a===void 0&&(l=l||Zu,a=u?`${u}.${l}`:l);let f=(s=o[2])!=null&&s.startsWith("file://")?o[2].slice(7):o[2];const p=o[5]==="native";return f!=null&&f.match(/\/[A-Z]:/)&&(f=f.slice(1)),!f&&o[5]&&!p&&(f=o[5]),{filename:f?decodeURI(f):void 0,module:e?e(f):void 0,function:a,lineno:pc(o[3]),colno:pc(o[4]),in_app:WR(f||"",p)}}if(n.match(t))return{filename:n}}}function JR(e){return[90,KR(e)]}function pc(e){return parseInt(e||"",10)||void 0}class Ml{constructor(t){this._maxSize=t,this._cache=new Map}get size(){return this._cache.size}get(t){const r=this._cache.get(t);if(r!==void 0)return this._cache.delete(t),this._cache.set(t,r),r}set(t,r){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(t,r)}remove(t){const r=this._cache.get(t);return r&&this._cache.delete(t),r}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const t=[];return this._cache.forEach(r=>t.push(r)),t}}const sn={};function xl(e,t,r){return r?QR(e,t,r):ZR(e,t)}function ZR(e,t){return Object.assign(r=>{const n=sn[e];if(n)return r&&n.setConfig(r),n;const o=t(r);return sn[e]=o,yn({instrumentations:[o]}),o},{id:e})}function QR(e,t,r){return Object.assign(n=>{const o=r(n),s=sn[e];if(s)return s.setConfig(o),s;const i=new t(o);return sn[e]=i,yn({instrumentations:[i]}),i},{id:e})}const e1="db.system",t1="db.statement",r1="faas.trigger",n1="http.method",o1="http.url",s1="http.target",i1="http.status_code",a1="messaging.system",c1="rpc.service",u1="rpc.grpc.status_code",l1=e1,f1=t1,p1=r1,pi=n1,Cn=o1,d1=s1,Dl=i1,h1=a1,_1=c1,g1=u1,m1="service.namespace",E1=m1,di="http.request.method",hi="http.response.status_code",v1="http.route",S1="service.name",y1="service.version",Nn="url.full";var T1="exception",is=function(){return is=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},is.apply(this,arguments)},R1=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dc=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},O1=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},A1=function(){function e(t,r,n,o,s,i,c,a,u,l){c===void 0&&(c=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Le.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=o,this.parentSpanId=i,this.kind=s,this.links=c;var f=Date.now();this._performanceStartTime=Qe.now(),this._performanceOffset=f-(this._performanceStartTime+dn()),this._startTimeProvided=a!=null,this.startTime=this._getTime(a??f),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,l!=null&&this.setAttributes(l),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(x.warn("Invalid attribute key: "+t),this):ws(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(r),this):(x.warn("Invalid attribute value set for key: "+t),this)},e.prototype.setAttributes=function(t){var r,n;try{for(var o=R1(Object.entries(t)),s=o.next();!s.done;s=o.next()){var i=dc(s.value,2),c=i[0],a=i[1];this.setAttribute(c,a)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return this},e.prototype.addEvent=function(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return x.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&x.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Uo(r)&&(Uo(n)||(n=r),r=void 0);var o=jt(r);return this.events.push({name:t,attributes:o,time:this._getTime(n),droppedAttributesCount:0}),this},e.prototype.addLink=function(t){return this.links.push(t),this},e.prototype.addLinks=function(t){var r;return(r=this.links).push.apply(r,O1([],dc(t),!1)),this},e.prototype.setStatus=function(t){return this._isSpanEnded()?this:(this.status=is({},t),this.status.message!=null&&typeof t.message!="string"&&(x.warn("Dropping invalid status.message of type '"+typeof t.message+"', expected 'string'"),delete this.status.message),this)},e.prototype.updateName=function(t){return this._isSpanEnded()?this:(this.name=t,this)},e.prototype.end=function(t){if(this._isSpanEnded()){x.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(t),this._duration=su(this.startTime,this.endTime),this._duration[0]<0&&(x.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&x.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},e.prototype._getTime=function(t){if(typeof t=="number"&&t<=Qe.now())return Ms(t+this._performanceOffset);if(typeof t=="number")return we(t);if(t instanceof Date)return we(t.getTime());if(hn(t))return t;if(this._startTimeProvided)return we(Date.now());var r=Qe.now()-this._performanceStartTime;return xs(this.startTime,we(r))},e.prototype.isRecording=function(){return this._ended===!1},e.prototype.recordException=function(t,r){var n={};typeof t=="string"?n[Vn]=t:t&&(t.code?n[Hn]=t.code.toString():t.name&&(n[Hn]=t.name),t.message&&(n[Vn]=t.message),t.stack&&(n[pd]=t.stack)),n[Hn]||n[Vn]?this.addEvent(T1,n,r):x.warn("Failed to record an exception "+t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&x.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(t,r){return t.length<=r?t:t.substring(0,r)},e.prototype._truncateToSize=function(t){var r=this,n=this._attributeValueLengthLimit;return n<=0?(x.warn("Attribute value limit must be positive, got "+n),t):typeof t=="string"?this._truncateToLimitUtil(t,n):Array.isArray(t)?t.map(function(o){return typeof o=="string"?r._truncateToLimitUtil(o,n):o}):t},e}(),le;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(le||(le={}));var an=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:le.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),mt=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:le.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),Ao=function(){function e(t){var r,n,o,s;this._root=t.root,this._root||(Et(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new mt),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new mt,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new an,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new mt,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new an}return e.prototype.shouldSample=function(t,r,n,o,s,i){var c=F.getSpanContext(t);return!c||!Ve(c)?this._root.shouldSample(t,r,n,o,s,i):c.isRemote?c.traceFlags&te.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,o,s,i):this._remoteParentNotSampled.shouldSample(t,r,n,o,s,i):c.traceFlags&te.SAMPLED?this._localParentSampled.shouldSample(t,r,n,o,s,i):this._localParentNotSampled.shouldSample(t,r,n,o,s,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),hc=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,r){return{decision:fn(r)&&this._accumulate(r)<this._upperBound?le.RECORD_AND_SAMPLED:le.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var r=0,n=0;n<t.length/8;n++){var o=n*8,s=parseInt(t.slice(o,o+8),16);r=(r^s)>>>0}return r},e}(),b1=he.AlwaysOn,ft=1;function kl(){var e=vt();return{sampler:Fl(e),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:e.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:e.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:e.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:e.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function Fl(e){switch(e===void 0&&(e=vt()),e.OTEL_TRACES_SAMPLER){case he.AlwaysOn:return new mt;case he.AlwaysOff:return new an;case he.ParentBasedAlwaysOn:return new Ao({root:new mt});case he.ParentBasedAlwaysOff:return new Ao({root:new an});case he.TraceIdRatio:return new hc(_c(e));case he.ParentBasedTraceIdRatio:return new Ao({root:new hc(_c(e))});default:return x.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+b1+'".'),new mt}}function _c(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return x.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+ft+"."),ft;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(x.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+ft+"."),ft):t<0||t>1?(x.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+ft+"."),ft):t}function I1(e){var t={sampler:Fl()},r=kl(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n}function P1(e){var t,r,n,o,s,i,c,a,u,l,f,p,d=Object.assign({},e.spanLimits),m=Qc();return d.attributeCountLimit=(i=(s=(o=(r=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&r!==void 0?r:(n=e.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&o!==void 0?o:m.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:m.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:Ht,d.attributeValueLengthLimit=(p=(f=(l=(a=(c=e.spanLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&a!==void 0?a:(u=e.generalLimits)===null||u===void 0?void 0:u.attributeValueLengthLimit)!==null&&l!==void 0?l:m.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:m.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:Gt,Object.assign({},e,{spanLimits:d})}var C1=function(){function e(t,r){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var n=vt();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Eu(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(x.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(t,r){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&te.SAMPLED&&this._addToBuffer(t)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},e.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&x.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(x.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},e.prototype._flushAll=function(){var t=this;return new Promise(function(r,n){for(var o=[],s=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize),i=0,c=s;i<c;i++)o.push(t._flushOneBatch());Promise.all(o).then(function(){r()}).catch(n)})},e.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(r,n){var o=setTimeout(function(){n(new Error("Timeout"))},t._exportTimeoutMillis);G.with(st(G.active()),function(){var s;t._finishedSpans.length<=t._maxExportBatchSize?(s=t._finishedSpans,t._finishedSpans=[]):s=t._finishedSpans.splice(0,t._maxExportBatchSize);for(var i=function(){return t._exporter.export(s,function(f){var p;clearTimeout(o),f.code===Wr.SUCCESS?r():n((p=f.error)!==null&&p!==void 0?p:new Error("BatchSpanProcessor: span export failed"))})},c=null,a=0,u=s.length;a<u;a++){var l=s[a];l.resource.asyncAttributesPending&&l.resource.waitForAsyncAttributes&&(c??(c=[]),c.push(l.resource.waitForAsyncAttributes()))}c===null?i():Promise.all(c).then(i,function(f){Et(f),n(f)})})})},e.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var r=function(){t._isExporting=!0,t._flushOneBatch().finally(function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(n){t._isExporting=!1,Et(n)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return r();this._timer===void 0&&(this._timer=setTimeout(function(){return r()},this._scheduledDelayMillis),nu(this._timer))}},e.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},e}(),N1=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),w1=function(e){N1(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onShutdown=function(){},t}(C1),L1=8,Ul=16,$1=function(){function e(){this.generateTraceId=gc(Ul),this.generateSpanId=gc(L1)}return e}(),xr=Buffer.allocUnsafe(Ul);function gc(e){return function(){for(var r=0;r<e/4;r++)xr.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,r*4);for(var r=0;r<e&&!(xr[r]>0);r++)r===e-1&&(xr[e-1]=1);return xr.toString("hex",0,e)}}var M1=function(){function e(t,r,n){this._tracerProvider=n;var o=I1(r);this._sampler=o.sampler,this._generalLimits=o.generalLimits,this._spanLimits=o.spanLimits,this._idGenerator=r.idGenerator||new $1,this.resource=n.resource,this.instrumentationLibrary=t}return e.prototype.startSpan=function(t,r,n){var o,s,i;r===void 0&&(r={}),n===void 0&&(n=G.active()),r.root&&(n=F.deleteSpan(n));var c=F.getSpan(n);if(Ot(n)){x.debug("Instrumentation suppressed, returning Noop Span");var a=F.wrapSpanContext(ys);return a}var u=c==null?void 0:c.spanContext(),l=this._idGenerator.generateSpanId(),f,p,d;!u||!F.isSpanContextValid(u)?f=this._idGenerator.generateTraceId():(f=u.traceId,p=u.traceState,d=u.spanId);var m=(o=r.kind)!==null&&o!==void 0?o:fe.INTERNAL,_=((s=r.links)!==null&&s!==void 0?s:[]).map(function(j){return{context:j.context,attributes:jt(j.attributes)}}),v=jt(r.attributes),h=this._sampler.shouldSample(n,f,t,m,v,_);p=(i=h.traceState)!==null&&i!==void 0?i:p;var S=h.decision===$e.RECORD_AND_SAMPLED?te.SAMPLED:te.NONE,g={traceId:f,spanId:l,traceFlags:S,traceState:p};if(h.decision===$e.NOT_RECORD){x.debug("Recording is off, propagating context in a non-recording span");var a=F.wrapSpanContext(g);return a}var y=jt(Object.assign(v,h.attributes)),E=new A1(this,n,t,g,m,d,_,r.startTime,void 0,y);return E},e.prototype.startActiveSpan=function(t,r,n,o){var s,i,c;if(!(arguments.length<2)){arguments.length===2?c=r:arguments.length===3?(s=r,c=n):(s=r,i=n,c=o);var a=i??G.active(),u=this.startSpan(t,s,a),l=F.setSpan(a,u);return G.with(l,c,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}();function x1(){return"unknown_service:"+process.argv0}var ke=function(){return ke=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ke.apply(this,arguments)},D1=function(e,t,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function c(l){try{u(n.next(l))}catch(f){i(f)}}function a(l){try{u(n.throw(l))}catch(f){i(f)}}function u(l){l.done?s(l.value):o(l.value).then(c,a)}u((n=n.apply(e,t||[])).next())})},k1=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(u){return function(l){return a([u,l])}}function a(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],o=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},F1=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},as=function(){function e(t,r){var n=this,o;this._attributes=t,this.asyncAttributesPending=r!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=r==null?void 0:r.then(function(s){return n._attributes=Object.assign({},n._attributes,s),n.asyncAttributesPending=!1,s},function(s){return x.debug("a resource's async attributes promise rejected: %s",s),n.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e((t={},t[vd]=x1(),t[ko]=Ur[ko],t[Do]=Ur[Do],t[Fo]=Ur[Fo],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&x.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return D1(this,void 0,void 0,function(){return k1(this,function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.merge=function(t){var r=this,n;if(!t)return this;var o=ke(ke({},this._syncAttributes),(n=t._syncAttributes)!==null&&n!==void 0?n:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var s=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(i){var c,a=F1(i,2),u=a[0],l=a[1];return ke(ke(ke(ke({},r._syncAttributes),u),(c=t._syncAttributes)!==null&&c!==void 0?c:t.attributes),l)});return new e(o,s)},e.EMPTY=new e({}),e}(),Dr=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mc=function(){function e(t){this._spanProcessors=t}return e.prototype.forceFlush=function(){var t,r,n=[];try{for(var o=Dr(this._spanProcessors),s=o.next();!s.done;s=o.next()){var i=s.value;n.push(i.forceFlush())}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return new Promise(function(c){Promise.all(n).then(function(){c()}).catch(function(a){Et(a||new Error("MultiSpanProcessor: forceFlush failed")),c()})})},e.prototype.onStart=function(t,r){var n,o;try{for(var s=Dr(this._spanProcessors),i=s.next();!i.done;i=s.next()){var c=i.value;c.onStart(t,r)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},e.prototype.onEnd=function(t){var r,n;try{for(var o=Dr(this._spanProcessors),s=o.next();!s.done;s=o.next()){var i=s.value;i.onEnd(t)}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.shutdown=function(){var t,r,n=[];try{for(var o=Dr(this._spanProcessors),s=o.next();!s.done;s=o.next()){var i=s.value;n.push(i.shutdown())}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return new Promise(function(c,a){Promise.all(n).then(function(){c()},a)})},e}(),U1=function(){function e(){}return e.prototype.onStart=function(t,r){},e.prototype.onEnd=function(t){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}(),B1=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},j1=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},Ke;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(Ke||(Ke={}));var G1=function(){function e(t){t===void 0&&(t={});var r,n;this._registeredSpanProcessors=[],this._tracers=new Map;var o=du({},kl(),P1(t));if(this.resource=(r=o.resource)!==null&&r!==void 0?r:as.empty(),o.mergeResourceWithDefaults&&(this.resource=as.default().merge(this.resource)),this._config=Object.assign({},o,{resource:this.resource}),!((n=t.spanProcessors)===null||n===void 0)&&n.length)this._registeredSpanProcessors=j1([],B1(t.spanProcessors),!1),this.activeSpanProcessor=new mc(this._registeredSpanProcessors);else{var s=this._buildExporterFromEnv();if(s!==void 0){var i=new w1(s);this.activeSpanProcessor=i}else this.activeSpanProcessor=new U1}}return e.prototype.getTracer=function(t,r,n){var o=t+"@"+(r||"")+":"+((n==null?void 0:n.schemaUrl)||"");return this._tracers.has(o)||this._tracers.set(o,new M1({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(o)},e.prototype.addSpanProcessor=function(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(r){return x.error("Error while trying to shutdown current span processor",r)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new mc(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(t){t===void 0&&(t={}),F.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&G.setGlobalContextManager(t.contextManager),t.propagator&&Re.setGlobalPropagator(t.propagator)},e.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(function(n){return new Promise(function(o){var s,i=setTimeout(function(){o(new Error("Span processor did not completed within timeout period of "+t+" ms")),s=Ke.timeout},t);n.forceFlush().then(function(){clearTimeout(i),s!==Ke.timeout&&(s=Ke.resolved,o(s))}).catch(function(c){clearTimeout(i),s=Ke.error,o(c)})})});return new Promise(function(n,o){Promise.all(r).then(function(s){var i=s.filter(function(c){return c!==Ke.resolved});i.length>0?o(i):n()}).catch(function(s){return o([s])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(t){var r;return(r=this.constructor._registeredPropagators.get(t))===null||r===void 0?void 0:r()},e.prototype._getSpanExporter=function(t){var r;return(r=this.constructor._registeredExporters.get(t))===null||r===void 0?void 0:r()},e.prototype._buildPropagatorFromEnv=function(){var t=this,r=Array.from(new Set(vt().OTEL_PROPAGATORS)),n=r.map(function(s){var i=t._getPropagator(s);return i||x.warn('Propagator "'+s+'" requested through environment variable is unavailable.'),i}),o=n.reduce(function(s,i){return i&&s.push(i),s},[]);if(o.length!==0)return r.length===1?o[0]:new iu({propagators:o})},e.prototype._buildExporterFromEnv=function(){var t=vt().OTEL_TRACES_EXPORTER;if(!(t==="none"||t==="")){var r=this._getSpanExporter(t);return r||x.error('Exporter "'+t+'" requested through environment variable is unavailable.'),r}},e._registeredPropagators=new Map([["tracecontext",function(){return new cu}],["baggage",function(){return new Ns}]]),e._registeredExporters=new Map,e}();const _i="sentry.parentIsRemote",H1="sentry.graphql.operation";function gi(e){var t;if("parentSpanId"in e)return e.parentSpanId;if("parentSpanContext"in e)return(t=e.parentSpanContext)==null?void 0:t.spanId}function mi(e){const t=e;return!!t.attributes&&typeof t.attributes=="object"}function V1(e){return typeof e.kind=="number"}function q1(e){return!!e.status}function X1(e){return!!e.name}function z1(e){if(!mi(e))return{};const t=e.attributes[Nn]||e.attributes[Cn],r={url:t,"http.method":e.attributes[di]||e.attributes[pi]};!r["http.method"]&&r.url&&(r["http.method"]="GET");try{if(typeof t=="string"){const n=li(t);r.url=fi(n),n.search&&(r["http.query"]=n.search),n.hash&&(r["http.fragment"]=n.hash)}}catch{}return r}function Y1(e){return V1(e)?e.kind:fe.INTERNAL}const bo="sentry-trace",cs="baggage",Ei="sentry.dsc",vi="sentry.sampled_not_recording",Bl="sentry.url",W1="sentry.sample_rand",K1="sentry.sample_rate",jl=xe("sentry_scopes"),us=xe("sentry_fork_isolation_scope"),ls=xe("sentry_fork_set_scope"),fs=xe("sentry_fork_set_isolation_scope"),Gl="_scopeContext";function Nt(e){return e.getValue(jl)}function Hl(e,t){return e.setValue(jl,t)}function J1(e,t){Fe(e,Gl,t)}function Qt(e){return e[Gl]}function er(e){const{traceFlags:t,traceState:r}=e,n=r?r.get(vi)==="1":!1;if(t===te.SAMPLED)return!0;if(n)return!1;const o=r?r.get(Ei):void 0,s=o?bn(o):void 0;if((s==null?void 0:s.sampled)==="true")return!0;if((s==null?void 0:s.sampled)==="false")return!1}function Vl(e,t,r){const n=t[di]||t[pi];if(n)return eO({attributes:t,name:e,kind:r},n);const o=t[l1],s=typeof t[Be]=="string"&&t[Be].startsWith("cache.");if(o&&!s)return Q1({attributes:t,name:e});const i=t[Ue]==="custom"?"custom":"route";if(t[_1])return{...qt(e,t,"route"),op:"rpc"};if(t[h1])return{...qt(e,t,i),op:"message"};const u=t[p1];return u?{...qt(e,t,i),op:u.toString()}:{op:void 0,description:e,source:"custom"}}function Z1(e){const t=mi(e)?e.attributes:{},r=X1(e)?e.name:"<unknown>",n=Y1(e);return Vl(r,t,n)}function Q1({attributes:e,name:t}){const r=e[On];if(typeof r=="string")return{op:"db",description:r,source:e[Ue]||"custom"};if(e[Ue]==="custom")return{op:"db",description:t,source:"custom"};const n=e[f1];return{op:"db",description:n?n.toString():t,source:"task"}}function eO({name:e,kind:t,attributes:r},n){const o=["http"];switch(t){case fe.CLIENT:o.push("client");break;case fe.SERVER:o.push("server");break}r["sentry.http.prefetch"]&&o.push("prefetch");const{urlPath:s,url:i,query:c,fragment:a,hasRoute:u}=rO(r,t);if(!s)return{...qt(e,r),op:o.join(".")};const l=r[H1],f=`${n} ${s}`,p=l?`${f} (${tO(l)})`:f,d=u||s==="/"?"route":"url",m={};i&&(m.url=i),c&&(m["http.query"]=c),a&&(m["http.fragment"]=a);const _=t===fe.CLIENT||t===fe.SERVER,h=!`${r[It]||"manual"}`.startsWith("auto"),S=r[Ue]==="custom",g=r[On],y=!S&&g==null&&(_||!h),{description:E,source:j}=y?{description:p,source:d}:qt(e,r);return{op:o.join("."),description:E,source:j,data:m}}function tO(e){if(Array.isArray(e)){const t=e.slice().sort();return t.length<=5?t.join(", "):`${t.slice(0,5).join(", ")}, +${t.length-5}`}return`${e}`}function rO(e,t){const r=e[d1],n=e[Cn]||e[Nn],o=e[v1],s=typeof n=="string"?li(n):void 0,i=s?fi(s):void 0,c=(s==null?void 0:s.search)||void 0,a=(s==null?void 0:s.hash)||void 0;return typeof o=="string"?{urlPath:o,url:i,query:c,fragment:a,hasRoute:!0}:t===fe.SERVER&&typeof r=="string"?{urlPath:fc(r),url:i,query:c,fragment:a,hasRoute:!1}:s?{urlPath:i,url:i,query:c,fragment:a,hasRoute:!1}:typeof r=="string"?{urlPath:fc(r),url:i,query:c,fragment:a,hasRoute:!1}:{urlPath:void 0,url:i,query:c,fragment:a,hasRoute:!1}}function qt(e,t,r="custom"){const n=t[Ue]||r,o=t[On];return o&&typeof o=="string"?{description:o,source:n}:{description:e,source:n}}function nO(){return F.getActiveSpan()}const be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ql({dsc:e,sampled:t}){const r=e?ni(e):void 0,n=new _n,o=r?n.set(Ei,r):n;return t===!1?o.set(vi,"1"):o}const oO=new Set;function wn(e){oO.add(e)}class sO extends Ns{constructor(){super(),wn("SentryPropagator"),this._urlMatchesTargetsMap=new Ml(100)}inject(t,r,n){var d,m;if(Ot(t)){be&&R.log("[Tracing] Not injecting trace data for url because tracing is suppressed.");return}const o=F.getSpan(t),s=o&&cO(o),i=(m=(d=re())==null?void 0:d.getOptions())==null?void 0:m.tracePropagationTargets;if(!Xl(s,i,this._urlMatchesTargetsMap)){be&&R.log("[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:",s);return}const c=aO(r);let a=Re.getBaggage(t)||Re.createBaggage({});const{dynamicSamplingContext:u,traceId:l,spanId:f,sampled:p}=zl(t);if(c){const _=nn(c);_&&Object.entries(_).forEach(([v,h])=>{a=a.setEntry(v,{value:h})})}u&&(a=Object.entries(u).reduce((_,[v,h])=>h?_.setEntry(`${ri}${v}`,{value:h}):_,a)),l&&l!==ln&&n.set(r,bo,In(l,f,p)),super.inject(Re.setBaggage(t,a),r,n)}extract(t,r,n){const o=n.get(r,bo),s=n.get(r,cs),i=o?Array.isArray(o)?o[0]:o:void 0;return Wl(Yl(t,{sentryTrace:i,baggage:s}))}fields(){return[bo,cs]}}const Ec="[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:";function Xl(e,t,r){if(typeof e!="string"||!t)return!0;const n=r==null?void 0:r.get(e);if(n!==void 0)return be&&!n&&R.log(Ec,e),n;const o=ur(e,t);return r==null||r.set(e,o),be&&!o&&R.log(Ec,e),o}function zl(e,t={}){var c;const r=F.getSpan(e);if(r!=null&&r.spanContext().isRemote){const a=r.spanContext();return{dynamicSamplingContext:je(r),traceId:a.traceId,spanId:void 0,sampled:er(a)}}if(r){const a=r.spanContext();return{dynamicSamplingContext:je(r),traceId:a.traceId,spanId:a.spanId,sampled:er(a)}}const n=t.scope||((c=Nt(e))==null?void 0:c.scope)||Se(),o=t.client||re(),s=n.getPropagationContext();return{dynamicSamplingContext:o?hr(o,n):void 0,traceId:s.traceId,spanId:s.propagationSpanId,sampled:s.sampled}}function Yl(e,{sentryTrace:t,baggage:r}){const n=wy(t,r),{traceId:o,parentSpanId:s,sampled:i,dsc:c}=n;if(!s)return e;const a=uO({traceId:o,spanId:s,sampled:i,dsc:c});return F.setSpanContext(e,a)}function iO(e,t,r){const n=Wl(Yl(e,t));return G.with(n,r)}function Wl(e){const t=Nt(e),r={scope:t?t.scope:Se().clone(),isolationScope:t?t.isolationScope:pr()};return Hl(e,r)}function aO(e){try{const t=e[cs];return Array.isArray(t)?t.join(","):t}catch{return}}function cO(e){var o;const t=Me(e).data,r=t[Cn]||t[Nn];if(typeof r=="string")return r;const n=(o=e.spanContext().traceState)==null?void 0:o.get(Bl);if(n)return n}function uO({spanId:e,traceId:t,sampled:r,dsc:n}){const o=ql({dsc:n,sampled:r});return{traceId:t,spanId:e,isRemote:!0,traceFlags:r?te.SAMPLED:te.NONE,traceState:o}}function lO(e,t){const r=Si(),{name:n,parentSpan:o}=e;return Ri(o)(()=>{const i=Ti(e.scope,e.forceTransaction),a=e.onlyIfParent&&!F.getSpan(i)?st(i):i,u=yi(e);return r.startActiveSpan(n,u,a,l=>Tl(()=>t(l),()=>{Me(l).status===void 0&&l.setStatus({code:Le.ERROR})},()=>l.end()))})}function fO(e,t){const r=Si(),{name:n,parentSpan:o}=e;return Ri(o)(()=>{const i=Ti(e.scope,e.forceTransaction),a=e.onlyIfParent&&!F.getSpan(i)?st(i):i,u=yi(e);return r.startActiveSpan(n,u,a,l=>Tl(()=>t(l,()=>l.end()),()=>{Me(l).status===void 0&&l.setStatus({code:Le.ERROR})}))})}function pO(e){const t=Si(),{name:r,parentSpan:n}=e;return Ri(n)(()=>{const s=Ti(e.scope,e.forceTransaction),c=e.onlyIfParent&&!F.getSpan(s)?st(s):s,a=yi(e);return t.startSpan(r,a,c)})}function Kl(e,t){const r=e?F.setSpan(G.active(),e):F.deleteSpan(G.active());return G.with(r,()=>t(Se()))}function Si(){const e=re();return(e==null?void 0:e.tracer)||F.getTracer("@sentry/opentelemetry",ge)}function yi(e){const{startTime:t,attributes:r,kind:n,op:o,links:s}=e,i=typeof t=="number"?dO(t):t;return{attributes:o?{[Be]:o,...r}:r,kind:n,links:s,startTime:i}}function dO(e){return e<9999999999?e*1e3:e}function Ti(e,t){const r=hO(e),n=F.getSpan(r);if(!n||!t)return r;const o=F.deleteSpan(r),{spanId:s,traceId:i}=n.spanContext(),c=er(n.spanContext()),a=Pt(n),u=je(a),l=ql({dsc:u,sampled:c}),f={traceId:i,spanId:s,isRemote:!0,traceFlags:c?te.SAMPLED:te.NONE,traceState:l};return F.setSpanContext(o,f)}function hO(e){if(e){const t=Qt(e);if(t)return t}return G.active()}function _O(e,t){return iO(G.active(),e,t)}function gO(e,t){const r=Qt(t),n=r&&F.getSpan(r),o=n?oi(n):ti(t);return[n?je(n):hr(e,t),o]}function Ri(e){return e!==void 0?t=>Kl(e,t):t=>t()}function mO(e){const t=st(G.active());return G.with(t,e)}function EO({span:e,scope:t,client:r}={}){let n=(t&&Qt(t))??G.active();if(e){const{scope:a}=An(e);n=a&&Qt(a)||F.setSpan(G.active(),e)}const{traceId:o,spanId:s,sampled:i,dynamicSamplingContext:c}=zl(n,{scope:t,client:r});return{"sentry-trace":In(o,s,i),baggage:ni(c)}}function vO(){function e(){const c=G.active(),a=Nt(c);return a||{scope:Qs(),isolationScope:ei()}}function t(c){const a=G.active();return G.with(a,()=>c(s()))}function r(c,a){const u=Qt(c)||G.active();return G.with(u.setValue(ls,c),()=>a(c))}function n(c){const a=G.active();return G.with(a.setValue(us,!0),()=>c(i()))}function o(c,a){const u=G.active();return G.with(u.setValue(fs,c),()=>a(i()))}function s(){return e().scope}function i(){return e().isolationScope}Sy({withScope:t,withSetScope:r,withSetIsolationScope:o,withIsolationScope:n,getCurrentScope:s,getIsolationScope:i,startSpan:lO,startSpanManual:fO,startInactiveSpan:pO,getActiveSpan:nO,suppressTracing:mO,getTraceData:EO,continueTrace:_O,withActiveSpan:Kl})}function SO(e){class t extends e{constructor(...n){super(...n),wn("SentryContextManager")}with(n,o,s,...i){const c=Nt(n),a=(c==null?void 0:c.scope)||Se(),u=(c==null?void 0:c.isolationScope)||pr(),l=n.getValue(us)===!0,f=n.getValue(ls),p=n.getValue(fs),d=f||a.clone(),m=p||(l?u.clone():u),h=Hl(n,{scope:d,isolationScope:m}).deleteValue(us).deleteValue(ls).deleteValue(fs);return J1(d,h),super.with(h,o,s,...i)}}return t}function yO(e){const t=new Map;for(const r of e)TO(t,r);return Array.from(t,function([r,n]){return n})}function Jl(e){return e.attributes[_i]===!0?void 0:gi(e)}function TO(e,t){const r=t.spanContext().spanId,n=Jl(t);if(!n){ps(e,{id:r,span:t,children:[]});return}const o=RO(e,n),s=ps(e,{id:r,span:t,parentNode:o,children:[]});o.children.push(s)}function RO(e,t){const r=e.get(t);return r||ps(e,{id:t,children:[]})}function ps(e,t){const r=e.get(t.id);return r!=null&&r.span?r:r&&!r.span?(r.span=t.span,r.parentNode=t.parentNode,r):(e.set(t.id,t),t)}const Zl={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"},OO=e=>Object.values(Zl).includes(e);function Ql(e){const t=mi(e)?e.attributes:{},r=q1(e)?e.status:void 0;if(r){if(r.code===Le.OK)return{code:rn};if(r.code===Le.ERROR){if(typeof r.message>"u"){const o=vc(t);if(o)return o}return r.message&&OO(r.message)?{code:ee,message:r.message}:{code:ee,message:"unknown_error"}}}const n=vc(t);return n||((r==null?void 0:r.code)===Le.UNSET?{code:rn}:{code:ee,message:"unknown_error"})}function vc(e){const t=e[hi]||e[Dl],r=e[g1],n=typeof t=="number"?t:typeof t=="string"?parseInt(t):void 0;if(typeof n=="number")return by(n);if(typeof r=="string")return{code:ee,message:Zl[r]||"unknown_error"}}const Sc=1e3,yc=300;class AO{constructor(t){this._finishedSpanBucketSize=(t==null?void 0:t.timeout)||yc,this._finishedSpanBuckets=new Array(this._finishedSpanBucketSize).fill(void 0),this._lastCleanupTimestampInS=Math.floor(Date.now()/1e3),this._spansToBucketEntry=new WeakMap,this._sentSpans=new Map,this._debouncedFlush=ER(this.flush.bind(this),1,{maxWait:100})}export(t){const r=Math.floor(Date.now()/1e3);if(this._lastCleanupTimestampInS!==r){let i=0;this._finishedSpanBuckets.forEach((c,a)=>{c&&c.timestampInS<=r-this._finishedSpanBucketSize&&(i+=c.spans.size,this._finishedSpanBuckets[a]=void 0)}),i>0&&be&&R.log(`SpanExporter dropped ${i} spans because they were pending for more than ${this._finishedSpanBucketSize} seconds.`),this._lastCleanupTimestampInS=r}const n=r%this._finishedSpanBucketSize,o=this._finishedSpanBuckets[n]||{timestampInS:r,spans:new Set};this._finishedSpanBuckets[n]=o,o.spans.add(t),this._spansToBucketEntry.set(t,o);const s=Jl(t);(!s||this._sentSpans.has(s))&&this._debouncedFlush()}flush(){const t=this._finishedSpanBuckets.flatMap(i=>i?Array.from(i.spans):[]);this._flushSentSpanCache();const r=this._maybeSend(t),n=r.size,o=t.length-n;be&&R.log(`SpanExporter exported ${n} spans, ${o} spans are waiting for their parent spans to finish`);const s=Date.now()+yc*1e3;for(const i of r){this._sentSpans.set(i.spanContext().spanId,s);const c=this._spansToBucketEntry.get(i);c&&c.spans.delete(i)}this._debouncedFlush.cancel()}clear(){this._finishedSpanBuckets=this._finishedSpanBuckets.fill(void 0),this._sentSpans.clear(),this._debouncedFlush.cancel()}_maybeSend(t){var s,i;const r=yO(t),n=new Set,o=this._getCompletedRootNodes(r);for(const c of o){const a=c.span;n.add(a);const u=IO(a);if(c.parentNode&&this._sentSpans.has(c.parentNode.id)){const p=(i=(s=u.contexts)==null?void 0:s.trace)==null?void 0:i.data;p&&(p["sentry.parent_span_already_sent"]=!0)}const l=u.spans||[];for(const p of c.children)ds(p,l,n);u.spans=l.length>Sc?l.sort((p,d)=>p.start_timestamp-d.start_timestamp).slice(0,Sc):l;const f=yl(a.events);f&&(u.measurements=f),NT(u)}return n}_flushSentSpanCache(){const t=Date.now();for(const[r,n]of this._sentSpans.entries())n<=t&&this._sentSpans.delete(r)}_nodeIsCompletedRootNodeOrHasSentParent(t){return!!t.span&&(!t.parentNode||this._sentSpans.has(t.parentNode.id))}_getCompletedRootNodes(t){return t.filter(r=>this._nodeIsCompletedRootNodeOrHasSentParent(r))}}function bO(e){const t=e.attributes,r=t[It],n=t[Be],o=t[Ue];return{origin:r,op:n,source:o}}function IO(e){const{op:t,description:r,data:n,origin:o="manual",source:s}=ef(e),i=An(e),c=e.attributes[Zt],a={[Ue]:s,[Zt]:c,[Be]:t,[It]:o,...n,...tf(e.attributes)},{links:u}=e,{traceId:l,spanId:f}=e.spanContext(),p=gi(e),d=Ql(e),m={parent_span_id:p,span_id:f,trace_id:l,data:a,origin:o,op:t,status:ai(d),links:si(u)},_=a[hi],v=typeof _=="number"?{response:{status_code:_}}:void 0;return{contexts:{trace:m,otel:{resource:e.resource.attributes},...v},spans:[],start_timestamp:Tt(e.startTime),timestamp:Tt(e.endTime),transaction:r,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:i.scope,capturedSpanIsolationScope:i.isolationScope,sampleRate:c,dynamicSamplingContext:je(e)},...s&&{transaction_info:{source:s}}}}function ds(e,t,r){const n=e.span;if(n&&r.add(n),!n){e.children.forEach(g=>{ds(g,t,r)});return}const s=n.spanContext().spanId,i=n.spanContext().traceId,c=gi(n),{attributes:a,startTime:u,endTime:l,links:f}=n,{op:p,description:d,data:m,origin:_="manual"}=ef(n),v={[It]:_,[Be]:p,...tf(a),...m},h=Ql(n),S={span_id:s,trace_id:i,data:v,description:d,parent_span_id:c,start_timestamp:Tt(u),timestamp:Tt(l)||void 0,status:ai(h),op:p,origin:_,measurements:yl(n.events),links:si(f)};t.push(S),e.children.forEach(g=>{ds(g,t,r)})}function ef(e){const{op:t,source:r,origin:n}=bO(e),{op:o,description:s,source:i,data:c}=Z1(e),a=t||o,u=r||i,l={...c,...PO(e)};return{op:a,description:s,source:u,origin:n,data:l}}function tf(e){const t={...e};return delete t[Zt],delete t[_i],delete t[On],t}function PO(e){const t=e.attributes,r={};e.kind!==fe.INTERNAL&&(r["otel.kind"]=fe[e.kind]);const n=t[Dl];n&&(r[hi]=n);const o=z1(e);return o.url&&(r.url=o.url),o["http.query"]&&(r["http.query"]=o["http.query"].slice(1)),o["http.fragment"]&&(r["http.fragment"]=o["http.fragment"].slice(1)),r}function CO(e,t){const r=F.getSpan(t);let n=Nt(t);r&&!r.spanContext().isRemote&&Dy(r,e),r!=null&&r.spanContext().isRemote&&e.setAttribute(_i,!0),t===Es&&(n={scope:Qs(),isolationScope:ei()}),n&&Iy(e,n.scope,n.isolationScope),iT(e);const o=re();o==null||o.emit("spanStart",e)}function NO(e){aT(e);const t=re();t==null||t.emit("spanEnd",e)}class wO{constructor(t){wn("SentrySpanProcessor"),this._exporter=new AO(t)}async forceFlush(){this._exporter.flush()}async shutdown(){this._exporter.clear()}onStart(t,r){CO(t,r)}onEnd(t){NO(t),this._exporter.export(t)}}class LO{constructor(t){this._client=t,wn("SentrySampler")}shouldSample(t,r,n,o,s,i){const c=this._client.getOptions(),a=xO(t),u=a==null?void 0:a.spanContext();if(!Pn(c))return pt({decision:void 0,context:t,spanAttributes:s});const l=s[pi]||s[di];if(o===fe.CLIENT&&l&&(!a||u!=null&&u.isRemote))return pt({decision:void 0,context:t,spanAttributes:s});const f=a?$O(a,r,n):void 0;if(!(!a||(u==null?void 0:u.isRemote)))return pt({decision:f?le.RECORD_AND_SAMPLED:le.NOT_RECORD,context:t,spanAttributes:s});const{description:d,data:m,op:_}=Vl(n,s,o),v={...m,...s};_&&(v[Be]=_);const h={decision:!0};if(this._client.emit("beforeSampling",{spanAttributes:v,spanName:d,parentSampled:f,parentContext:u},h),!h.decision)return pt({decision:void 0,context:t,spanAttributes:s});const{isolationScope:S}=Nt(t)??{},g=u!=null&&u.traceState?u.traceState.get(Ei):void 0,y=g?bn(g):void 0,E=yt(y==null?void 0:y.sample_rand)??Math.random(),[j,H,ce]=uT(c,{name:d,attributes:v,normalizedRequest:S==null?void 0:S.getScopeData().sdkProcessingMetadata.normalizedRequest,parentSampled:f,parentSampleRate:yt(y==null?void 0:y.sample_rate)},E),Q=`${l}`.toUpperCase();return Q==="OPTIONS"||Q==="HEAD"?(be&&R.log(`[Tracing] Not sampling span because HTTP method is '${Q}' for ${n}`),pt({decision:le.NOT_RECORD,context:t,spanAttributes:s,sampleRand:E,downstreamTraceSampleRate:0})):(!j&&f===void 0&&(be&&R.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),this._client.recordDroppedEvent("sample_rate","transaction")),{...pt({decision:j?le.RECORD_AND_SAMPLED:le.NOT_RECORD,context:t,spanAttributes:s,sampleRand:E,downstreamTraceSampleRate:ce?H:void 0}),attributes:{[Zt]:ce?H:void 0}})}toString(){return"SentrySampler"}}function $O(e,t,r){const n=e.spanContext();if(Ve(n)&&n.traceId===t){if(n.isRemote){const s=er(e.spanContext());return be&&R.log(`[Tracing] Inheriting remote parent's sampled decision for ${r}: ${s}`),s}const o=er(n);return be&&R.log(`[Tracing] Inheriting parent's sampled decision for ${r}: ${o}`),o}}function pt({decision:e,context:t,spanAttributes:r,sampleRand:n,downstreamTraceSampleRate:o}){let s=MO(t,r);return o!==void 0&&(s=s.set(K1,`${o}`)),n!==void 0&&(s=s.set(W1,`${n}`)),e==null?{decision:le.NOT_RECORD,traceState:s}:e===le.NOT_RECORD?{decision:e,traceState:s.set(vi,"1")}:{decision:e,traceState:s}}function MO(e,t){const r=F.getSpan(e),n=r==null?void 0:r.spanContext();let o=(n==null?void 0:n.traceState)||new _n;const s=t[Cn]||t[Nn];return s&&typeof s=="string"&&(o=o.set(Bl,s)),o}function xO(e){const t=F.getSpan(e);return t&&Ve(t.spanContext())?t:void 0}const Xt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Tc(e,t){if(!e)return t;const r=nn(e),n=nn(t);if(!n)return e;const o={...r};return Object.entries(n).forEach(([s,i])=>{o[s]||(o[s]=i)}),hl(o)}const rf=py(process.versions.node),Rc=rf.major,DO=rf.minor,kr="sentry-trace",Io="baggage",Oc=/baggage: (.*)\r\n/;class kO extends Yu{constructor(t={}){super("@sentry/instrumentation-node-fetch",ge,t),this._channelSubs=[],this._propagationDecisionMap=new Ml(100),this._ignoreOutgoingRequestsMap=new WeakMap}init(){}disable(){super.disable(),this._channelSubs.forEach(t=>t.unsubscribe()),this._channelSubs=[]}enable(){super.enable(),this._channelSubs=this._channelSubs||[],!(this._channelSubs.length>0)&&(this._subscribeToChannel("undici:request:create",this._onRequestCreated.bind(this)),this._subscribeToChannel("undici:request:headers",this._onResponseHeaders.bind(this)))}_onRequestCreated({request:t}){var l,f;if(!(this.getConfig().enabled!==!1))return;const o=this._shouldIgnoreOutgoingRequest(t);if(this._ignoreOutgoingRequestsMap.set(t,o),o)return;const s=hs(t.origin,t.path),i=(l=re())==null?void 0:l.getOptions().tracePropagationTargets,c=Xl(s,i,this._propagationDecisionMap)?gR():void 0;if(!c)return;const{"sentry-trace":a,baggage:u}=c;if(Array.isArray(t.headers)){const p=t.headers;a&&!p.includes(kr)&&p.push(kr,a);const d=p.findIndex(m=>m===Io);if(u&&d===-1)p.push(Io,u);else if(u){const m=p[d+1],_=Tc(m,u);_&&(p[d+1]=_)}}else{const p=t.headers;a&&!p.includes(`${kr}:`)&&(t.headers+=`${kr}: ${a}\r
`);const d=(f=t.headers.match(Oc))==null?void 0:f[1];if(u&&!d)t.headers+=`${Io}: ${u}\r
`;else if(u){const m=Tc(d,u);m&&(t.headers=t.headers.replace(Oc,`baggage: ${m}\r
`))}}}_onResponseHeaders({request:t,response:r}){const n=this.getConfig();if(!(n.enabled!==!1))return;const s=n.breadcrumbs,i=typeof s>"u"?!0:s,c=this._ignoreOutgoingRequestsMap.get(t);i&&!c&&FO(t,r)}_subscribeToChannel(t,r){var s;const n=Rc>18||Rc===18&&DO>=19;let o;if(n)(s=ze.subscribe)==null||s.call(ze,t,r),o=()=>{var i;return(i=ze.unsubscribe)==null?void 0:i.call(ze,t,r)};else{const i=ze.channel(t);i.subscribe(r),o=()=>i.unsubscribe(r)}this._channelSubs.push({name:t,unsubscribe:o})}_shouldIgnoreOutgoingRequest(t){if(Ot(G.active()))return!0;const r=hs(t.origin,t.path),n=this.getConfig().ignoreOutgoingRequests;return typeof n!="function"||!r?!1:n(r)}}function FO(e,t){const r=UO(e),n=t.statusCode,o=YR(n);$l({category:"http",data:{status_code:n,...r},type:"http",level:o},{event:"response",request:e,response:t})}function UO(e){try{const t=hs(e.origin,e.path),r=li(t),n={url:fi(r),"http.method":e.method||"GET"};return r.search&&(n["http.query"]=r.search),r.hash&&(n["http.fragment"]=r.hash),n}catch{return{}}}function hs(e,t="/"){try{return new URL(t,e).toString()}catch{const r=`${e}`;return r.endsWith("/")&&t.startsWith("/")?`${r}${t.slice(1)}`:!r.endsWith("/")&&!t.startsWith("/")?`${r}/${t.slice(1)}`:`${r}${t}`}}const BO=2e3;function _s(e){tt(()=>{console.error(e)});const t=re();if(t===void 0){Xt&&R.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);return}const r=t.getOptions(),n=r!=null&&r.shutdownTimeout&&r.shutdownTimeout>0?r.shutdownTimeout:BO;t.close(n).then(o=>{o||Xt&&R.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)},o=>{Xt&&R.error(o)})}const jO="OnUncaughtException",GO=(e={})=>{const t={exitEvenIfOtherHandlersAreRegistered:!1,...e};return{name:jO,setup(r){global.process.on("uncaughtException",HO(r,t))}}};function HO(e,t){let n=!1,o=!1,s=!1,i;const c=e.getOptions();return Object.assign(a=>{let u=_s;t.onFatalError?u=t.onFatalError:c.onFatalError&&(u=c.onFatalError);const f=global.process.listeners("uncaughtException").filter(d=>d.name!=="domainUncaughtExceptionClear"&&d.tag!=="sentry_tracingErrorCallback"&&d._errorHandler!==!0).length===0,p=t.exitEvenIfOtherHandlersAreRegistered||f;n?p&&(s?(Xt&&R.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),_s(a)):o||(o=!0,setTimeout(()=>{s||(s=!0,u(i,a))},2e3))):(i=a,n=!0,re()===e&&Vt(a,{originalException:a,captureContext:{level:"fatal"},mechanism:{handled:!1,type:"onuncaughtexception"}}),!s&&p&&(s=!0,u(a)))},{_errorHandler:!0})}const VO="OnUnhandledRejection",qO=(e={})=>{const t={mode:"warn",...e};return{name:VO,setup(r){global.process.on("unhandledRejection",zO(r,t))}}},XO=qO;function zO(e,t){return function(n,o){if(re()!==e)return;const s=t.mode==="strict"?"fatal":"error",i=n&&typeof n=="object"?n._sentry_active_span:void 0;(i?a=>lT(i,a):a=>a())(()=>{Vt(n,{originalException:o,captureContext:{extra:{unhandledPromiseRejection:!0},level:s},mechanism:{handled:!1,type:"onunhandledrejection"}})}),YO(n,t.mode)}}function YO(e,t){const r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";t==="warn"?tt(()=>{console.warn(r),console.error(e&&typeof e=="object"&&"stack"in e?e.stack:e)}):t==="strict"&&(tt(()=>{console.warn(r)}),_s(e))}var nf={},Ln={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.AbstractAsyncHooksContextManager=void 0;const WO=pf,KO=["addListener","on","once","prependListener","prependOnceListener"];class JO{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(t,r){return r instanceof WO.EventEmitter?this._bindEventEmitter(t,r):typeof r=="function"?this._bindFunction(t,r):r}_bindFunction(t,r){const n=this,o=function(...s){return n.with(t,()=>r.apply(this,s))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),o}_bindEventEmitter(t,r){return this._getPatchMap(r)!==void 0||(this._createPatchMap(r),KO.forEach(o=>{r[o]!==void 0&&(r[o]=this._patchAddListener(r,r[o],t))}),typeof r.removeListener=="function"&&(r.removeListener=this._patchRemoveListener(r,r.removeListener)),typeof r.off=="function"&&(r.off=this._patchRemoveListener(r,r.off)),typeof r.removeAllListeners=="function"&&(r.removeAllListeners=this._patchRemoveAllListeners(r,r.removeAllListeners))),r}_patchRemoveListener(t,r){const n=this;return function(o,s){var i;const c=(i=n._getPatchMap(t))===null||i===void 0?void 0:i[o];if(c===void 0)return r.call(this,o,s);const a=c.get(s);return r.call(this,o,a||s)}}_patchRemoveAllListeners(t,r){const n=this;return function(o){const s=n._getPatchMap(t);return s!==void 0&&(arguments.length===0?n._createPatchMap(t):s[o]!==void 0&&delete s[o]),r.apply(this,arguments)}}_patchAddListener(t,r,n){const o=this;return function(s,i){if(o._wrapped)return r.call(this,s,i);let c=o._getPatchMap(t);c===void 0&&(c=o._createPatchMap(t));let a=c[s];a===void 0&&(a=new WeakMap,c[s]=a);const u=o.bind(n,i);a.set(i,u),o._wrapped=!0;try{return r.call(this,s,u)}finally{o._wrapped=!1}}}_createPatchMap(t){const r=Object.create(null);return t[this._kOtListeners]=r,r}_getPatchMap(t){return t[this._kOtListeners]}}_r.AbstractAsyncHooksContextManager=JO;Object.defineProperty(Ln,"__esModule",{value:!0});Ln.AsyncHooksContextManager=void 0;const ZO=Is,QO=Lc,e0=_r;class t0 extends e0.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=QO.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var t;return(t=this._stack[this._stack.length-1])!==null&&t!==void 0?t:ZO.ROOT_CONTEXT}with(t,r,n,...o){this._enterContext(t);try{return r.call(n,...o)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(t,r){if(r==="TIMERWRAP")return;const n=this._stack[this._stack.length-1];n!==void 0&&this._contexts.set(t,n)}_destroy(t){this._contexts.delete(t)}_before(t){const r=this._contexts.get(t);r!==void 0&&this._enterContext(r)}_after(){this._exitContext()}_enterContext(t){this._stack.push(t)}_exitContext(){this._stack.pop()}}Ln.AsyncHooksContextManager=t0;var $n={};Object.defineProperty($n,"__esModule",{value:!0});$n.AsyncLocalStorageContextManager=void 0;const r0=Is,n0=Lc,o0=_r;class s0 extends o0.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new n0.AsyncLocalStorage}active(){var t;return(t=this._asyncLocalStorage.getStore())!==null&&t!==void 0?t:r0.ROOT_CONTEXT}with(t,r,n,...o){const s=n==null?r:r.bind(n);return this._asyncLocalStorage.run(t,s,...o)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}$n.AsyncLocalStorageContextManager=s0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncLocalStorageContextManager=e.AsyncHooksContextManager=void 0;var t=Ln;Object.defineProperty(e,"AsyncHooksContextManager",{enumerable:!0,get:function(){return t.AsyncHooksContextManager}});var r=$n;Object.defineProperty(e,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return r.AsyncLocalStorageContextManager}})})(nf);const i0=SO(nf.AsyncLocalStorageContextManager);function a0(){x.disable(),x.setLogger({error:R.error,warn:R.warn,info:R.log,debug:R.log,verbose:R.log},q.DEBUG)}function Ac(e){return e.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}function c0(e=process.argv[1]?VR(process.argv[1]):process.cwd(),t=Co.sep==="\\"){const r=t?Ac(e):e;return n=>{if(!n)return;const o=t?Ac(n):n;let{dir:s,base:i,ext:c}=Co.posix.parse(o);(c===".js"||c===".mjs"||c===".cjs")&&(i=i.slice(0,c.length*-1));const a=decodeURIComponent(i);s||(s=".");const u=s.lastIndexOf("/node_modules");if(u>-1)return`${s.slice(u+14).replace(/\//g,".")}:${a}`;if(s.startsWith(r)){const l=s.slice(r.length+1).replace(/\//g,".");return l?`${l}:${a}`:a}return a}}const u0=6e4;class l0 extends sR{constructor(t){const r=t.includeServerName===!1?void 0:t.serverName||global.process.env.SENTRY_NAME||hf.hostname(),n={...t,platform:"node",runtime:{name:"node",version:global.process.version},serverName:r};t.openTelemetryInstrumentations&&yn({instrumentations:t.openTelemetryInstrumentations}),_R(n,"node"),R.log(`Initializing Sentry: process: ${process.pid}, thread: ${No.isMainThread?"main":`worker-${No.threadId}`}.`),super(n);const{enableLogs:o,_experiments:s}=this.getOptions();(o??(s==null?void 0:s.enableLogs))&&(this._logOnExitFlushListener=()=>{Xr(this)},r&&this.on("beforeCaptureLog",c=>{c.attributes={...c.attributes,"server.address":r}}),process.on("beforeExit",this._logOnExitFlushListener))}get tracer(){if(this._tracer)return this._tracer;const t="@sentry/node",r=ge,n=F.getTracer(t,r);return this._tracer=n,n}async flush(t){const r=this.traceProvider;return await(r==null?void 0:r.forceFlush()),this.getOptions().sendClientReports&&this._flushOutcomes(),super.flush(t)}close(t){return this._clientReportInterval&&clearInterval(this._clientReportInterval),this._clientReportOnExitFlushListener&&process.off("beforeExit",this._clientReportOnExitFlushListener),this._logOnExitFlushListener&&process.off("beforeExit",this._logOnExitFlushListener),super.close(t)}startClientReportTracking(){const t=this.getOptions();t.sendClientReports&&(this._clientReportOnExitFlushListener=()=>{this._flushOutcomes()},this._clientReportInterval=setInterval(()=>{Xt&&R.log("Flushing client reports based on interval."),this._flushOutcomes()},t.clientReportFlushInterval??u0).unref(),process.on("beforeExit",this._clientReportOnExitFlushListener))}_getTraceInfoFromScope(t){return t?gO(this,t):[void 0,void 0]}}var of={},Mn={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.PACKAGE_NAME=Rt.PACKAGE_VERSION=void 0;Rt.PACKAGE_VERSION="0.10.1";Rt.PACKAGE_NAME="@opentelemetry/instrumentation-undici";var xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.SemanticAttributes=void 0;xn.SemanticAttributes={HTTP_CONNECTION_STATE:"http.connection.state",ERROR_TYPE:"error.type",HTTP_REQUEST_BODY_SIZE:"http.request.body.size",HTTP_REQUEST_METHOD:"http.request.method",HTTP_REQUEST_METHOD_ORIGINAL:"http.request.method_original",HTTP_REQUEST_RESEND_COUNT:"http.request.resend_count",HTTP_RESPONSE_BODY_SIZE:"http.response.body.size",HTTP_RESPONSE_STATUS_CODE:"http.response.status_code",HTTP_ROUTE:"http.route",NETWORK_PEER_ADDRESS:"network.peer.address",NETWORK_PEER_PORT:"network.peer.port",NETWORK_PROTOCOL_NAME:"network.protocol.name",NETWORK_PROTOCOL_VERSION:"network.protocol.version",SERVER_ADDRESS:"server.address",SERVER_PORT:"server.port",URL_FULL:"url.full",URL_PATH:"url.path",URL_QUERY:"url.query",URL_SCHEME:"url.scheme",USER_AGENT_ORIGINAL:"user_agent.original"};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.UndiciInstrumentation=void 0;const Ft=$c,f0=wc,Ut=xS,ue=Is,bc=Rt,Z=xn,Fr=Sh;class p0 extends Ut.InstrumentationBase{constructor(t={}){super(bc.PACKAGE_NAME,bc.PACKAGE_VERSION,t),this._recordFromReq=new WeakMap}init(){}disable(){super.disable(),this._channelSubs.forEach(t=>t.unsubscribe()),this._channelSubs.length=0}enable(){super.enable(),this._channelSubs=this._channelSubs||[],!(this._channelSubs.length>0)&&(this.subscribeToChannel("undici:request:create",this.onRequestCreated.bind(this)),this.subscribeToChannel("undici:client:sendHeaders",this.onRequestHeaders.bind(this)),this.subscribeToChannel("undici:request:headers",this.onResponseHeaders.bind(this)),this.subscribeToChannel("undici:request:trailers",this.onDone.bind(this)),this.subscribeToChannel("undici:request:error",this.onError.bind(this)))}_updateMetricInstruments(){this._httpClientDurationHistogram=this.meter.createHistogram("http.client.request.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"s",valueType:ue.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.005,.01,.025,.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10]}})}subscribeToChannel(t,r){var n;const[o,s]=process.version.replace("v","").split(".").map(a=>Number(a)),i=o>18||o===18&&s>=19;let c;if(i)(n=Ft.subscribe)===null||n===void 0||n.call(Ft,t,r),c=()=>{var a;return(a=Ft.unsubscribe)===null||a===void 0?void 0:a.call(Ft,t,r)};else{const a=Ft.channel(t);a.subscribe(r),c=()=>a.unsubscribe(r)}this._channelSubs.push({name:t,unsubscribe:c})}onRequestCreated({request:t}){const r=this.getConfig(),n=r.enabled!==!1;if((0,Ut.safeExecuteInTheMiddle)(()=>{var E;return!n||t.method==="CONNECT"||((E=r.ignoreRequestHook)===null||E===void 0?void 0:E.call(r,t))},E=>E&&this._diag.error("caught ignoreRequestHook error: ",E),!0))return;const s=(0,Fr.hrTime)();let i;try{i=new f0.URL(t.path,t.origin)}catch(E){this._diag.warn("could not determine url.full:",E);return}const c=i.protocol.replace(":",""),a=this.getRequestMethod(t.method),u={[Z.SemanticAttributes.HTTP_REQUEST_METHOD]:a,[Z.SemanticAttributes.HTTP_REQUEST_METHOD_ORIGINAL]:t.method,[Z.SemanticAttributes.URL_FULL]:i.toString(),[Z.SemanticAttributes.URL_PATH]:i.pathname,[Z.SemanticAttributes.URL_QUERY]:i.search,[Z.SemanticAttributes.URL_SCHEME]:c},l={https:"443",http:"80"},f=i.hostname,p=i.port||l[c];u[Z.SemanticAttributes.SERVER_ADDRESS]=f,p&&!isNaN(Number(p))&&(u[Z.SemanticAttributes.SERVER_PORT]=Number(p));let d;if(Array.isArray(t.headers)){const E=t.headers.findIndex(j=>j.toLowerCase()==="user-agent");E>=0&&(d=t.headers[E+1])}else if(typeof t.headers=="string"){const j=t.headers.split(`\r
`).find(H=>H.toLowerCase().startsWith("user-agent"));d=j&&j.substring(j.indexOf(":")+1).trim()}d&&(u[Z.SemanticAttributes.USER_AGENT_ORIGINAL]=d);const m=(0,Ut.safeExecuteInTheMiddle)(()=>{var E;return(E=r.startSpanHook)===null||E===void 0?void 0:E.call(r,t)},E=>E&&this._diag.error("caught startSpanHook error: ",E),!0);m&&Object.entries(m).forEach(([E,j])=>{u[E]=j});const _=ue.context.active(),v=ue.trace.getSpan(_);let h;r.requireParentforSpans&&(!v||!ue.trace.isSpanContextValid(v.spanContext()))?h=ue.trace.wrapSpanContext(ue.INVALID_SPAN_CONTEXT):h=this.tracer.startSpan(a==="_OTHER"?"HTTP":a,{kind:ue.SpanKind.CLIENT,attributes:u},_),(0,Ut.safeExecuteInTheMiddle)(()=>{var E;return(E=r.requestHook)===null||E===void 0?void 0:E.call(r,h,t)},E=>E&&this._diag.error("caught requestHook error: ",E),!0);const S=ue.trace.setSpan(ue.context.active(),h),g={};ue.propagation.inject(S,g);const y=Object.entries(g);for(let E=0;E<y.length;E++){const[j,H]=y[E];typeof t.addHeader=="function"?t.addHeader(j,H):typeof t.headers=="string"?t.headers+=`${j}: ${H}\r
`:Array.isArray(t.headers)&&t.headers.push(j,H)}this._recordFromReq.set(t,{span:h,attributes:u,startTime:s})}onRequestHeaders({request:t,socket:r}){var n;const o=this._recordFromReq.get(t);if(!o)return;const s=this.getConfig(),{span:i}=o,{remoteAddress:c,remotePort:a}=r,u={[Z.SemanticAttributes.NETWORK_PEER_ADDRESS]:c,[Z.SemanticAttributes.NETWORK_PEER_PORT]:a};if(!((n=s.headersToSpanAttributes)===null||n===void 0)&&n.requestHeaders){const l=new Set(s.headersToSpanAttributes.requestHeaders.map(p=>p.toLowerCase())),f=Array.isArray(t.headers)?t.headers:t.headers.split(`\r
`);f.forEach((p,d)=>{const m=p.indexOf(":"),_=m!==-1,v=(_?p.substring(0,m):p).toLowerCase(),h=_?p.substring(m+1):f[d+1];l.has(v)&&(u[`http.request.header.${v}`]=h.trim())})}i.setAttributes(u)}onResponseHeaders({request:t,response:r}){var n,o;const s=this._recordFromReq.get(t);if(!s)return;const{span:i,attributes:c}=s,a={[Z.SemanticAttributes.HTTP_RESPONSE_STATUS_CODE]:r.statusCode},u=this.getConfig();(0,Ut.safeExecuteInTheMiddle)(()=>{var f;return(f=u.responseHook)===null||f===void 0?void 0:f.call(u,i,{request:t,response:r})},f=>f&&this._diag.error("caught responseHook error: ",f),!0);const l=new Set;!((n=u.headersToSpanAttributes)===null||n===void 0)&&n.responseHeaders&&((o=u.headersToSpanAttributes)===null||o===void 0||o.responseHeaders.forEach(f=>l.add(f.toLowerCase())));for(let f=0;f<r.headers.length;f=f+2){const p=r.headers[f].toString().toLowerCase(),d=r.headers[f+1];if(l.has(p)&&(a[`http.response.header.${p}`]=d.toString()),p==="content-length"){const m=Number(d.toString());isNaN(m)||(a["http.response.header.content-length"]=m)}}i.setAttributes(a),i.setStatus({code:r.statusCode>=400?ue.SpanStatusCode.ERROR:ue.SpanStatusCode.UNSET}),s.attributes=Object.assign(c,a)}onDone({request:t}){const r=this._recordFromReq.get(t);if(!r)return;const{span:n,attributes:o,startTime:s}=r;n.end(),this._recordFromReq.delete(t),this.recordRequestDuration(o,s)}onError({request:t,error:r}){const n=this._recordFromReq.get(t);if(!n)return;const{span:o,attributes:s,startTime:i}=n;o.recordException(r),o.setStatus({code:ue.SpanStatusCode.ERROR,message:r.message}),o.end(),this._recordFromReq.delete(t),s[Z.SemanticAttributes.ERROR_TYPE]=r.message,this.recordRequestDuration(s,i)}recordRequestDuration(t,r){const n={};[Z.SemanticAttributes.HTTP_RESPONSE_STATUS_CODE,Z.SemanticAttributes.HTTP_REQUEST_METHOD,Z.SemanticAttributes.SERVER_ADDRESS,Z.SemanticAttributes.SERVER_PORT,Z.SemanticAttributes.URL_SCHEME,Z.SemanticAttributes.ERROR_TYPE].forEach(i=>{i in t&&(n[i]=t[i])});const s=(0,Fr.hrTimeToMilliseconds)((0,Fr.hrTimeDuration)(r,(0,Fr.hrTime)()))/1e3;this._httpClientDurationHistogram.record(s,n)}getRequestMethod(t){const r={CONNECT:!0,OPTIONS:!0,HEAD:!0,GET:!0,POST:!0,PUT:!0,PATCH:!0,DELETE:!0,TRACE:!0};return t.toUpperCase()in r?t.toUpperCase():"_OTHER"}}Mn.UndiciInstrumentation=p0;var sf={};Object.defineProperty(sf,"__esModule",{value:!0});(function(e){var t=vr&&vr.__createBinding||(Object.create?function(n,o,s,i){i===void 0&&(i=s),Object.defineProperty(n,i,{enumerable:!0,get:function(){return o[s]}})}:function(n,o,s,i){i===void 0&&(i=s),n[i]=o[s]}),r=vr&&vr.__exportStar||function(n,o){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Mn,e),r(sf,e)})(of);const af="NodeFetch",d0=xl(af,of.UndiciInstrumentation,e=>v0(e)),h0=xl(`${af}.sentry`,kO,e=>e),_0=(e={})=>({name:"NodeFetch",setupOnce(){var r;E0(e,(r=re())==null?void 0:r.getOptions())&&d0(e),h0(e)}}),g0=_0;function m0(e,t="/"){const r=`${e}`;return r.endsWith("/")&&t.startsWith("/")?`${r}${t.slice(1)}`:!r.endsWith("/")&&!t.startsWith("/")?`${r}/${t.slice(1)}`:`${r}${t}`}function E0(e,t={}){return typeof e.spans=="boolean"?e.spans:!t.skipOpenTelemetrySetup&&Pn(t)}function v0(e={}){return{requireParentforSpans:!1,ignoreRequestHook:r=>{const n=m0(r.origin,r.path),o=e.ignoreOutgoingRequests;return!!(o&&n&&o(n))},startSpanHook:()=>({[It]:"auto.http.otel.node_fetch"})}}const Ic=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Po=1e6;function S0(e,t={}){e.getOptions().debug&&a0();const r=y0(e,t);e.traceProvider=r}function y0(e,t={}){const r=new G1({sampler:new LO(e),resource:new as({[S1]:"node",[E1]:"sentry",[y1]:ge}),forceFlushTimeoutMillis:500,spanProcessors:[new wO({timeout:T0(e.getOptions().maxSpanWaitDuration)}),...t.spanProcessors||[]]});return F.setGlobalTracerProvider(r),Re.setGlobalPropagator(new sO),G.setGlobalContextManager(new i0),r}function T0(e){if(e!=null){if(e>Po)return Ic&&R.warn(`\`maxSpanWaitDuration\` is too high, using the maximum value of ${Po}`),Po;if(e<=0||Number.isNaN(e)){Ic&&R.warn("`maxSpanWaitDuration` must be a positive number, using default value instead.");return}return e}}var Pc;(function(e){e[e.Classic=1]="Classic",e[e.Protocol=2]="Protocol",e[e.Both=3]="Both"})(Pc||(Pc={}));var Cc;(function(e){e.RENDERER_START="sentry-electron.renderer-start",e.SCOPE="sentry-electron.scope",e.ENVELOPE="sentry-electron.envelope",e.STATUS="sentry-electron.status",e.STRUCTURED_LOG="sentry-electron.structured-log"})(Cc||(Cc={}));const cf="__sentry_message_port_message__";function Nc(e){return!!(e&&typeof e=="object"&&cf in e)}function R0(){return{[cf]:!0}}function O0(){let e;async function t(r){let n=0;for(;e===void 0;)if(await new Promise(o=>setTimeout(o,100)),n+=1,n>=50)throw new Error("Timeout waiting for message port to send event to main process");e.postMessage(r)}return process.parentPort.on("message",r=>{if(Nc(r.data)){const[n]=r.ports;e=n,e==null||e.start()}}),process.parentPort.on=new Proxy(process.parentPort.on,{apply:(r,n,[o,s])=>o==="message"?r.apply(n,["message",i=>{if(!Nc(i.data))return s(i)}]):r.apply(n,[o,s])}),process.parentPort.postMessage(R0()),r=>hR(r,async n=>(await t(n.body),{statusCode:200}))}const A0=Qu(JR(c0()));function b0(){return[AR(),TR(),FR(),XR(),g0(),GO(),XO()]}function I0(e={}){const t={defaultIntegrations:b0(),transport:O0(),sendClientReports:!1,...e,stackParser:GS(e.stackParser||A0),dsn:"https://12345@dummy.dsn/12345",includeServerName:!1},r={...t,integrations:FT(t)};r.debug&&R.enable(),vO();const n=Se();n.update(r.initialScope);const o=new l0(r);n.setClient(o),o.init(),r.skipOpenTelemetrySetup||S0(o)}const P0="Granola";function C0(e){return P0+` Helper (${e})`}I0();process.title=C0("Storage");process.parentPort.on("message",e=>{try{const{event:t,path:r,data:n}=e.data,o=JSON.stringify(n);switch(t){case"write-storage":Ai.mkdir(Co.dirname(r),{recursive:!0},s=>{if(s){console.error(s),Vt(s),process.parentPort.postMessage({event:"log-to-backend",level:"error",logEvent:"storage-process-error-mkdir",payload:{error:_t(s)}}),process.parentPort.postMessage({event:"write-storage-done"});return}Ai.writeFile(r,o,"utf-8",i=>{i&&(console.error(i),Vt(i),process.parentPort.postMessage({event:"log-to-backend",level:"error",logEvent:"storage-process-error-write-file",payload:{error:_t(i)}})),process.parentPort.postMessage({event:"write-storage-done"})})});break}}catch(t){console.error(t),Vt(t),process.parentPort.postMessage({event:"log-to-backend",level:"error",logEvent:"storage-process-error-uncaught",payload:{error:_t(t)}})}});
//# sourceMappingURL=index.js.map
