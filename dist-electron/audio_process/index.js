"use strict";var mf=Object.defineProperty;var Ef=(e,t,n)=>t in e?mf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ni=(e,t,n)=>Ef(e,typeof t!="symbol"?t+"":t,n);const wi=require("node:path"),vf=require("node:os"),Mo=require("worker_threads"),qe=require("path"),Uc=require("url"),Sf=require("module"),yf=require("perf_hooks"),Bc=require("async_hooks"),Tf=require("events"),jc=require("diagnostics_channel"),xo=require("util"),Rf=require("tty"),Gc=require("os"),Ss=require("fs"),Of=require("lodash");require("node:events");require("electron");function ys(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const Af=ys(vf),Ke=ys(qe),We=ys(jc);class bf extends Error{constructor(n){super(`Unreachable code reached: ${n}`);Ni(this,"code","UNREACHABLE_CODE");this.name="UnreachableError"}}function If(e){throw console.trace("Reached unreachable code with unhandled value:",e),new bf(e)}var Pf=typeof globalThis=="object"?globalThis:global,Qe="1.9.0",Li=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Cf(e){var t=new Set([e]),n=new Set,r=e.match(Li);if(!r)return function(){return!1};var o={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(o.prerelease!=null)return function(a){return a===e};function s(c){return n.add(c),!1}function i(c){return t.add(c),!0}return function(a){if(t.has(a))return!0;if(n.has(a))return!1;var u=a.match(Li);if(!u)return s(a);var l={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return l.prerelease!=null||o.major!==l.major?s(a):o.major===0?o.minor===l.minor&&o.patch<=l.patch?i(a):s(a):o.minor<=l.minor?i(a):s(a)}}var Nf=Cf(Qe),wf=Qe.split(".")[0],Wt=Symbol.for("opentelemetry.js.api."+wf),Kt=Pf;function rn(e,t,n,r){var o;r===void 0&&(r=!1);var s=Kt[Wt]=(o=Kt[Wt])!==null&&o!==void 0?o:{version:Qe};if(!r&&s[e]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(i.stack||i.message),!1}if(s.version!==Qe){var i=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+Qe);return n.error(i.stack||i.message),!1}return s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Qe+"."),!0}function nt(e){var t,n,r=(t=Kt[Wt])===null||t===void 0?void 0:t.version;if(!(!r||!Nf(r)))return(n=Kt[Wt])===null||n===void 0?void 0:n[e]}function on(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Qe+".");var n=Kt[Wt];n&&delete n[e]}var Lf=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},$f=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},Mf=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return xt("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return xt("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return xt("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return xt("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return xt("verbose",this._namespace,t)},e}();function xt(e,t,n){var r=nt("diag");if(r)return n.unshift(t),r[e].apply(r,$f([],Lf(n),!1))}var q;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(q||(q={}));function xf(e,t){e<q.NONE?e=q.NONE:e>q.ALL&&(e=q.ALL),t=t||{};function n(r,o){var s=t[r];return typeof s=="function"&&e>=o?s.bind(t):function(){}}return{error:n("error",q.ERROR),warn:n("warn",q.WARN),info:n("info",q.INFO),debug:n("debug",q.DEBUG),verbose:n("verbose",q.VERBOSE)}}var Df=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},kf=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},Ff="diag",Oe=function(){function e(){function t(o){return function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var c=nt("diag");if(c)return c[o].apply(c,kf([],Df(s),!1))}}var n=this,r=function(o,s){var i,c,a;if(s===void 0&&(s={logLevel:q.INFO}),o===n){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((i=u.stack)!==null&&i!==void 0?i:u.message),!1}typeof s=="number"&&(s={logLevel:s});var l=nt("diag"),f=xf((c=s.logLevel)!==null&&c!==void 0?c:q.INFO,o);if(l&&!s.suppressOverrideMessage){var p=(a=new Error().stack)!==null&&a!==void 0?a:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),f.warn("Current logger will overwrite one already registered from "+p)}return rn("diag",f,n,!0)};n.setLogger=r,n.disable=function(){on(Ff,n)},n.createComponentLogger=function(o){return new Mf(o)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),Uf=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},Bf=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jf=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=Uf(t,2),r=n[0],o=n[1];return[r,o]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=new e(this._entries);try{for(var i=Bf(r),c=i.next();!c.done;c=i.next()){var a=c.value;s._entries.delete(a)}}catch(u){t={error:u}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),Gf=Symbol("BaggageEntryMetadata"),Hf=Oe.instance();function Vf(e){return e===void 0&&(e={}),new jf(new Map(Object.entries(e)))}function Hc(e){return typeof e!="string"&&(Hf.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:Gf,toString:function(){return e}}}function De(e){return Symbol.for(e)}var qf=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,o){var s=new e(n._currentContext);return s._currentContext.set(r,o),s},n.deleteValue=function(r){var o=new e(n._currentContext);return o._currentContext.delete(r),o}}return e}(),Ts=new qf,Br=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Xf=function(){function e(){function t(r){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(console){var i=console[r];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,o)}}}for(var n=0;n<Br.length;n++)this[Br[n].n]=t(Br[n].c)}return e}(),it=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zf=function(){function e(){}return e.prototype.createGauge=function(t,n){return np},e.prototype.createHistogram=function(t,n){return rp},e.prototype.createCounter=function(t,n){return tp},e.prototype.createUpDownCounter=function(t,n){return op},e.prototype.createObservableGauge=function(t,n){return ip},e.prototype.createObservableCounter=function(t,n){return sp},e.prototype.createObservableUpDownCounter=function(t,n){return ap},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),pr=function(){function e(){}return e}(),Yf=function(e){it(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(pr),Wf=function(e){it(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(pr),Kf=function(e){it(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(pr),Jf=function(e){it(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(pr),Rs=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),Zf=function(e){it(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Rs),Qf=function(e){it(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Rs),ep=function(e){it(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Rs),Vc=new zf,tp=new Yf,np=new Kf,rp=new Jf,op=new Wf,sp=new Zf,ip=new Qf,ap=new ep;function cp(){return Vc}var Do;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(Do||(Do={}));var qc={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},Xc={set:function(e,t,n){e!=null&&(e[t]=n)}},up=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},lp=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},fp=function(){function e(){}return e.prototype.active=function(){return Ts},e.prototype.with=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return n.call.apply(n,lp([r],up(o),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),pp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},dp=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},jr="context",hp=new fp,dr=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return rn(jr,t,Oe.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var o,s=[],i=3;i<arguments.length;i++)s[i-3]=arguments[i];return(o=this._getContextManager()).with.apply(o,dp([t,n,r],pp(s),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return nt(jr)||hp},e.prototype.disable=function(){this._getContextManager().disable(),on(jr,Oe.instance())},e}(),te;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(te||(te={}));var Os="0000000000000000",hr="00000000000000000000000000000000",As={traceId:hr,spanId:Os,traceFlags:te.NONE},Ht=function(){function e(t){t===void 0&&(t=As),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),bs=De("OpenTelemetry Context Key SPAN");function Is(e){return e.getValue(bs)||void 0}function _p(){return Is(dr.getInstance().active())}function Ps(e,t){return e.setValue(bs,t)}function gp(e){return e.deleteValue(bs)}function mp(e,t){return Ps(e,new Ht(t))}function zc(e){var t;return(t=Is(e))===null||t===void 0?void 0:t.spanContext()}var Ep=/^([0-9a-f]{32})$/i,vp=/^[0-9a-f]{16}$/i;function _r(e){return Ep.test(e)&&e!==hr}function Yc(e){return vp.test(e)&&e!==Os}function Xe(e){return _r(e.traceId)&&Yc(e.spanId)}function Sp(e){return new Ht(e)}var Gr=dr.getInstance(),Wc=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=Gr.active());var o=!!(n!=null&&n.root);if(o)return new Ht;var s=r&&zc(r);return yp(s)&&Xe(s)?new Ht(s):new Ht},e.prototype.startActiveSpan=function(t,n,r,o){var s,i,c;if(!(arguments.length<2)){arguments.length===2?c=n:arguments.length===3?(s=n,c=r):(s=n,i=r,c=o);var a=i??Gr.active(),u=this.startSpan(t,s,a),l=Ps(a,u);return Gr.with(l,c,void 0,u)}},e}();function yp(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var Tp=new Wc,Kc=function(){function e(t,n,r,o){this._provider=t,this.name=n,this.version=r,this.options=o}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,o){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):Tp},e}(),Rp=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new Wc},e}(),Op=new Rp,ko=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var o;return(o=this.getDelegateTracer(t,n,r))!==null&&o!==void 0?o:new Kc(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:Op},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(t,n,r)},e}(),Me;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Me||(Me={}));var fe;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(fe||(fe={}));var Le;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Le||(Le={}));var Fo="[_0-9a-z-*/]",Ap="[a-z]"+Fo+"{0,255}",bp="[a-z0-9]"+Fo+"{0,240}@[a-z]"+Fo+"{0,13}",Ip=new RegExp("^(?:"+Ap+"|"+bp+")$"),Pp=/^[ -~]{0,255}[!-~]$/,Cp=/,|=/;function Np(e){return Ip.test(e)}function wp(e){return Pp.test(e)&&!Cp.test(e)}var $i=32,Lp=512,Mi=",",xi="=",$p=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,n),r},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,r){return n.push(r+xi+t.get(r)),n},[]).join(Mi)},e.prototype._parse=function(t){t.length>Lp||(this._internalState=t.split(Mi).reverse().reduce(function(n,r){var o=r.trim(),s=o.indexOf(xi);if(s!==-1){var i=o.slice(0,s),c=o.slice(s+1,r.length);Np(i)&&wp(c)&&n.set(i,c)}return n},new Map),this._internalState.size>$i&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,$i))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function Mp(e){return new $p(e)}var G=dr.getInstance(),x=Oe.instance(),xp=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return Vc},e}(),Dp=new xp,Hr="metrics",kp=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return rn(Hr,t,Oe.instance())},e.prototype.getMeterProvider=function(){return nt(Hr)||Dp},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){on(Hr,Oe.instance())},e}(),gr=kp.getInstance(),Fp=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),Cs=De("OpenTelemetry Baggage Key");function Jc(e){return e.getValue(Cs)||void 0}function Up(){return Jc(dr.getInstance().active())}function Bp(e,t){return e.setValue(Cs,t)}function jp(e){return e.deleteValue(Cs)}var Vr="propagation",Gp=new Fp,Hp=function(){function e(){this.createBaggage=Vf,this.getBaggage=Jc,this.getActiveBaggage=Up,this.setBaggage=Bp,this.deleteBaggage=jp}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return rn(Vr,t,Oe.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=Xc),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=qc),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){on(Vr,Oe.instance())},e.prototype._getGlobalPropagator=function(){return nt(Vr)||Gp},e}(),Re=Hp.getInstance(),qr="trace",Vp=function(){function e(){this._proxyTracerProvider=new ko,this.wrapSpanContext=Sp,this.isSpanContextValid=Xe,this.deleteSpan=gp,this.getSpan=Is,this.getActiveSpan=_p,this.getSpanContext=zc,this.setSpan=Ps,this.setSpanContext=mp}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=rn(qr,this._proxyTracerProvider,Oe.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return nt(qr)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){on(qr,Oe.instance()),this._proxyTracerProvider=new ko},e}(),F=Vp.getInstance();const qp={context:G,diag:x,metrics:gr,propagation:Re,trace:F},Xp=Object.freeze(Object.defineProperty({__proto__:null,DiagConsoleLogger:Xf,get DiagLogLevel(){return q},INVALID_SPANID:Os,INVALID_SPAN_CONTEXT:As,INVALID_TRACEID:hr,ProxyTracer:Kc,ProxyTracerProvider:ko,ROOT_CONTEXT:Ts,get SamplingDecision(){return Me},get SpanKind(){return fe},get SpanStatusCode(){return Le},get TraceFlags(){return te},get ValueType(){return Do},baggageEntryMetadataFromString:Hc,context:G,createContextKey:De,createNoopMeter:cp,createTraceState:Mp,default:qp,defaultTextMapGetter:qc,defaultTextMapSetter:Xc,diag:x,isSpanContextValid:Xe,isValidSpanId:Yc,isValidTraceId:_r,metrics:gr,propagation:Re,trace:F},Symbol.toStringTag,{value:"Module"}));var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ns(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}const ws=Ns(Xp);var Ls=De("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function at(e){return e.setValue(Ls,!0)}function zp(e){return e.deleteValue(Ls)}function It(e){return e.getValue(Ls)===!0}var Yp="=",Uo=";",Jn=",",Xr="baggage",Wp=180,Kp=4096,Jp=8192,Zp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s};function Zc(e){return e.reduce(function(t,n){var r=""+t+(t!==""?Jn:"")+n;return r.length>Jp?t:r},"")}function Qc(e){return e.getAllEntries().map(function(t){var n=Zp(t,2),r=n[0],o=n[1],s=encodeURIComponent(r)+"="+encodeURIComponent(o.value);return o.metadata!==void 0&&(s+=Uo+o.metadata.toString()),s})}function $s(e){var t=e.split(Uo);if(!(t.length<=0)){var n=t.shift();if(n){var r=n.indexOf(Yp);if(!(r<=0)){var o=decodeURIComponent(n.substring(0,r).trim()),s=decodeURIComponent(n.substring(r+1).trim()),i;return t.length>0&&(i=Hc(t.join(Uo))),{key:o,value:s,metadata:i}}}}}function Qp(e){return typeof e!="string"||e.length===0?{}:e.split(Jn).map(function(t){return $s(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,n){return t[n.key]=n.value,t},{})}var Ms=function(){function e(){}return e.prototype.inject=function(t,n,r){var o=Re.getBaggage(t);if(!(!o||It(t))){var s=Qc(o).filter(function(c){return c.length<=Kp}).slice(0,Wp),i=Zc(s);i.length>0&&r.set(n,Xr,i)}},e.prototype.extract=function(t,n,r){var o=r.get(n,Xr),s=Array.isArray(o)?o.join(Jn):o;if(!s)return t;var i={};if(s.length===0)return t;var c=s.split(Jn);return c.forEach(function(a){var u=$s(a);if(u){var l={value:u.value};u.metadata&&(l.metadata=u.metadata),i[u.key]=l}}),Object.entries(i).length===0?t:Re.setBaggage(t,Re.createBaggage(i))},e.prototype.fields=function(){return[Xr]},e}(),e5=function(){function e(t,n){this._monotonicClock=n,this._epochMillis=t.now(),this._performanceMillis=n.now()}return e.prototype.now=function(){var t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t},e}(),eu=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t5=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s};function Vt(e){var t,n,r={};if(typeof e!="object"||e==null)return r;try{for(var o=eu(Object.entries(e)),s=o.next();!s.done;s=o.next()){var i=t5(s.value,2),c=i[0],a=i[1];if(!tu(c)){x.warn("Invalid attribute key: "+c);continue}if(!xs(a)){x.warn("Invalid attribute value set for key: "+c);continue}Array.isArray(a)?r[c]=a.slice():r[c]=a}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function tu(e){return typeof e=="string"&&e.length>0}function xs(e){return e==null?!0:Array.isArray(e)?n5(e):nu(e)}function n5(e){var t,n,r;try{for(var o=eu(e),s=o.next();!s.done;s=o.next()){var i=s.value;if(i!=null){if(!r){if(nu(i)){r=typeof i;continue}return!1}if(typeof i!==r)return!1}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!0}function nu(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}function ru(){return function(e){x.error(r5(e))}}function r5(e){return typeof e=="string"?e:JSON.stringify(o5(e))}function o5(e){for(var t={},n=e;n!==null;)Object.getOwnPropertyNames(n).forEach(function(r){if(!t[r]){var o=n[r];o&&(t[r]=String(o))}}),n=Object.getPrototypeOf(n);return t}var ou=ru();function s5(e){ou=e}function yt(e){try{ou(e)}catch{}}var he;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(he||(he={}));var i5=",",a5=["OTEL_SDK_DISABLED"];function c5(e){return a5.indexOf(e)>-1}var u5=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function l5(e){return u5.indexOf(e)>-1}var f5=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function p5(e){return f5.indexOf(e)>-1}var qt=1/0,Xt=128,su=128,iu=128,Ds={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:q.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:qt,OTEL_ATTRIBUTE_COUNT_LIMIT:Xt,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:qt,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Xt,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:qt,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Xt,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:su,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:iu,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:he.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function d5(e,t,n){if(!(typeof n[e]>"u")){var r=String(n[e]);t[e]=r.toLowerCase()==="true"}}function h5(e,t,n,r,o){if(r===void 0&&(r=-1/0),o===void 0&&(o=1/0),typeof n[e]<"u"){var s=Number(n[e]);isNaN(s)||(s<r?t[e]=r:s>o?t[e]=o:t[e]=s)}}function _5(e,t,n,r){r===void 0&&(r=i5);var o=n[e];typeof o=="string"&&(t[e]=o.split(r).map(function(s){return s.trim()}))}var g5={ALL:q.ALL,VERBOSE:q.VERBOSE,DEBUG:q.DEBUG,INFO:q.INFO,WARN:q.WARN,ERROR:q.ERROR,NONE:q.NONE};function m5(e,t,n){var r=n[e];if(typeof r=="string"){var o=g5[r.toUpperCase()];o!=null&&(t[e]=o)}}function ks(e){var t={};for(var n in Ds){var r=n;switch(r){case"OTEL_LOG_LEVEL":m5(r,t,e);break;default:if(c5(r))d5(r,t,e);else if(l5(r))h5(r,t,e);else if(p5(r))_5(r,t,e);else{var o=e[r];typeof o<"u"&&o!==null&&(t[r]=String(o))}}}return t}function Tt(){var e=ks(process.env);return Object.assign({},Ds,e)}function au(){return ks(process.env)}var E5=typeof globalThis=="object"?globalThis:global;function Di(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function cu(e){for(var t=new Uint8Array(e.length/2),n=0,r=0;r<e.length;r+=2){var o=Di(e.charCodeAt(r)),s=Di(e.charCodeAt(r+1));t[n++]=o<<4|s}return t}function v5(e){return Buffer.from(cu(e)).toString("base64")}var S5=8,uu=16,y5=function(){function e(){this.generateTraceId=ki(uu),this.generateSpanId=ki(S5)}return e}(),Rn=Buffer.allocUnsafe(uu);function ki(e){return function(){for(var n=0;n<e/4;n++)Rn.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,n*4);for(var n=0;n<e&&!(Rn[n]>0);n++)n===e-1&&(Rn[e-1]=1);return Rn.toString("hex",0,e)}}var tt=yf.performance,lu="1.30.1",T5="exception.type",R5="exception.message",O5="exception.stacktrace",zr=T5,Yr=R5,A5=O5,b5="process.runtime.name",I5="service.name",P5="telemetry.sdk.name",C5="telemetry.sdk.language",N5="telemetry.sdk.version",w5=b5,L5=I5,Bo=P5,jo=C5,Go=N5,$5="nodejs",M5=$5,ft,Hn=(ft={},ft[Bo]="opentelemetry",ft[w5]="node",ft[jo]=M5,ft[Go]=lu,ft);function fu(e){e.unref()}var pu=9,x5=6,D5=Math.pow(10,x5),Zn=Math.pow(10,pu);function we(e){var t=e/1e3,n=Math.trunc(t),r=Math.round(e%1e3*D5);return[n,r]}function mr(){var e=tt.timeOrigin;if(typeof e!="number"){var t=tt;e=t.timing&&t.timing.fetchStart}return e}function Fs(e){var t=we(mr()),n=we(typeof e=="number"?e:tt.now());return Us(t,n)}function k5(e){if(Er(e))return e;if(typeof e=="number")return e<mr()?Fs(e):we(e);if(e instanceof Date)return we(e.getTime());throw TypeError("Invalid input type")}function du(e,t){var n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=Zn),[n,r]}function F5(e){var t=pu,n=""+"0".repeat(t)+e[1]+"Z",r=n.substring(n.length-t-1),o=new Date(e[0]*1e3).toISOString();return o.replace("000Z",r)}function U5(e){return e[0]*Zn+e[1]}function B5(e){return e[0]*1e3+e[1]/1e6}function j5(e){return e[0]*1e6+e[1]/1e3}function Er(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function Ho(e){return Er(e)||typeof e=="number"||e instanceof Date}function Us(e,t){var n=[e[0]+t[0],e[1]+t[1]];return n[1]>=Zn&&(n[1]-=Zn,n[0]+=1),n}var Qn;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(Qn||(Qn={}));var G5=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},hu=function(){function e(t){t===void 0&&(t={});var n;this._propagators=(n=t.propagators)!==null&&n!==void 0?n:[],this._fields=Array.from(new Set(this._propagators.map(function(r){return typeof r.fields=="function"?r.fields():[]}).reduce(function(r,o){return r.concat(o)},[])))}return e.prototype.inject=function(t,n,r){var o,s;try{for(var i=G5(this._propagators),c=i.next();!c.done;c=i.next()){var a=c.value;try{a.inject(t,n,r)}catch(u){x.warn("Failed to inject with "+a.constructor.name+". Err: "+u.message)}}}catch(u){o={error:u}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}},e.prototype.extract=function(t,n,r){return this._propagators.reduce(function(o,s){try{return s.extract(o,n,r)}catch(i){x.warn("Failed to extract with "+s.constructor.name+". Err: "+i.message)}return o},t)},e.prototype.fields=function(){return this._fields.slice()},e}(),Vo="[_0-9a-z-*/]",H5="[a-z]"+Vo+"{0,255}",V5="[a-z0-9]"+Vo+"{0,240}@[a-z]"+Vo+"{0,13}",q5=new RegExp("^(?:"+H5+"|"+V5+")$"),X5=/^[ -~]{0,255}[!-~]$/,z5=/,|=/;function Y5(e){return q5.test(e)}function W5(e){return X5.test(e)&&!z5.test(e)}var Fi=32,K5=512,Ui=",",Bi="=",vr=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,n),r},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,r){return n.push(r+Bi+t.get(r)),n},[]).join(Ui)},e.prototype._parse=function(t){t.length>K5||(this._internalState=t.split(Ui).reverse().reduce(function(n,r){var o=r.trim(),s=o.indexOf(Bi);if(s!==-1){var i=o.slice(0,s),c=o.slice(s+1,r.length);Y5(i)&&W5(c)&&n.set(i,c)}return n},new Map),this._internalState.size>Fi&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Fi))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),Vn="traceparent",qn="tracestate",J5="00",Z5="(?!ff)[\\da-f]{2}",Q5="(?![0]{32})[\\da-f]{32}",ed="(?![0]{16})[\\da-f]{16}",td="[\\da-f]{2}",nd=new RegExp("^\\s?("+Z5+")-("+Q5+")-("+ed+")-("+td+")(-.*)?\\s?$");function _u(e){var t=nd.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var gu=function(){function e(){}return e.prototype.inject=function(t,n,r){var o=F.getSpanContext(t);if(!(!o||It(t)||!Xe(o))){var s=J5+"-"+o.traceId+"-"+o.spanId+"-0"+Number(o.traceFlags||te.NONE).toString(16);r.set(n,Vn,s),o.traceState&&r.set(n,qn,o.traceState.serialize())}},e.prototype.extract=function(t,n,r){var o=r.get(n,Vn);if(!o)return t;var s=Array.isArray(o)?o[0]:o;if(typeof s!="string")return t;var i=_u(s);if(!i)return t;i.isRemote=!0;var c=r.get(n,qn);if(c){var a=Array.isArray(c)?c.join(","):c;i.traceState=new vr(typeof a=="string"?a:void 0)}return F.setSpanContext(t,i)},e.prototype.fields=function(){return[Vn,qn]},e}(),Bs=De("OpenTelemetry SDK Context Key RPC_METADATA"),qo;(function(e){e.HTTP="http"})(qo||(qo={}));function rd(e,t){return e.setValue(Bs,t)}function od(e){return e.deleteValue(Bs)}function sd(e){return e.getValue(Bs)}var Xo=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Me.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),Xn=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Me.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),id=function(){function e(t){var n,r,o,s;this._root=t.root,this._root||(yt(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Xn),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new Xn,this._remoteParentNotSampled=(r=t.remoteParentNotSampled)!==null&&r!==void 0?r:new Xo,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new Xn,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new Xo}return e.prototype.shouldSample=function(t,n,r,o,s,i){var c=F.getSpanContext(t);return!c||!Xe(c)?this._root.shouldSample(t,n,r,o,s,i):c.isRemote?c.traceFlags&te.SAMPLED?this._remoteParentSampled.shouldSample(t,n,r,o,s,i):this._remoteParentNotSampled.shouldSample(t,n,r,o,s,i):c.traceFlags&te.SAMPLED?this._localParentSampled.shouldSample(t,n,r,o,s,i):this._localParentNotSampled.shouldSample(t,n,r,o,s,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),ad=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,n){return{decision:_r(n)&&this._accumulate(n)<this._upperBound?Me.RECORD_AND_SAMPLED:Me.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,r=0;r<t.length/8;r++){var o=r*8,s=parseInt(t.slice(o,o+8),16);n=(n^s)>>>0}return n},e}(),cd="[object Object]",ud="[object Null]",ld="[object Undefined]",fd=Function.prototype,mu=fd.toString,pd=mu.call(Object),dd=hd(Object.getPrototypeOf,Object),Eu=Object.prototype,vu=Eu.hasOwnProperty,Je=Symbol?Symbol.toStringTag:void 0,Su=Eu.toString;function hd(e,t){return function(n){return e(t(n))}}function ji(e){if(!_d(e)||gd(e)!==cd)return!1;var t=dd(e);if(t===null)return!0;var n=vu.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&mu.call(n)===pd}function _d(e){return e!=null&&typeof e=="object"}function gd(e){return e==null?e===void 0?ld:ud:Je&&Je in Object(e)?md(e):Ed(e)}function md(e){var t=vu.call(e,Je),n=e[Je],r=!1;try{e[Je]=void 0,r=!0}catch{}var o=Su.call(e);return r&&(t?e[Je]=n:delete e[Je]),o}function Ed(e){return Su.call(e)}var vd=20;function yu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),r=new WeakMap;e.length>0;)n=Tu(n,e.shift(),0,r);return n}function Wr(e){return er(e)?e.slice():e}function Tu(e,t,n,r){n===void 0&&(n=0);var o;if(!(n>vd)){if(n++,zn(e)||zn(t)||Ru(t))o=Wr(t);else if(er(e)){if(o=e.slice(),er(t))for(var s=0,i=t.length;s<i;s++)o.push(Wr(t[s]));else if(Dt(t))for(var c=Object.keys(t),s=0,i=c.length;s<i;s++){var a=c[s];o[a]=Wr(t[a])}}else if(Dt(e))if(Dt(t)){if(!Sd(e,t))return t;o=Object.assign({},e);for(var c=Object.keys(t),s=0,i=c.length;s<i;s++){var a=c[s],u=t[a];if(zn(u))typeof u>"u"?delete o[a]:o[a]=u;else{var l=o[a],f=u;if(Gi(e,a,r)||Gi(t,a,r))delete o[a];else{if(Dt(l)&&Dt(f)){var p=r.get(l)||[],d=r.get(f)||[];p.push({obj:e,key:a}),d.push({obj:t,key:a}),r.set(l,p),r.set(f,d)}o[a]=Tu(o[a],u,n,r)}}}}else o=t;return o}}function Gi(e,t,n){for(var r=n.get(e[t])||[],o=0,s=r.length;o<s;o++){var i=r[o];if(i.key===t&&i.obj===e)return!0}return!1}function er(e){return Array.isArray(e)}function Ru(e){return typeof e=="function"}function Dt(e){return!zn(e)&&!er(e)&&!Ru(e)&&typeof e=="object"}function zn(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function Sd(e,t){return!(!ji(e)||!ji(t))}var yd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ou=function(e){yd(t,e);function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return t}(Error);function Td(e,t){var n,r=new Promise(function(s,i){n=setTimeout(function(){i(new Ou("Operation timed out."))},t)});return Promise.race([e,r]).then(function(o){return clearTimeout(n),o},function(o){throw clearTimeout(n),o})}var Rd=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Au(e,t){return typeof t=="string"?e===t:!!e.match(t)}function Od(e,t){var n,r;if(!t)return!1;try{for(var o=Rd(t),s=o.next();!s.done;s=o.next()){var i=s.value;if(Au(e,i))return!0}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}function Ad(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var bd=function(){function e(){var t=this;this._promise=new Promise(function(n,r){t._resolve=n,t._reject=r})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(t){this._resolve(t)},e.prototype.reject=function(t){this._reject(t)},e}(),Id=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},Pd=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},bu=function(){function e(t,n){this._callback=t,this._that=n,this._isCalled=!1,this._deferred=new bd}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var t,n=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,Pd([this._that],Id(r),!1))).then(function(s){return n._deferred.resolve(s)},function(s){return n._deferred.reject(s)})}catch(s){this._deferred.reject(s)}}return this._deferred.promise},e}();function Cd(e,t){return new Promise(function(n){G.with(at(G.active()),function(){e.export(t,function(r){n(r)})})})}var Nd={getKeyPairs:Qc,serializeKeyPairs:Zc,parseKeyPairsIntoRecord:Qp,parsePairKeyValue:$s},wd={_export:Cd};const Ld=Object.freeze(Object.defineProperty({__proto__:null,AlwaysOffSampler:Xo,AlwaysOnSampler:Xn,AnchoredClock:e5,BindOnceFuture:bu,CompositePropagator:hu,DEFAULT_ATTRIBUTE_COUNT_LIMIT:Xt,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:qt,DEFAULT_ENVIRONMENT:Ds,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:su,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:iu,get ExportResultCode(){return Qn},ParentBasedSampler:id,get RPCType(){return qo},RandomIdGenerator:y5,SDK_INFO:Hn,TRACE_PARENT_HEADER:Vn,TRACE_STATE_HEADER:qn,TimeoutError:Ou,TraceIdRatioBasedSampler:ad,TraceState:vr,get TracesSamplerValues(){return he},VERSION:lu,W3CBaggagePropagator:Ms,W3CTraceContextPropagator:gu,_globalThis:E5,addHrTimes:Us,baggageUtils:Nd,callWithTimeout:Td,deleteRPCMetadata:od,getEnv:Tt,getEnvWithoutDefaults:au,getRPCMetadata:sd,getTimeOrigin:mr,globalErrorHandler:yt,hexToBase64:v5,hexToBinary:cu,hrTime:Fs,hrTimeDuration:du,hrTimeToMicroseconds:j5,hrTimeToMilliseconds:B5,hrTimeToNanoseconds:U5,hrTimeToTimeStamp:F5,internal:wd,isAttributeKey:tu,isAttributeValue:xs,isTimeInput:Ho,isTimeInputHrTime:Er,isTracingSuppressed:It,isUrlIgnored:Od,isWrapped:Ad,loggingErrorHandler:ru,merge:yu,millisToHrTime:we,otperformance:tt,parseEnvironment:ks,parseTraceParent:_u,sanitizeAttributes:Vt,setGlobalErrorHandler:s5,setRPCMetadata:rd,suppressTracing:at,timeInputToHrTime:k5,unrefTimer:fu,unsuppressTracing:zp,urlMatches:Au},Symbol.toStringTag,{value:"Module"})),$d=Ns(Ld);var zo={exports:{}};const Md="2.0.0",Iu=256,xd=Number.MAX_SAFE_INTEGER||9007199254740991,Dd=16,kd=Iu-6,Fd=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Sr={MAX_LENGTH:Iu,MAX_SAFE_COMPONENT_LENGTH:Dd,MAX_SAFE_BUILD_LENGTH:kd,MAX_SAFE_INTEGER:xd,RELEASE_TYPES:Fd,SEMVER_SPEC_VERSION:Md,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Ud=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var yr=Ud;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:o}=Sr,s=yr;t=e.exports={};const i=t.re=[],c=t.safeRe=[],a=t.src=[],u=t.safeSrc=[],l=t.t={};let f=0;const p="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",o],[p,r]],m=v=>{for(const[h,S]of d)v=v.split(`${h}*`).join(`${h}{0,${S}}`).split(`${h}+`).join(`${h}{1,${S}}`);return v},_=(v,h,S)=>{const g=m(h),y=f++;s(v,y,h),l[v]=y,a[y]=h,u[y]=g,i[y]=new RegExp(h,S?"g":void 0),c[y]=new RegExp(g,S?"g":void 0)};_("NUMERICIDENTIFIER","0|[1-9]\\d*"),_("NUMERICIDENTIFIERLOOSE","\\d+"),_("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),_("MAINVERSION",`(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})`),_("MAINVERSIONLOOSE",`(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASEIDENTIFIER",`(?:${a[l.NONNUMERICIDENTIFIER]}|${a[l.NUMERICIDENTIFIER]})`),_("PRERELEASEIDENTIFIERLOOSE",`(?:${a[l.NONNUMERICIDENTIFIER]}|${a[l.NUMERICIDENTIFIERLOOSE]})`),_("PRERELEASE",`(?:-(${a[l.PRERELEASEIDENTIFIER]}(?:\\.${a[l.PRERELEASEIDENTIFIER]})*))`),_("PRERELEASELOOSE",`(?:-?(${a[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[l.PRERELEASEIDENTIFIERLOOSE]})*))`),_("BUILDIDENTIFIER",`${p}+`),_("BUILD",`(?:\\+(${a[l.BUILDIDENTIFIER]}(?:\\.${a[l.BUILDIDENTIFIER]})*))`),_("FULLPLAIN",`v?${a[l.MAINVERSION]}${a[l.PRERELEASE]}?${a[l.BUILD]}?`),_("FULL",`^${a[l.FULLPLAIN]}$`),_("LOOSEPLAIN",`[v=\\s]*${a[l.MAINVERSIONLOOSE]}${a[l.PRERELEASELOOSE]}?${a[l.BUILD]}?`),_("LOOSE",`^${a[l.LOOSEPLAIN]}$`),_("GTLT","((?:<|>)?=?)"),_("XRANGEIDENTIFIERLOOSE",`${a[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),_("XRANGEIDENTIFIER",`${a[l.NUMERICIDENTIFIER]}|x|X|\\*`),_("XRANGEPLAIN",`[v=\\s]*(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:${a[l.PRERELEASE]})?${a[l.BUILD]}?)?)?`),_("XRANGEPLAINLOOSE",`[v=\\s]*(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:${a[l.PRERELEASELOOSE]})?${a[l.BUILD]}?)?)?`),_("XRANGE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAIN]}$`),_("XRANGELOOSE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAINLOOSE]}$`),_("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),_("COERCE",`${a[l.COERCEPLAIN]}(?:$|[^\\d])`),_("COERCEFULL",a[l.COERCEPLAIN]+`(?:${a[l.PRERELEASE]})?(?:${a[l.BUILD]})?(?:$|[^\\d])`),_("COERCERTL",a[l.COERCE],!0),_("COERCERTLFULL",a[l.COERCEFULL],!0),_("LONETILDE","(?:~>?)"),_("TILDETRIM",`(\\s*)${a[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",_("TILDE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAIN]}$`),_("TILDELOOSE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAINLOOSE]}$`),_("LONECARET","(?:\\^)"),_("CARETTRIM",`(\\s*)${a[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",_("CARET",`^${a[l.LONECARET]}${a[l.XRANGEPLAIN]}$`),_("CARETLOOSE",`^${a[l.LONECARET]}${a[l.XRANGEPLAINLOOSE]}$`),_("COMPARATORLOOSE",`^${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]})$|^$`),_("COMPARATOR",`^${a[l.GTLT]}\\s*(${a[l.FULLPLAIN]})$|^$`),_("COMPARATORTRIM",`(\\s*)${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]}|${a[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",_("HYPHENRANGE",`^\\s*(${a[l.XRANGEPLAIN]})\\s+-\\s+(${a[l.XRANGEPLAIN]})\\s*$`),_("HYPHENRANGELOOSE",`^\\s*(${a[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[l.XRANGEPLAINLOOSE]})\\s*$`),_("STAR","(<|>)?=?\\s*\\*"),_("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),_("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(zo,zo.exports);var sn=zo.exports;const Bd=Object.freeze({loose:!0}),jd=Object.freeze({}),Gd=e=>e?typeof e!="object"?Bd:e:jd;var js=Gd;const Hi=/^[0-9]+$/,Pu=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const n=Hi.test(e),r=Hi.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},Hd=(e,t)=>Pu(t,e);var Cu={compareIdentifiers:Pu,rcompareIdentifiers:Hd};const On=yr,{MAX_LENGTH:Vi,MAX_SAFE_INTEGER:An}=Sr,{safeRe:bn,t:In}=sn,Vd=js,{compareIdentifiers:Kr}=Cu;let qd=class Te{constructor(t,n){if(n=Vd(n),t instanceof Te){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Vi)throw new TypeError(`version is longer than ${Vi} characters`);On("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?bn[In.LOOSE]:bn[In.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>An||this.major<0)throw new TypeError("Invalid major version");if(this.minor>An||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>An||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const s=+o;if(s>=0&&s<An)return s}return o}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(On("SemVer.compare",this.version,this.options,t),!(t instanceof Te)){if(typeof t=="string"&&t===this.version)return 0;t=new Te(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Te||(t=new Te(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof Te||(t=new Te(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],o=t.prerelease[n];if(On("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return Kr(r,o)}while(++n)}compareBuild(t){t instanceof Te||(t=new Te(t,this.options));let n=0;do{const r=this.build[n],o=t.build[n];if(On("build compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return Kr(r,o)}while(++n)}inc(t,n,r){if(t.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const o=`-${n}`.match(this.options.loose?bn[In.PRERELEASELOOSE]:bn[In.PRERELEASE]);if(!o||o[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const o=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[o];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(n){let s=[n,o];r===!1&&(s=[n]),Kr(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ie=qd;const qi=ie,Xd=(e,t,n=!1)=>{if(e instanceof qi)return e;try{return new qi(e,t)}catch(r){if(!n)return null;throw r}};var Pt=Xd;const zd=Pt,Yd=(e,t)=>{const n=zd(e,t);return n?n.version:null};var Wd=Yd;const Kd=Pt,Jd=(e,t)=>{const n=Kd(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};var Zd=Jd;const Xi=ie,Qd=(e,t,n,r,o)=>{typeof n=="string"&&(o=r,r=n,n=void 0);try{return new Xi(e instanceof Xi?e.version:e,n).inc(t,r,o).version}catch{return null}};var e2=Qd;const zi=Pt,t2=(e,t)=>{const n=zi(e,null,!0),r=zi(t,null,!0),o=n.compare(r);if(o===0)return null;const s=o>0,i=s?n:r,c=s?r:n,a=!!i.prerelease.length;if(!!c.prerelease.length&&!a){if(!c.patch&&!c.minor)return"major";if(c.compareMain(i)===0)return c.minor&&!c.patch?"minor":"patch"}const l=a?"pre":"";return n.major!==r.major?l+"major":n.minor!==r.minor?l+"minor":n.patch!==r.patch?l+"patch":"prerelease"};var n2=t2;const r2=ie,o2=(e,t)=>new r2(e,t).major;var s2=o2;const i2=ie,a2=(e,t)=>new i2(e,t).minor;var c2=a2;const u2=ie,l2=(e,t)=>new u2(e,t).patch;var f2=l2;const p2=Pt,d2=(e,t)=>{const n=p2(e,t);return n&&n.prerelease.length?n.prerelease:null};var h2=d2;const Yi=ie,_2=(e,t,n)=>new Yi(e,n).compare(new Yi(t,n));var Ee=_2;const g2=Ee,m2=(e,t,n)=>g2(t,e,n);var E2=m2;const v2=Ee,S2=(e,t)=>v2(e,t,!0);var y2=S2;const Wi=ie,T2=(e,t,n)=>{const r=new Wi(e,n),o=new Wi(t,n);return r.compare(o)||r.compareBuild(o)};var Gs=T2;const R2=Gs,O2=(e,t)=>e.sort((n,r)=>R2(n,r,t));var A2=O2;const b2=Gs,I2=(e,t)=>e.sort((n,r)=>b2(r,n,t));var P2=I2;const C2=Ee,N2=(e,t,n)=>C2(e,t,n)>0;var Tr=N2;const w2=Ee,L2=(e,t,n)=>w2(e,t,n)<0;var Hs=L2;const $2=Ee,M2=(e,t,n)=>$2(e,t,n)===0;var Nu=M2;const x2=Ee,D2=(e,t,n)=>x2(e,t,n)!==0;var wu=D2;const k2=Ee,F2=(e,t,n)=>k2(e,t,n)>=0;var Vs=F2;const U2=Ee,B2=(e,t,n)=>U2(e,t,n)<=0;var qs=B2;const j2=Nu,G2=wu,H2=Tr,V2=Vs,q2=Hs,X2=qs,z2=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return j2(e,n,r);case"!=":return G2(e,n,r);case">":return H2(e,n,r);case">=":return V2(e,n,r);case"<":return q2(e,n,r);case"<=":return X2(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var Lu=z2;const Y2=ie,W2=Pt,{safeRe:Pn,t:Cn}=sn,K2=(e,t)=>{if(e instanceof Y2)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(t.includePrerelease?Pn[Cn.COERCEFULL]:Pn[Cn.COERCE]);else{const a=t.includePrerelease?Pn[Cn.COERCERTLFULL]:Pn[Cn.COERCERTL];let u;for(;(u=a.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||u.index+u[0].length!==n.index+n[0].length)&&(n=u),a.lastIndex=u.index+u[1].length+u[2].length;a.lastIndex=-1}if(n===null)return null;const r=n[2],o=n[3]||"0",s=n[4]||"0",i=t.includePrerelease&&n[5]?`-${n[5]}`:"",c=t.includePrerelease&&n[6]?`+${n[6]}`:"";return W2(`${r}.${o}.${s}${i}${c}`,t)};var J2=K2;class Z2{constructor(){this.max=1e3,this.map=new Map}get(t){const n=this.map.get(t);if(n!==void 0)return this.map.delete(t),this.map.set(t,n),n}delete(t){return this.map.delete(t)}set(t,n){if(!this.delete(t)&&n!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(t,n)}return this}}var Q2=Z2,Jr,Ki;function ve(){if(Ki)return Jr;Ki=1;const e=/\s+/g;class t{constructor(T,I){if(I=o(I),T instanceof t)return T.loose===!!I.loose&&T.includePrerelease===!!I.includePrerelease?T:new t(T.raw,I);if(T instanceof s)return this.raw=T.value,this.set=[[T]],this.formatted=void 0,this;if(this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease,this.raw=T.trim().replace(e," "),this.set=this.raw.split("||").map(b=>this.parseRange(b.trim())).filter(b=>b.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const b=this.set[0];if(this.set=this.set.filter(C=>!_(C[0])),this.set.length===0)this.set=[b];else if(this.set.length>1){for(const C of this.set)if(C.length===1&&v(C[0])){this.set=[C];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let T=0;T<this.set.length;T++){T>0&&(this.formatted+="||");const I=this.set[T];for(let b=0;b<I.length;b++)b>0&&(this.formatted+=" "),this.formatted+=I[b].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(T){const b=((this.options.includePrerelease&&d)|(this.options.loose&&m))+":"+T,C=r.get(b);if(C)return C;const A=this.options.loose,$=A?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];T=T.replace($,Ie(this.options.includePrerelease)),i("hyphen replace",T),T=T.replace(a[u.COMPARATORTRIM],l),i("comparator trim",T),T=T.replace(a[u.TILDETRIM],f),i("tilde trim",T),T=T.replace(a[u.CARETTRIM],p),i("caret trim",T);let k=T.split(" ").map(w=>S(w,this.options)).join(" ").split(/\s+/).map(w=>pe(w,this.options));A&&(k=k.filter(w=>(i("loose invalid filter",w,this.options),!!w.match(a[u.COMPARATORLOOSE])))),i("range list",k);const L=new Map,P=k.map(w=>new s(w,this.options));for(const w of P){if(_(w))return[w];L.set(w.value,w)}L.size>1&&L.has("")&&L.delete("");const U=[...L.values()];return r.set(b,U),U}intersects(T,I){if(!(T instanceof t))throw new TypeError("a Range is required");return this.set.some(b=>h(b,I)&&T.set.some(C=>h(C,I)&&b.every(A=>C.every($=>A.intersects($,I)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new c(T,this.options)}catch{return!1}for(let I=0;I<this.set.length;I++)if(ut(this.set[I],T,this.options))return!0;return!1}}Jr=t;const n=Q2,r=new n,o=js,s=Rr(),i=yr,c=ie,{safeRe:a,t:u,comparatorTrimReplace:l,tildeTrimReplace:f,caretTrimReplace:p}=sn,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:m}=Sr,_=O=>O.value==="<0.0.0-0",v=O=>O.value==="",h=(O,T)=>{let I=!0;const b=O.slice();let C=b.pop();for(;I&&b.length;)I=b.every(A=>C.intersects(A,T)),C=b.pop();return I},S=(O,T)=>(O=O.replace(a[u.BUILD],""),i("comp",O,T),O=j(O,T),i("caret",O),O=y(O,T),i("tildes",O),O=ce(O,T),i("xrange",O),O=J(O,T),i("stars",O),O),g=O=>!O||O.toLowerCase()==="x"||O==="*",y=(O,T)=>O.trim().split(/\s+/).map(I=>E(I,T)).join(" "),E=(O,T)=>{const I=T.loose?a[u.TILDELOOSE]:a[u.TILDE];return O.replace(I,(b,C,A,$,k)=>{i("tilde",O,b,C,A,$,k);let L;return g(C)?L="":g(A)?L=`>=${C}.0.0 <${+C+1}.0.0-0`:g($)?L=`>=${C}.${A}.0 <${C}.${+A+1}.0-0`:k?(i("replaceTilde pr",k),L=`>=${C}.${A}.${$}-${k} <${C}.${+A+1}.0-0`):L=`>=${C}.${A}.${$} <${C}.${+A+1}.0-0`,i("tilde return",L),L})},j=(O,T)=>O.trim().split(/\s+/).map(I=>H(I,T)).join(" "),H=(O,T)=>{i("caret",O,T);const I=T.loose?a[u.CARETLOOSE]:a[u.CARET],b=T.includePrerelease?"-0":"";return O.replace(I,(C,A,$,k,L)=>{i("caret",O,C,A,$,k,L);let P;return g(A)?P="":g($)?P=`>=${A}.0.0${b} <${+A+1}.0.0-0`:g(k)?A==="0"?P=`>=${A}.${$}.0${b} <${A}.${+$+1}.0-0`:P=`>=${A}.${$}.0${b} <${+A+1}.0.0-0`:L?(i("replaceCaret pr",L),A==="0"?$==="0"?P=`>=${A}.${$}.${k}-${L} <${A}.${$}.${+k+1}-0`:P=`>=${A}.${$}.${k}-${L} <${A}.${+$+1}.0-0`:P=`>=${A}.${$}.${k}-${L} <${+A+1}.0.0-0`):(i("no pr"),A==="0"?$==="0"?P=`>=${A}.${$}.${k}${b} <${A}.${$}.${+k+1}-0`:P=`>=${A}.${$}.${k}${b} <${A}.${+$+1}.0-0`:P=`>=${A}.${$}.${k} <${+A+1}.0.0-0`),i("caret return",P),P})},ce=(O,T)=>(i("replaceXRanges",O,T),O.split(/\s+/).map(I=>Q(I,T)).join(" ")),Q=(O,T)=>{O=O.trim();const I=T.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return O.replace(I,(b,C,A,$,k,L)=>{i("xRange",O,b,C,A,$,k,L);const P=g(A),U=P||g($),w=U||g(k),re=w;return C==="="&&re&&(C=""),L=T.includePrerelease?"-0":"",P?C===">"||C==="<"?b="<0.0.0-0":b="*":C&&re?(U&&($=0),k=0,C===">"?(C=">=",U?(A=+A+1,$=0,k=0):($=+$+1,k=0)):C==="<="&&(C="<",U?A=+A+1:$=+$+1),C==="<"&&(L="-0"),b=`${C+A}.${$}.${k}${L}`):U?b=`>=${A}.0.0${L} <${+A+1}.0.0-0`:w&&(b=`>=${A}.${$}.0${L} <${A}.${+$+1}.0-0`),i("xRange return",b),b})},J=(O,T)=>(i("replaceStars",O,T),O.trim().replace(a[u.STAR],"")),pe=(O,T)=>(i("replaceGTE0",O,T),O.trim().replace(a[T.includePrerelease?u.GTE0PRE:u.GTE0],"")),Ie=O=>(T,I,b,C,A,$,k,L,P,U,w,re)=>(g(b)?I="":g(C)?I=`>=${b}.0.0${O?"-0":""}`:g(A)?I=`>=${b}.${C}.0${O?"-0":""}`:$?I=`>=${I}`:I=`>=${I}${O?"-0":""}`,g(P)?L="":g(U)?L=`<${+P+1}.0.0-0`:g(w)?L=`<${P}.${+U+1}.0-0`:re?L=`<=${P}.${U}.${w}-${re}`:O?L=`<${P}.${U}.${+w+1}-0`:L=`<=${L}`,`${I} ${L}`.trim()),ut=(O,T,I)=>{for(let b=0;b<O.length;b++)if(!O[b].test(T))return!1;if(T.prerelease.length&&!I.includePrerelease){for(let b=0;b<O.length;b++)if(i(O[b].semver),O[b].semver!==s.ANY&&O[b].semver.prerelease.length>0){const C=O[b].semver;if(C.major===T.major&&C.minor===T.minor&&C.patch===T.patch)return!0}return!1}return!0};return Jr}var Zr,Ji;function Rr(){if(Ji)return Zr;Ji=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(l,f){if(f=n(f),l instanceof t){if(l.loose===!!f.loose)return l;l=l.value}l=l.trim().split(/\s+/).join(" "),i("comparator",l,f),this.options=f,this.loose=!!f.loose,this.parse(l),this.semver===e?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}parse(l){const f=this.options.loose?r[o.COMPARATORLOOSE]:r[o.COMPARATOR],p=l.match(f);if(!p)throw new TypeError(`Invalid comparator: ${l}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new c(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(l){if(i("Comparator.test",l,this.options.loose),this.semver===e||l===e)return!0;if(typeof l=="string")try{l=new c(l,this.options)}catch{return!1}return s(l,this.operator,this.semver,this.options)}intersects(l,f){if(!(l instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a(l.value,f).test(this.value):l.operator===""?l.value===""?!0:new a(this.value,f).test(l.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||l.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||l.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&l.operator.startsWith(">")||this.operator.startsWith("<")&&l.operator.startsWith("<")||this.semver.version===l.semver.version&&this.operator.includes("=")&&l.operator.includes("=")||s(this.semver,"<",l.semver,f)&&this.operator.startsWith(">")&&l.operator.startsWith("<")||s(this.semver,">",l.semver,f)&&this.operator.startsWith("<")&&l.operator.startsWith(">")))}}Zr=t;const n=js,{safeRe:r,t:o}=sn,s=Lu,i=yr,c=ie,a=ve();return Zr}const eh=ve(),th=(e,t,n)=>{try{t=new eh(t,n)}catch{return!1}return t.test(e)};var Or=th;const nh=ve(),rh=(e,t)=>new nh(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));var oh=rh;const sh=ie,ih=ve(),ah=(e,t,n)=>{let r=null,o=null,s=null;try{s=new ih(t,n)}catch{return null}return e.forEach(i=>{s.test(i)&&(!r||o.compare(i)===-1)&&(r=i,o=new sh(r,n))}),r};var ch=ah;const uh=ie,lh=ve(),fh=(e,t,n)=>{let r=null,o=null,s=null;try{s=new lh(t,n)}catch{return null}return e.forEach(i=>{s.test(i)&&(!r||o.compare(i)===1)&&(r=i,o=new uh(r,n))}),r};var ph=fh;const Qr=ie,dh=ve(),Zi=Tr,hh=(e,t)=>{e=new dh(e,t);let n=new Qr("0.0.0");if(e.test(n)||(n=new Qr("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){const o=e.set[r];let s=null;o.forEach(i=>{const c=new Qr(i.semver.version);switch(i.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!s||Zi(c,s))&&(s=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),s&&(!n||Zi(n,s))&&(n=s)}return n&&e.test(n)?n:null};var _h=hh;const gh=ve(),mh=(e,t)=>{try{return new gh(e,t).range||"*"}catch{return null}};var Eh=mh;const vh=ie,$u=Rr(),{ANY:Sh}=$u,yh=ve(),Th=Or,Qi=Tr,ea=Hs,Rh=qs,Oh=Vs,Ah=(e,t,n,r)=>{e=new vh(e,r),t=new yh(t,r);let o,s,i,c,a;switch(n){case">":o=Qi,s=Rh,i=ea,c=">",a=">=";break;case"<":o=ea,s=Oh,i=Qi,c="<",a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Th(e,t,r))return!1;for(let u=0;u<t.set.length;++u){const l=t.set[u];let f=null,p=null;if(l.forEach(d=>{d.semver===Sh&&(d=new $u(">=0.0.0")),f=f||d,p=p||d,o(d.semver,f.semver,r)?f=d:i(d.semver,p.semver,r)&&(p=d)}),f.operator===c||f.operator===a||(!p.operator||p.operator===c)&&s(e,p.semver))return!1;if(p.operator===a&&i(e,p.semver))return!1}return!0};var Xs=Ah;const bh=Xs,Ih=(e,t,n)=>bh(e,t,">",n);var Ph=Ih;const Ch=Xs,Nh=(e,t,n)=>Ch(e,t,"<",n);var wh=Nh;const ta=ve(),Lh=(e,t,n)=>(e=new ta(e,n),t=new ta(t,n),e.intersects(t,n));var $h=Lh;const Mh=Or,xh=Ee;var Dh=(e,t,n)=>{const r=[];let o=null,s=null;const i=e.sort((l,f)=>xh(l,f,n));for(const l of i)Mh(l,t,n)?(s=l,o||(o=l)):(s&&r.push([o,s]),s=null,o=null);o&&r.push([o,null]);const c=[];for(const[l,f]of r)l===f?c.push(l):!f&&l===i[0]?c.push("*"):f?l===i[0]?c.push(`<=${f}`):c.push(`${l} - ${f}`):c.push(`>=${l}`);const a=c.join(" || "),u=typeof t.raw=="string"?t.raw:String(t);return a.length<u.length?a:t};const na=ve(),zs=Rr(),{ANY:eo}=zs,kt=Or,Ys=Ee,kh=(e,t,n={})=>{if(e===t)return!0;e=new na(e,n),t=new na(t,n);let r=!1;e:for(const o of e.set){for(const s of t.set){const i=Uh(o,s,n);if(r=r||i!==null,i)continue e}if(r)return!1}return!0},Fh=[new zs(">=0.0.0-0")],ra=[new zs(">=0.0.0")],Uh=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===eo){if(t.length===1&&t[0].semver===eo)return!0;n.includePrerelease?e=Fh:e=ra}if(t.length===1&&t[0].semver===eo){if(n.includePrerelease)return!0;t=ra}const r=new Set;let o,s;for(const d of e)d.operator===">"||d.operator===">="?o=oa(o,d,n):d.operator==="<"||d.operator==="<="?s=sa(s,d,n):r.add(d.semver);if(r.size>1)return null;let i;if(o&&s){if(i=Ys(o.semver,s.semver,n),i>0)return null;if(i===0&&(o.operator!==">="||s.operator!=="<="))return null}for(const d of r){if(o&&!kt(d,String(o),n)||s&&!kt(d,String(s),n))return null;for(const m of t)if(!kt(d,String(m),n))return!1;return!0}let c,a,u,l,f=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(const d of t){if(l=l||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",o){if(p&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===p.major&&d.semver.minor===p.minor&&d.semver.patch===p.patch&&(p=!1),d.operator===">"||d.operator===">="){if(c=oa(o,d,n),c===d&&c!==o)return!1}else if(o.operator===">="&&!kt(o.semver,String(d),n))return!1}if(s){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator==="<"||d.operator==="<="){if(a=sa(s,d,n),a===d&&a!==s)return!1}else if(s.operator==="<="&&!kt(s.semver,String(d),n))return!1}if(!d.operator&&(s||o)&&i!==0)return!1}return!(o&&u&&!s&&i!==0||s&&l&&!o&&i!==0||p||f)},oa=(e,t,n)=>{if(!e)return t;const r=Ys(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},sa=(e,t,n)=>{if(!e)return t;const r=Ys(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};var Bh=kh;const to=sn,ia=Sr,jh=ie,aa=Cu,Gh=Pt,Hh=Wd,Vh=Zd,qh=e2,Xh=n2,zh=s2,Yh=c2,Wh=f2,Kh=h2,Jh=Ee,Zh=E2,Qh=y2,e0=Gs,t0=A2,n0=P2,r0=Tr,o0=Hs,s0=Nu,i0=wu,a0=Vs,c0=qs,u0=Lu,l0=J2,f0=Rr(),p0=ve(),d0=Or,h0=oh,_0=ch,g0=ph,m0=_h,E0=Eh,v0=Xs,S0=Ph,y0=wh,T0=$h,R0=Dh,O0=Bh;var A0={parse:Gh,valid:Hh,clean:Vh,inc:qh,diff:Xh,major:zh,minor:Yh,patch:Wh,prerelease:Kh,compare:Jh,rcompare:Zh,compareLoose:Qh,compareBuild:e0,sort:t0,rsort:n0,gt:r0,lt:o0,eq:s0,neq:i0,gte:a0,lte:c0,cmp:u0,coerce:l0,Comparator:f0,Range:p0,satisfies:d0,toComparators:h0,maxSatisfying:_0,minSatisfying:g0,minVersion:m0,validRange:E0,outside:v0,gtr:S0,ltr:y0,intersects:T0,simplifyRange:R0,subset:O0,SemVer:jh,re:to.re,src:to.src,tokens:to.t,SEMVER_SPEC_VERSION:ia.SEMVER_SPEC_VERSION,RELEASE_TYPES:ia.RELEASE_TYPES,compareIdentifiers:aa.compareIdentifiers,rcompareIdentifiers:aa.rcompareIdentifiers},Mu=function(){function e(){}return e.prototype.emit=function(t){},e}(),b0=new Mu,I0=function(){function e(){}return e.prototype.getLogger=function(t,n,r){return new Mu},e}(),xu=new I0,P0=function(){function e(t,n,r,o){this._provider=t,this.name=n,this.version=r,this.options=o}return e.prototype.emit=function(t){this._getLogger().emit(t)},e.prototype._getLogger=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateLogger(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):b0},e}(),ca=function(){function e(){}return e.prototype.getLogger=function(t,n,r){var o;return(o=this.getDelegateLogger(t,n,r))!==null&&o!==void 0?o:new P0(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:xu},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateLogger=function(t,n,r){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getLogger(t,n,r)},e}(),C0=typeof globalThis=="object"?globalThis:global,Nn=Symbol.for("io.opentelemetry.js.api.logs"),Ft=C0;function N0(e,t,n){return function(r){return r===e?t:n}}var ua=1,w0=function(){function e(){this._proxyLoggerProvider=new ca}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(t){return Ft[Nn]?this.getLoggerProvider():(Ft[Nn]=N0(ua,t,xu),this._proxyLoggerProvider.setDelegate(t),t)},e.prototype.getLoggerProvider=function(){var t,n;return(n=(t=Ft[Nn])===null||t===void 0?void 0:t.call(Ft,ua))!==null&&n!==void 0?n:this._proxyLoggerProvider},e.prototype.getLogger=function(t,n,r){return this.getLoggerProvider().getLogger(t,n,r)},e.prototype.disable=function(){delete Ft[Nn],this._proxyLoggerProvider=new ca},e}(),Du=w0.getInstance();function L0(e,t,n,r){for(var o=0,s=e.length;o<s;o++){var i=e[o];t&&i.setTracerProvider(t),n&&i.setMeterProvider(n),r&&i.setLoggerProvider&&i.setLoggerProvider(r),i.getConfig().enabled||i.enable()}}function $0(e){e.forEach(function(t){return t.disable()})}function Ar(e){var t,n,r=e.tracerProvider||F.getTracerProvider(),o=e.meterProvider||gr.getMeterProvider(),s=e.loggerProvider||Du.getLoggerProvider(),i=(n=(t=e.instrumentations)===null||t===void 0?void 0:t.flat())!==null&&n!==void 0?n:[];return L0(i,r,o,s),function(){$0(i)}}function Yo(e){return typeof e=="function"}var se=console.error.bind(console);function Ut(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function an(e){e&&e.logger&&(Yo(e.logger)?se=e.logger:se("new logger isn't a function, not replacing"))}function ku(e,t,n){if(!e||!e[t]){se("no original function "+t+" to wrap");return}if(!n){se("no wrapper function"),se(new Error().stack);return}if(!Yo(e[t])||!Yo(n)){se("original object and wrapper must be functions");return}var r=e[t],o=n(r,t);return Ut(o,"__original",r),Ut(o,"__unwrap",function(){e[t]===o&&Ut(e,t,r)}),Ut(o,"__wrapped",!0),Ut(e,t,o),o}function M0(e,t,n){if(e)Array.isArray(e)||(e=[e]);else{se("must provide one or more modules to patch"),se(new Error().stack);return}if(!(t&&Array.isArray(t))){se("must provide one or more functions to wrap on modules");return}e.forEach(function(r){t.forEach(function(o){ku(r,o,n)})})}function Fu(e,t){if(!e||!e[t]){se("no function to unwrap."),se(new Error().stack);return}if(!e[t].__unwrap)se("no original to unwrap to -- has "+t+" already been unwrapped?");else return e[t].__unwrap()}function x0(e,t){if(e)Array.isArray(e)||(e=[e]);else{se("must provide one or more modules to patch"),se(new Error().stack);return}if(!(t&&Array.isArray(t))){se("must provide one or more functions to unwrap on modules");return}e.forEach(function(n){t.forEach(function(r){Fu(n,r)})})}an.wrap=ku;an.massWrap=M0;an.unwrap=Fu;an.massUnwrap=x0;var et=an,Wo=function(){return Wo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Wo.apply(this,arguments)},D0=function(){function e(t,n,r){this.instrumentationName=t,this.instrumentationVersion=n,this._config={},this._wrap=et.wrap,this._unwrap=et.unwrap,this._massWrap=et.massWrap,this._massUnwrap=et.massUnwrap,this.setConfig(r),this._diag=x.createComponentLogger({namespace:t}),this._tracer=F.getTracer(t,n),this._meter=gr.getMeter(t,n),this._logger=Du.getLogger(t,n),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(t){this._logger=t.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var t,n=(t=this.init())!==null&&t!==void 0?t:[];return Array.isArray(n)?n:[n]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(t){this._config=Wo({enabled:!0},t)},e.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(t,n,r,o){if(t)try{t(r,o)}catch(s){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:n},s)}},e}(),Uu={exports:{}},Ko={exports:{}},wn={exports:{}},no,la;function k0(){if(la)return no;la=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,s=r*365.25;no=function(l,f){f=f||{};var p=typeof l;if(p==="string"&&l.length>0)return i(l);if(p==="number"&&isFinite(l))return f.long?a(l):c(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function i(l){if(l=String(l),!(l.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(f){var p=parseFloat(f[1]),d=(f[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return p*s;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function c(l){var f=Math.abs(l);return f>=r?Math.round(l/r)+"d":f>=n?Math.round(l/n)+"h":f>=t?Math.round(l/t)+"m":f>=e?Math.round(l/e)+"s":l+"ms"}function a(l){var f=Math.abs(l);return f>=r?u(l,f,r,"day"):f>=n?u(l,f,n,"hour"):f>=t?u(l,f,t,"minute"):f>=e?u(l,f,e,"second"):l+" ms"}function u(l,f,p,d){var m=f>=p*1.5;return Math.round(l/p)+" "+d+(m?"s":"")}return no}var ro,fa;function Bu(){if(fa)return ro;fa=1;function e(t){r.debug=r,r.default=r,r.coerce=u,r.disable=c,r.enable=s,r.enabled=a,r.humanize=k0(),r.destroy=l,Object.keys(t).forEach(f=>{r[f]=t[f]}),r.names=[],r.skips=[],r.formatters={};function n(f){let p=0;for(let d=0;d<f.length;d++)p=(p<<5)-p+f.charCodeAt(d),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=n;function r(f){let p,d=null,m,_;function v(...h){if(!v.enabled)return;const S=v,g=Number(new Date),y=g-(p||g);S.diff=y,S.prev=p,S.curr=g,p=g,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let E=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(H,ce)=>{if(H==="%%")return"%";E++;const Q=r.formatters[ce];if(typeof Q=="function"){const J=h[E];H=Q.call(S,J),h.splice(E,1),E--}return H}),r.formatArgs.call(S,h),(S.log||r.log).apply(S,h)}return v.namespace=f,v.useColors=r.useColors(),v.color=r.selectColor(f),v.extend=o,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(m!==r.namespaces&&(m=r.namespaces,_=r.enabled(f)),_),set:h=>{d=h}}),typeof r.init=="function"&&r.init(v),v}function o(f,p){const d=r(this.namespace+(typeof p>"u"?":":p)+f);return d.log=this.log,d}function s(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];const p=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of p)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function i(f,p){let d=0,m=0,_=-1,v=0;for(;d<f.length;)if(m<p.length&&(p[m]===f[d]||p[m]==="*"))p[m]==="*"?(_=m,v=d,m++):(d++,m++);else if(_!==-1)m=_+1,v++,d=v;else return!1;for(;m<p.length&&p[m]==="*";)m++;return m===p.length}function c(){const f=[...r.names,...r.skips.map(p=>"-"+p)].join(",");return r.enable(""),f}function a(f){for(const p of r.skips)if(i(f,p))return!1;for(const p of r.names)if(i(f,p))return!0;return!1}function u(f){return f instanceof Error?f.stack||f.message:f}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}return ro=e,ro}var pa;function F0(){return pa||(pa=1,function(e,t){t.formatArgs=r,t.save=o,t.load=s,t.useColors=n,t.storage=i(),t.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let a;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(a=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;a.splice(1,0,u,"color: inherit");let l=0,f=0;a[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(l++,p==="%c"&&(f=l))}),a.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(a){try{a?t.storage.setItem("debug",a):t.storage.removeItem("debug")}catch{}}function s(){let a;try{a=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!a&&typeof process<"u"&&"env"in process&&(a=process.env.DEBUG),a}function i(){try{return localStorage}catch{}}e.exports=Bu()(t);const{formatters:c}=e.exports;c.j=function(a){try{return JSON.stringify(a)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}(wn,wn.exports)),wn.exports}var Ln={exports:{}},oo,da;function U0(){return da||(da=1,oo=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return r!==-1&&(o===-1?!0:r<o)}),oo}var so,ha;function B0(){if(ha)return so;ha=1;const e=Gc,t=U0(),n=process.env;let r;t("no-color")||t("no-colors")||t("color=false")?r=!1:(t("color")||t("colors")||t("color=true")||t("color=always"))&&(r=!0),"FORCE_COLOR"in n&&(r=n.FORCE_COLOR.length===0||parseInt(n.FORCE_COLOR,10)!==0);function o(c){return c===0?!1:{level:c,hasBasic:!0,has256:c>=2,has16m:c>=3}}function s(c){if(r===!1)return 0;if(t("color=16m")||t("color=full")||t("color=truecolor"))return 3;if(t("color=256"))return 2;if(c&&!c.isTTY&&r!==!0)return 0;const a=r?1:0;if(process.platform==="win32"){const u=e.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(u[0])>=10&&Number(u[2])>=10586?Number(u[2])>=14931?3:2:1}if("CI"in n)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(u=>u in n)||n.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in n)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(n.TEAMCITY_VERSION)?1:0;if(n.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in n){const u=parseInt((n.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(n.TERM_PROGRAM){case"iTerm.app":return u>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(n.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM)||"COLORTERM"in n?1:(n.TERM==="dumb",a)}function i(c){const a=s(c);return o(a)}return so={supportsColor:i,stdout:i(process.stdout),stderr:i(process.stderr)},so}var _a;function j0(){return _a||(_a=1,function(e,t){const n=Rf,r=xo;t.init=l,t.log=c,t.formatArgs=s,t.save=a,t.load=u,t.useColors=o,t.destroy=r.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const p=B0();p&&(p.stderr||p).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter(p=>/^debug_/i.test(p)).reduce((p,d)=>{const m=d.substring(6).toLowerCase().replace(/_([a-z])/g,(v,h)=>h.toUpperCase());let _=process.env[d];return/^(yes|on|true|enabled)$/i.test(_)?_=!0:/^(no|off|false|disabled)$/i.test(_)?_=!1:_==="null"?_=null:_=Number(_),p[m]=_,p},{});function o(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)}function s(p){const{namespace:d,useColors:m}=this;if(m){const _=this.color,v="\x1B[3"+(_<8?_:"8;5;"+_),h=`  ${v};1m${d} \x1B[0m`;p[0]=h+p[0].split(`
`).join(`
`+h),p.push(v+"m+"+e.exports.humanize(this.diff)+"\x1B[0m")}else p[0]=i()+d+" "+p[0]}function i(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function c(...p){return process.stderr.write(r.formatWithOptions(t.inspectOpts,...p)+`
`)}function a(p){p?process.env.DEBUG=p:delete process.env.DEBUG}function u(){return process.env.DEBUG}function l(p){p.inspectOpts={};const d=Object.keys(t.inspectOpts);for(let m=0;m<d.length;m++)p.inspectOpts[d[m]]=t.inspectOpts[d[m]]}e.exports=Bu()(t);const{formatters:f}=e.exports;f.o=function(p){return this.inspectOpts.colors=this.useColors,r.inspect(p,this.inspectOpts).split(`
`).map(d=>d.trim()).join(" ")},f.O=function(p){return this.inspectOpts.colors=this.useColors,r.inspect(p,this.inspectOpts)}}(Ln,Ln.exports)),Ln.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ko.exports=F0():Ko.exports=j0();var G0=Ko.exports,io=qe.sep,ju=function(e){var t=e.split(io),n=t.lastIndexOf("node_modules");if(n!==-1&&t[n+1]){for(var r=t[n+1][0]==="@",o=r?t[n+1]+"/"+t[n+2]:t[n+1],s=r?3:2,i="",c=n+s-1,a=0;a<=c;a++)a===c?i+=t[a]:i+=t[a]+io;for(var u="",l=t.length-1,f=n+s;f<=l;f++)f===l?u+=t[f]:u+=t[f]+io;return{name:o,basedir:i,path:u}}},ao,ga;function Gu(){if(ga)return ao;ga=1;var e=Gc;return ao=e.homedir||function(){var n=process.env.HOME,r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||n||null:process.platform==="darwin"?n||(r?"/Users/"+r:null):process.platform==="linux"?n||(process.getuid()===0?"/root":r?"/home/"+r:null):n||null},ao}var co,ma;function Hu(){return ma||(ma=1,co=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(n,r){return r};var t=new Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}),co}var pt={exports:{}},Ea;function H0(){if(Ea)return pt.exports;Ea=1;var e=process.platform==="win32",t=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,n={};function r(c){return t.exec(c).slice(1)}n.parse=function(c){if(typeof c!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof c);var a=r(c);if(!a||a.length!==5)throw new TypeError("Invalid path '"+c+"'");return{root:a[1],dir:a[0]===a[1]?a[0]:a[0].slice(0,-1),base:a[2],ext:a[4],name:a[3]}};var o=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,s={};function i(c){return o.exec(c).slice(1)}return s.parse=function(c){if(typeof c!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof c);var a=i(c);if(!a||a.length!==5)throw new TypeError("Invalid path '"+c+"'");return{root:a[1],dir:a[0].slice(0,-1),base:a[2],ext:a[4],name:a[3]}},e?pt.exports=n.parse:pt.exports=s.parse,pt.exports.posix=s.parse,pt.exports.win32=n.parse,pt.exports}var uo,va;function Vu(){if(va)return uo;va=1;var e=qe,t=e.parse||H0(),n=function(o,s){var i="/";/^([A-Za-z]:)/.test(o)?i="":/^\\\\/.test(o)&&(i="\\\\");for(var c=[o],a=t(o);a.dir!==c[c.length-1];)c.push(a.dir),a=t(a.dir);return c.reduce(function(u,l){return u.concat(s.map(function(f){return e.resolve(i,l,f)}))},[])};return uo=function(o,s,i){var c=s&&s.moduleDirectory?[].concat(s.moduleDirectory):["node_modules"];if(s&&typeof s.paths=="function")return s.paths(i,o,function(){return n(o,c)},s);var a=n(o,c);return s&&s.paths?a.concat(s.paths):a},uo}var lo,Sa;function qu(){return Sa||(Sa=1,lo=function(e,t){return t||{}}),lo}var fo,ya;function V0(){if(ya)return fo;ya=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",o=function(a,u){for(var l=[],f=0;f<a.length;f+=1)l[f]=a[f];for(var p=0;p<u.length;p+=1)l[p+a.length]=u[p];return l},s=function(a,u){for(var l=[],f=u,p=0;f<a.length;f+=1,p+=1)l[p]=a[f];return l},i=function(c,a){for(var u="",l=0;l<c.length;l+=1)u+=c[l],l+1<c.length&&(u+=a);return u};return fo=function(a){var u=this;if(typeof u!="function"||t.apply(u)!==r)throw new TypeError(e+u);for(var l=s(arguments,1),f,p=function(){if(this instanceof f){var h=u.apply(this,o(l,arguments));return Object(h)===h?h:this}return u.apply(a,o(l,arguments))},d=n(0,u.length-l.length),m=[],_=0;_<d;_++)m[_]="$"+_;if(f=Function("binder","return function ("+i(m,",")+"){ return binder.apply(this,arguments); }")(p),u.prototype){var v=function(){};v.prototype=u.prototype,f.prototype=new v,v.prototype=null}return f},fo}var po,Ta;function q0(){if(Ta)return po;Ta=1;var e=V0();return po=Function.prototype.bind||e,po}var ho,Ra;function X0(){if(Ra)return ho;Ra=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=q0();return ho=n.call(e,t),ho}const z0=!0,Y0=">= 8",W0=">= 0.5 && < 0.9.7",K0=!0,J0=!0,Z0=">= 0.5",Q0=!0,e_=!0,t_=!0,n_=">= 1 && < 8",r_="< 8",o_=!0,s_=[">= 14.17 && < 15",">= 15.1"],i_=!0,a_=">= 0.7.12",c_=!0,u_="< 6",l_=!0,f_=">= 0.11.1",p_=">= 0.11.1",d_=">= 0.11.1",h_=">= 0.11.1",__=">= 0.11.1",g_=">= 0.11.1",m_=!0,E_=">= 8.8",v_=!0,S_=">= 8",y_="< 8",T_=!0,R_=!0,O_=!0,A_=!0,b_=">= 8.5",I_=">= 1",P_=">= 0.5",C_=!0,N_=!0,w_=!0,L_=">= 0.11.5 && < 3",$_=">= 0.9.4",M_=">= 0.9.4",x_=">= 1.4.1",D_=">= 0.9.4",k_=">= 0.9.4",F_=">= 0.9.4",U_=!0,B_=!0,j_=[">= 0.4 && < 0.7",">= 0.8"],G_=!0,H_=">= 0.11.13",V_=">= 0.11.3 && < 10",q_=">= 0.11.3",X_=!0,z_=">= 10",Y_=!0,W_=!0,K_=!0,J_=">= 1",Z_=!0,Q_=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],eg=">= 11.7",tg=">= 0.5",ng={assert:z0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:Y0,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:W0,buffer:K0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:J0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:Z0,"node:cluster":[">= 14.18 && < 15",">= 16"],console:Q0,"node:console":[">= 14.18 && < 15",">= 16"],constants:e_,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:t_,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:n_,_debugger:r_,dgram:o_,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:s_,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:i_,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:a_,"node:domain":[">= 14.18 && < 15",">= 16"],events:c_,"node:events":[">= 14.18 && < 15",">= 16"],freelist:u_,fs:l_,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:f_,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:p_,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:d_,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:h_,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:__,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:g_,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:m_,"node:http":[">= 14.18 && < 15",">= 16"],http2:E_,"node:http2":[">= 14.18 && < 15",">= 16"],https:v_,"node:https":[">= 14.18 && < 15",">= 16"],inspector:S_,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:y_,module:T_,"node:module":[">= 14.18 && < 15",">= 16"],net:R_,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:O_,"node:os":[">= 14.18 && < 15",">= 16"],path:A_,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:b_,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:I_,"node:process":[">= 14.18 && < 15",">= 16"],punycode:P_,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:C_,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:N_,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:w_,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],smalloc:L_,"node:sqlite":[">= 22.13 && < 23",">= 23.4"],_stream_duplex:$_,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:M_,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:x_,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:D_,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:k_,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:F_,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:U_,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:B_,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:j_,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],timers:G_,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:H_,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:V_,_tls_wrap:q_,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:X_,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:z_,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:Y_,"node:tty":[">= 14.18 && < 15",">= 16"],url:W_,"node:url":[">= 14.18 && < 15",">= 16"],util:K_,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:J_,"node:v8":[">= 14.18 && < 15",">= 16"],vm:Z_,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:Q_,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:eg,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:tg,"node:zlib":[">= 14.18 && < 15",">= 16"]};var _o,Oa;function br(){if(Oa)return _o;Oa=1;var e=X0();function t(s,i){for(var c=s.split("."),a=i.split(" "),u=a.length>1?a[0]:"=",l=(a.length>1?a[1]:a[0]).split("."),f=0;f<3;++f){var p=parseInt(c[f]||0,10),d=parseInt(l[f]||0,10);if(p!==d)return u==="<"?p<d:u===">="?p>=d:!1}return u===">="}function n(s,i){var c=i.split(/ ?&& ?/);if(c.length===0)return!1;for(var a=0;a<c.length;++a)if(!t(s,c[a]))return!1;return!0}function r(s,i){if(typeof i=="boolean")return i;var c=typeof s>"u"?process.versions&&process.versions.node:s;if(typeof c!="string")throw new TypeError(typeof s>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(i&&typeof i=="object"){for(var a=0;a<i.length;++a)if(n(c,i[a]))return!0;return!1}return n(c,i)}var o=ng;return _o=function(i,c){return e(o,i)&&r(c,o[i])},_o}var go,Aa;function rg(){if(Aa)return go;Aa=1;var e=Ss,t=Gu(),n=qe,r=Hu(),o=Vu(),s=qu(),i=br(),c=process.platform!=="win32"&&e.realpath&&typeof e.realpath.native=="function"?e.realpath.native:e.realpath,a=t(),u=function(){return[n.join(a,".node_modules"),n.join(a,".node_libraries")]},l=function(h,S){e.stat(h,function(g,y){return g?g.code==="ENOENT"||g.code==="ENOTDIR"?S(null,!1):S(g):S(null,y.isFile()||y.isFIFO())})},f=function(h,S){e.stat(h,function(g,y){return g?g.code==="ENOENT"||g.code==="ENOTDIR"?S(null,!1):S(g):S(null,y.isDirectory())})},p=function(h,S){c(h,function(g,y){g&&g.code!=="ENOENT"?S(g):S(null,g?h:y)})},d=function(h,S,g,y){g&&g.preserveSymlinks===!1?h(S,y):y(null,S)},m=function(h,S,g){h(S,function(y,E){if(y)g(y);else try{var j=JSON.parse(E);g(null,j)}catch{g(null)}})},_=function(h,S,g){for(var y=o(S,g,h),E=0;E<y.length;E++)y[E]=n.join(y[E],h);return y};return go=function(h,S,g){var y=g,E=S;if(typeof S=="function"&&(y=E,E={}),typeof h!="string"){var j=new TypeError("Path must be a string.");return process.nextTick(function(){y(j)})}E=s(h,E);var H=E.isFile||l,ce=E.isDirectory||f,Q=E.readFile||e.readFile,J=E.realpath||p,pe=E.readPackage||m;if(E.readFile&&E.readPackage){var Ie=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){y(Ie)})}var ut=E.packageIterator,O=E.extensions||[".js"],T=E.includeCoreModules!==!1,I=E.basedir||n.dirname(r()),b=E.filename||I;E.paths=E.paths||u();var C=n.resolve(I);d(J,C,E,function(N,D){N?y(N):$(D)});var A;function $(N){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(h))A=n.resolve(N,h),(h==="."||h===".."||h.slice(-1)==="/")&&(A+="/"),/\/$/.test(h)&&A===N?U(A,E.package,k):L(A,E.package,k);else{if(T&&i(h))return y(null,h);re(h,N,function(D,Y,B){if(D)y(D);else{if(Y)return d(J,Y,E,function(de,W){de?y(de):y(null,W,B)});var X=new Error("Cannot find module '"+h+"' from '"+b+"'");X.code="MODULE_NOT_FOUND",y(X)}})}}function k(N,D,Y){N?y(N):D?y(null,D,Y):U(A,function(B,X,de){if(B)y(B);else if(X)d(J,X,E,function(z,ae){z?y(z):y(null,ae,de)});else{var W=new Error("Cannot find module '"+h+"' from '"+b+"'");W.code="MODULE_NOT_FOUND",y(W)}})}function L(N,D,Y){var B=D,X=Y;typeof B=="function"&&(X=B,B=void 0);var de=[""].concat(O);W(de,N,B);function W(z,ae,Pe){if(z.length===0)return X(null,void 0,Pe);var Ye=ae+z[0],ye=Pe;ye?oe(null,ye):P(n.dirname(Ye),oe);function oe(ke,lt,Ce){if(ye=lt,ke)return X(ke);if(Ce&&ye&&E.pathFilter){var Sn=n.relative(Ce,Ye),yn=Sn.slice(0,Sn.length-z[0].length),Mt=E.pathFilter(ye,ae,yn);if(Mt)return W([""].concat(O.slice()),n.resolve(Ce,Mt),ye)}H(Ye,vn)}function vn(ke,lt){if(ke)return X(ke);if(lt)return X(null,Ye,ye);W(z.slice(1),ae,ye)}}}function P(N,D){if(N===""||N==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(N)||/[/\\]node_modules[/\\]*$/.test(N))return D(null);d(J,N,E,function(Y,B){if(Y)return P(n.dirname(N),D);var X=n.join(B,"package.json");H(X,function(de,W){if(!W)return P(n.dirname(N),D);pe(Q,X,function(z,ae){z&&D(z);var Pe=ae;Pe&&E.packageFilter&&(Pe=E.packageFilter(Pe,X)),D(null,Pe,N)})})})}function U(N,D,Y){var B=Y,X=D;typeof X=="function"&&(B=X,X=E.package),d(J,N,E,function(de,W){if(de)return B(de);var z=n.join(W,"package.json");H(z,function(ae,Pe){if(ae)return B(ae);if(!Pe)return L(n.join(N,"index"),X,B);pe(Q,z,function(Ye,ye){if(Ye)return B(Ye);var oe=ye;if(oe&&E.packageFilter&&(oe=E.packageFilter(oe,z)),oe&&oe.main){if(typeof oe.main!="string"){var vn=new TypeError("package "+oe.name+" `main` must be a string");return vn.code="INVALID_PACKAGE_MAIN",B(vn)}(oe.main==="."||oe.main==="./")&&(oe.main="index"),L(n.resolve(N,oe.main),oe,function(ke,lt,Ce){if(ke)return B(ke);if(lt)return B(null,lt,Ce);if(!Ce)return L(n.join(N,"index"),Ce,B);var Sn=n.resolve(N,Ce.main);U(Sn,Ce,function(yn,Mt,Ci){if(yn)return B(yn);if(Mt)return B(null,Mt,Ci);L(n.join(N,"index"),Ci,B)})});return}L(n.join(N,"/index"),oe,B)})})})}function w(N,D){if(D.length===0)return N(null,void 0);var Y=D[0];ce(n.dirname(Y),B);function B(W,z){if(W)return N(W);if(!z)return w(N,D.slice(1));L(Y,E.package,X)}function X(W,z,ae){if(W)return N(W);if(z)return N(null,z,ae);U(Y,E.package,de)}function de(W,z,ae){if(W)return N(W);if(z)return N(null,z,ae);w(N,D.slice(1))}}function re(N,D,Y){var B=function(){return _(N,D,E)};w(Y,ut?ut(N,D,B,E):B())}},go}const og=!0,sg=">= 8",ig=">= 0.5 && < 0.9.7",ag=!0,cg=!0,ug=">= 0.5",lg=!0,fg=!0,pg=!0,dg=">= 1 && < 8",hg="< 8",_g=!0,gg=[">= 14.17 && < 15",">= 15.1"],mg=!0,Eg=">= 0.7.12",vg=!0,Sg="< 6",yg=!0,Tg=">= 0.11.1",Rg=">= 0.11.1",Og=">= 0.11.1",Ag=">= 0.11.1",bg=">= 0.11.1",Ig=">= 0.11.1",Pg=!0,Cg=">= 8.8",Ng=!0,wg=">= 8",Lg="< 8",$g=!0,Mg=!0,xg=!0,Dg=!0,kg=">= 8.5",Fg=">= 1",Ug=">= 0.5",Bg=!0,jg=!0,Gg=!0,Hg=">= 0.11.5 && < 3",Vg=">= 0.9.4",qg=">= 0.9.4",Xg=">= 1.4.1",zg=">= 0.9.4",Yg=">= 0.9.4",Wg=">= 0.9.4",Kg=!0,Jg=!0,Zg=[">= 0.4 && < 0.7",">= 0.8"],Qg=!0,em=">= 0.11.13",tm=">= 0.11.3 && < 10",nm=">= 0.11.3",rm=!0,om=">= 10",sm=!0,im=!0,am=!0,cm=">= 1",um=!0,lm=[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],fm=">= 11.7",pm=">= 0.5",dm={assert:og,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:sg,"node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:ig,buffer:ag,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:cg,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:ug,"node:cluster":[">= 14.18 && < 15",">= 16"],console:lg,"node:console":[">= 14.18 && < 15",">= 16"],constants:fg,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:pg,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:dg,_debugger:hg,dgram:_g,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:gg,"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:mg,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:Eg,"node:domain":[">= 14.18 && < 15",">= 16"],events:vg,"node:events":[">= 14.18 && < 15",">= 16"],freelist:Sg,fs:yg,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:Tg,"node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:Rg,"node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:Og,"node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:Ag,"node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:bg,"node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:Ig,"node:_http_server":[">= 14.18 && < 15",">= 16"],http:Pg,"node:http":[">= 14.18 && < 15",">= 16"],http2:Cg,"node:http2":[">= 14.18 && < 15",">= 16"],https:Ng,"node:https":[">= 14.18 && < 15",">= 16"],inspector:wg,"node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:Lg,module:$g,"node:module":[">= 14.18 && < 15",">= 16"],net:Mg,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:xg,"node:os":[">= 14.18 && < 15",">= 16"],path:Dg,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:kg,"node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:Fg,"node:process":[">= 14.18 && < 15",">= 16"],punycode:Ug,"node:punycode":[">= 14.18 && < 15",">= 16"],querystring:Bg,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:jg,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:Gg,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:Hg,_stream_duplex:Vg,"node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:qg,"node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:Xg,"node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:zg,"node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:Yg,"node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:Wg,"node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:Kg,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:Jg,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:Zg,"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:Qg,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:em,"node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:tm,_tls_wrap:nm,"node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:rm,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:om,"node:trace_events":[">= 14.18 && < 15",">= 16"],tty:sm,"node:tty":[">= 14.18 && < 15",">= 16"],url:im,"node:url":[">= 14.18 && < 15",">= 16"],util:am,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:cm,"node:v8":[">= 14.18 && < 15",">= 16"],vm:um,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:lm,"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:fm,"node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:pm,"node:zlib":[">= 14.18 && < 15",">= 16"]};var mo,ba;function hm(){if(ba)return mo;ba=1;var e=br(),t=dm,n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=e(r));return mo=n,mo}var Eo,Ia;function _m(){if(Ia)return Eo;Ia=1;var e=br();return Eo=function(n){return e(n)},Eo}var vo,Pa;function gm(){if(Pa)return vo;Pa=1;var e=br(),t=Ss,n=qe,r=Gu(),o=Hu(),s=Vu(),i=qu(),c=process.platform!=="win32"&&t.realpathSync&&typeof t.realpathSync.native=="function"?t.realpathSync.native:t.realpathSync,a=r(),u=function(){return[n.join(a,".node_modules"),n.join(a,".node_libraries")]},l=function(h){try{var S=t.statSync(h,{throwIfNoEntry:!1})}catch(g){if(g&&(g.code==="ENOENT"||g.code==="ENOTDIR"))return!1;throw g}return!!S&&(S.isFile()||S.isFIFO())},f=function(h){try{var S=t.statSync(h,{throwIfNoEntry:!1})}catch(g){if(g&&(g.code==="ENOENT"||g.code==="ENOTDIR"))return!1;throw g}return!!S&&S.isDirectory()},p=function(h){try{return c(h)}catch(S){if(S.code!=="ENOENT")throw S}return h},d=function(h,S,g){return g&&g.preserveSymlinks===!1?h(S):S},m=function(h,S){var g=h(S);try{var y=JSON.parse(g);return y}catch{}},_=function(h,S,g){for(var y=s(S,g,h),E=0;E<y.length;E++)y[E]=n.join(y[E],h);return y};return vo=function(h,S){if(typeof h!="string")throw new TypeError("Path must be a string.");var g=i(h,S),y=g.isFile||l,E=g.readFileSync||t.readFileSync,j=g.isDirectory||f,H=g.realpathSync||p,ce=g.readPackageSync||m;if(g.readFileSync&&g.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var Q=g.packageIterator,J=g.extensions||[".js"],pe=g.includeCoreModules!==!1,Ie=g.basedir||n.dirname(o()),ut=g.filename||Ie;g.paths=g.paths||u();var O=d(H,n.resolve(Ie),g);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(h)){var T=n.resolve(O,h);(h==="."||h===".."||h.slice(-1)==="/")&&(T+="/");var I=A(T)||k(T);if(I)return d(H,I,g)}else{if(pe&&e(h))return h;var b=L(h,O);if(b)return d(H,b,g)}var C=new Error("Cannot find module '"+h+"' from '"+ut+"'");throw C.code="MODULE_NOT_FOUND",C;function A(P){var U=$(n.dirname(P));if(U&&U.dir&&U.pkg&&g.pathFilter){var w=n.relative(U.dir,P),re=g.pathFilter(U.pkg,P,w);re&&(P=n.resolve(U.dir,re))}if(y(P))return P;for(var N=0;N<J.length;N++){var D=P+J[N];if(y(D))return D}}function $(P){if(!(P===""||P==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(P))&&!/[/\\]node_modules[/\\]*$/.test(P)){var U=n.join(d(H,P,g),"package.json");if(!y(U))return $(n.dirname(P));var w=ce(E,U);return w&&g.packageFilter&&(w=g.packageFilter(w,P)),{pkg:w,dir:P}}}function k(P){var U=n.join(d(H,P,g),"/package.json");if(y(U)){try{var w=ce(E,U)}catch{}if(w&&g.packageFilter&&(w=g.packageFilter(w,P)),w&&w.main){if(typeof w.main!="string"){var re=new TypeError("package "+w.name+" `main` must be a string");throw re.code="INVALID_PACKAGE_MAIN",re}(w.main==="."||w.main==="./")&&(w.main="index");try{var N=A(n.resolve(P,w.main));if(N)return N;var D=k(n.resolve(P,w.main));if(D)return D}catch{}}}return A(n.join(P,"/index"))}function L(P,U){for(var w=function(){return _(P,U,g)},re=Q?Q(P,U,w,g):w(),N=0;N<re.length;N++){var D=re[N];if(j(n.dirname(D))){var Y=A(D);if(Y)return Y;var B=k(D);if(B)return B}}}},vo}var So,Ca;function Xu(){if(Ca)return So;Ca=1;var e=rg();return e.core=hm(),e.isCore=_m(),e.sync=gm(),So=e,So}const mm={url:"https://github.com/nodejs/require-in-the-middle/issues"},Em={bugs:mm},vt=qe,_e=Sf,K=G0("require-in-the-middle"),vm=ju;Uu.exports=Jt;var zu=Uu.exports.Hook=Jt;let yo,Et;if(_e.isBuiltin)Et=_e.isBuiltin;else if(_e.builtinModules)Et=e=>e.startsWith("node:")?!0:(yo===void 0&&(yo=new Set(_e.builtinModules)),yo.has(e));else{const e=Xu(),[t,n]=process.versions.node.split(".").map(Number);t===8&&n<8?Et=r=>r==="http2"?!0:!!e.core[r]:Et=r=>!!e.core[r]}let $n;function Sm(e,t){if(!$n)if(require.resolve&&require.resolve.paths)$n=function(n,r){return require.resolve(n,{paths:[r]})};else{const n=Xu();$n=function(r,o){return n.sync(r,{basedir:o})}}return $n(e,t)}const ym=/([/\\]index)?(\.js)?$/;class Tm{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(t,n){if(this._localCache.has(t))return!0;if(n)return!1;{const r=require.cache[t];return!!(r&&this._kRitmExports in r)}}get(t,n){const r=this._localCache.get(t);if(r!==void 0)return r;if(!n){const o=require.cache[t];return o&&o[this._kRitmExports]}}set(t,n,r){r?this._localCache.set(t,n):t in require.cache?require.cache[t][this._kRitmExports]=n:(K('non-core module is unexpectedly not in require.cache: "%s"',t),this._localCache.set(t,n))}}function Jt(e,t,n){if(!(this instanceof Jt))return new Jt(e,t,n);if(typeof e=="function"?(n=e,e=null,t=null):typeof t=="function"&&(n=t,t=null),typeof _e._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof _e._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,Em.bugs.url);return}this._cache=new Tm,this._unhooked=!1,this._origRequire=_e.prototype.require;const r=this,o=new Set,s=t?t.internals===!0:!1,i=Array.isArray(e);K("registering require hook"),this._require=_e.prototype.require=function(a){return r._unhooked===!0?(K("ignoring require call - module is soft-unhooked"),r._origRequire.apply(this,arguments)):c.call(this,arguments,!1)},typeof process.getBuiltinModule=="function"&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(a){return r._unhooked===!0?(K("ignoring process.getBuiltinModule call - module is soft-unhooked"),r._origGetBuiltinModule.apply(this,arguments)):c.call(this,arguments,!0)});function c(a,u){const l=a[0],f=Et(l);let p;if(f){if(p=l,l.startsWith("node:")){const S=l.slice(5);Et(S)&&(p=S)}}else{if(u)return K("call to process.getBuiltinModule with unknown built-in id"),r._origGetBuiltinModule.apply(this,a);try{p=_e._resolveFilename(l,this)}catch(S){return K('Module._resolveFilename("%s") threw %j, calling original Module.require',l,S.message),r._origRequire.apply(this,a)}}let d,m;if(K("processing %s module require('%s'): %s",f===!0?"core":"non-core",l,p),r._cache.has(p,f)===!0)return K("returning already patched cached module: %s",p),r._cache.get(p,f);const _=o.has(p);_===!1&&o.add(p);const v=u?r._origGetBuiltinModule.apply(this,a):r._origRequire.apply(this,a);if(_===!0)return K("module is in the process of being patched already - ignoring: %s",p),v;if(o.delete(p),f===!0){if(i===!0&&e.includes(p)===!1)return K("ignoring core module not on whitelist: %s",p),v;d=p}else if(i===!0&&e.includes(p)){const S=vt.parse(p);d=S.name,m=S.dir}else{const S=vm(p);if(S===void 0)return K("could not parse filename: %s",p),v;d=S.name,m=S.basedir;const g=Rm(S);K("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",d,l,g,m);let y=!1;if(i){if(!l.startsWith(".")&&e.includes(l)&&(d=l,y=!0),!e.includes(d)&&!e.includes(g))return v;e.includes(g)&&g!==d&&(d=g,y=!0)}if(!y){let E;try{E=Sm(d,m)}catch{return K("could not resolve module: %s",d),r._cache.set(p,v,f),v}if(E!==p)if(s===!0)d=d+vt.sep+vt.relative(m,p),K("preparing to process require of internal file: %s",d);else return K("ignoring require of non-main module file: %s",E),r._cache.set(p,v,f),v}}r._cache.set(p,v,f),K("calling require hook: %s",d);const h=n(v,d,m);return r._cache.set(p,h,f),K("returning module: %s",d),h}}Jt.prototype.unhook=function(){this._unhooked=!0,this._require===_e.prototype.require?(_e.prototype.require=this._origRequire,K("require unhook successful")):K("require unhook unsuccessful"),process.getBuiltinModule!==void 0&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,K("process.getBuiltinModule unhook successful")):K("process.getBuiltinModule unhook unsuccessful"))};function Rm(e){const t=vt.sep!=="/"?e.path.split(vt.sep).join("/"):e.path;return vt.posix.join(e.name,t).replace(ym,"")}var Na=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wa=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},La=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},tr="/",$a=function(){function e(){this.hooks=[],this.children=new Map}return e}(),Om=function(){function e(){this._trie=new $a,this._counter=0}return e.prototype.insert=function(t){var n,r,o=this._trie;try{for(var s=Na(t.moduleName.split(tr)),i=s.next();!i.done;i=s.next()){var c=i.value,a=o.children.get(c);a||(a=new $a,o.children.set(c,a)),o=a}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}o.hooks.push({hook:t,insertedId:this._counter++})},e.prototype.search=function(t,n){var r,o,s=n===void 0?{}:n,i=s.maintainInsertionOrder,c=s.fullOnly,a=this._trie,u=[],l=!0;try{for(var f=Na(t.split(tr)),p=f.next();!p.done;p=f.next()){var d=p.value,m=a.children.get(d);if(!m){l=!1;break}c||u.push.apply(u,La([],wa(m.hooks),!1)),a=m}}catch(_){r={error:_}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}return c&&l&&u.push.apply(u,La([],wa(a.hooks),!1)),u.length===0?[]:u.length===1?[u[0].hook]:(i&&u.sort(function(_,v){return _.insertedId-v.insertedId}),u.map(function(_){var v=_.hook;return v}))},e}(),Am=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bm=["afterEach","after","beforeEach","before","describe","it"].every(function(e){return typeof global[e]=="function"}),Im=function(){function e(){this._moduleNameTrie=new Om,this._initialize()}return e.prototype._initialize=function(){var t=this;new zu(null,{internals:!0},function(n,r,o){var s,i,c=Pm(r),a=t._moduleNameTrie.search(c,{maintainInsertionOrder:!0,fullOnly:o===void 0});try{for(var u=Am(a),l=u.next();!l.done;l=u.next()){var f=l.value.onRequire;n=f(n,r,o)}}catch(p){s={error:p}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(s)throw s.error}}return n})},e.prototype.register=function(t,n){var r={moduleName:t,onRequire:n};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return bm?new e:this._instance=(t=this._instance)!==null&&t!==void 0?t:new e},e}();function Pm(e){return Ke.sep!==tr?e.split(Ke.sep).join(tr):e}var cn={exports:{}},ct={};const Yu=[],Jo=new WeakMap,Wu=new WeakMap,Ku=new Map,Ju=[],Cm={set(e,t,n){return Jo.get(e)[t](n)},get(e,t){if(t===Symbol.toStringTag)return"Module";const n=Wu.get(e)[t];if(typeof n=="function")return n()},defineProperty(e,t,n){if(!("value"in n))throw new Error("Getters/setters are not supported for exports property descriptors.");return Jo.get(e)[t](n.value)}};function Nm(e,t,n,r,o){Ku.set(e,o),Jo.set(t,n),Wu.set(t,r);const s=new Proxy(t,Cm);Yu.forEach(i=>i(e,s)),Ju.push([e,s])}let Zu=!1;function wm(){return Zu}function Lm(e){Zu=e}ct.register=Nm;ct.importHooks=Yu;ct.specifiers=Ku;ct.toHook=Ju;ct.getExperimentalPatchInternals=wm;ct.setExperimentalPatchInternals=Lm;const Ma=qe,$m=ju,{fileURLToPath:xa}=Uc,{MessageChannel:Mm}=Mo,{importHooks:Zo,specifiers:xm,toHook:Dm,getExperimentalPatchInternals:km}=ct;function Qu(e){Zo.push(e),Dm.forEach(([t,n])=>e(t,n))}function el(e){const t=Zo.indexOf(e);t>-1&&Zo.splice(t,1)}function Da(e,t,n,r){const o=e(t,n,r);o&&o!==t&&(t.default=o)}let Qo;function Fm(){const{port1:e,port2:t}=new Mm;let n=0,r;Qo=c=>{n++,e.postMessage(c)},e.on("message",()=>{n--,r&&n<=0&&r()}).unref();function o(){const c=setInterval(()=>{},1e3),a=new Promise(u=>{r=u}).then(()=>{clearInterval(c)});return n===0&&r(),a}const s=t;return{registerOptions:{data:{addHookMessagePort:s,include:[]},transferList:[s]},addHookMessagePort:s,waitForAllMessagesAcknowledged:o}}function Zt(e,t,n){if(!(this instanceof Zt))return new Zt(e,t,n);typeof e=="function"?(n=e,e=null,t=null):typeof t=="function"&&(n=t,t=null);const r=t?t.internals===!0:!1;Qo&&Array.isArray(e)&&Qo(e),this._iitmHook=(o,s)=>{const i=o,c=o.startsWith("node:");let a;if(c)o=o.replace(/^node:/,"");else{if(o.startsWith("file://"))try{o=xa(o)}catch{}const u=$m(o);u&&(o=u.name,a=u.basedir)}if(e){for(const u of e)if(u===o){if(a){if(r)o=o+Ma.sep+Ma.relative(a,xa(i));else if(!km()&&!a.endsWith(xm.get(i)))continue}Da(n,s,o,a)}}else Da(n,s,o,a)},Qu(this._iitmHook)}Zt.prototype.unhook=function(){el(this._iitmHook)};cn.exports=Zt;var Um=cn.exports.Hook=Zt;cn.exports.addHook=Qu;cn.exports.removeHook=el;cn.exports.createAddHookMessageChannel=Fm;var Bm=function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function c(l){try{u(r.next(l))}catch(f){i(f)}}function a(l){try{u(r.throw(l))}catch(f){i(f)}}function u(l){l.done?s(l.value):o(l.value).then(c,a)}u((r=r.apply(e,t||[])).next())})},jm=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,i;return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(u){return function(l){return a([u,l])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],o=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};function Gm(e,t,n){var r,o;try{o=e()}catch(s){r=s}finally{if(t(r,o),r&&!n)throw r;return o}}function Hm(e,t,n){return Bm(this,void 0,void 0,function(){var r,o,s;return jm(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return s=i.sent(),r=s,[3,4];case 3:if(t(r,o),r&&!n)throw r;return[2,o];case 4:return[2]}})})}function tl(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var Vm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bt=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nl=function(e){Vm(t,e);function t(n,r,o){var s=e.call(this,n,r,o)||this;s._hooks=[],s._requireInTheMiddleSingleton=Im.getInstance(),s._enabled=!1,s._wrap=function(c,a,u){if(tl(c[a])&&s._unwrap(c,a),xo.types.isProxy(c)){var l=et.wrap(Object.assign({},c),a,u);return Object.defineProperty(c,a,{value:l}),l}else return et.wrap(c,a,u)},s._unwrap=function(c,a){return xo.types.isProxy(c)?Object.defineProperty(c,a,{value:c[a]}):et.unwrap(c,a)},s._massWrap=function(c,a,u){if(c)Array.isArray(c)||(c=[c]);else{x.error("must provide one or more modules to patch");return}if(!(a&&Array.isArray(a))){x.error("must provide one or more functions to wrap on modules");return}c.forEach(function(l){a.forEach(function(f){s._wrap(l,f,u)})})},s._massUnwrap=function(c,a){if(c)Array.isArray(c)||(c=[c]);else{x.error("must provide one or more modules to patch");return}if(!(a&&Array.isArray(a))){x.error("must provide one or more functions to wrap on modules");return}c.forEach(function(u){a.forEach(function(l){s._unwrap(u,l)})})};var i=s.init();return i&&!Array.isArray(i)&&(i=[i]),s._modules=i||[],s._config.enabled&&s.enable(),s}return t.prototype._warnOnPreloadedModules=function(){var n=this;this._modules.forEach(function(r){var o=r.name;try{var s=require.resolve(o);require.cache[s]&&n._diag.warn("Module "+o+" has been loaded before "+n.instrumentationName+" so it might not work, please initialize it before requiring "+o)}catch{}})},t.prototype._extractPackageVersion=function(n){try{var r=Ss.readFileSync(Ke.join(n,"package.json"),{encoding:"utf8"}),o=JSON.parse(r).version;return typeof o=="string"?o:void 0}catch{x.warn("Failed extracting version",n)}},t.prototype._onRequire=function(n,r,o,s){var i=this,c;if(!s)return typeof n.patch=="function"&&(n.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:n.name}),n.patch(r)):r;var a=this._extractPackageVersion(s);if(n.moduleVersion=a,n.name===o)return ka(n.supportedVersions,a,n.includePrerelease)&&typeof n.patch=="function"&&(n.moduleExports=r,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:n.name,version:n.moduleVersion,baseDir:s}),n.patch(r,n.moduleVersion)):r;var u=(c=n.files)!==null&&c!==void 0?c:[],l=Ke.normalize(o),f=u.filter(function(p){return p.name===l}).filter(function(p){return ka(p.supportedVersions,a,n.includePrerelease)});return f.reduce(function(p,d){return d.moduleExports=p,i._enabled?(i._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:n.name,version:n.moduleVersion,fileName:d.name,baseDir:s}),d.patch(p,n.moduleVersion)):p},r)},t.prototype.enable=function(){var n,r,o,s,i,c,a=this;if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){try{for(var u=Bt(this._modules),l=u.next();!l.done;l=u.next()){var f=l.value;typeof f.patch=="function"&&f.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:f.name,version:f.moduleVersion}),f.patch(f.moduleExports,f.moduleVersion));try{for(var p=(o=void 0,Bt(f.files)),d=p.next();!d.done;d=p.next()){var m=d.value;m.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:f.name,version:f.moduleVersion,fileName:m.name}),m.patch(m.moduleExports,f.moduleVersion))}}catch(y){o={error:y}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}catch(y){n={error:y}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return}this._warnOnPreloadedModules();var _=function(y){var E=function(Q,J,pe){if(!pe&&Ke.isAbsolute(J)){var Ie=Ke.parse(J);J=Ie.name,pe=Ie.dir}return a._onRequire(y,Q,J,pe)},j=function(Q,J,pe){return a._onRequire(y,Q,J,pe)},H=Ke.isAbsolute(y.name)?new zu([y.name],{internals:!0},j):v._requireInTheMiddleSingleton.register(y.name,j);v._hooks.push(H);var ce=new Um([y.name],{internals:!1},E);v._hooks.push(ce)},v=this;try{for(var h=Bt(this._modules),S=h.next();!S.done;S=h.next()){var g=S.value;_(g)}}catch(y){i={error:y}}finally{try{S&&!S.done&&(c=h.return)&&c.call(h)}finally{if(i)throw i.error}}}},t.prototype.disable=function(){var n,r,o,s;if(this._enabled){this._enabled=!1;try{for(var i=Bt(this._modules),c=i.next();!c.done;c=i.next()){var a=c.value;typeof a.unpatch=="function"&&a.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:a.name,version:a.moduleVersion}),a.unpatch(a.moduleExports,a.moduleVersion));try{for(var u=(o=void 0,Bt(a.files)),l=u.next();!l.done;l=u.next()){var f=l.value;f.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:a.name,version:a.moduleVersion,fileName:f.name}),f.unpatch(f.moduleExports,a.moduleVersion))}}catch(p){o={error:p}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(D0);function ka(e,t,n){return typeof t>"u"?e.includes("*"):e.some(function(r){return A0.satisfies(t,r,{includePrerelease:n})})}var qm=function(){function e(t,n,r,o,s){this.name=t,this.supportedVersions=n,this.patch=r,this.unpatch=o,this.files=s||[]}return e}(),Xm=function(){function e(t,n,r,o){this.supportedVersions=n,this.patch=r,this.unpatch=o,this.name=qe.normalize(t)}return e}();const zm=Object.freeze(Object.defineProperty({__proto__:null,InstrumentationBase:nl,InstrumentationNodeModuleDefinition:qm,InstrumentationNodeModuleFile:Xm,isWrapped:tl,registerInstrumentations:Ar,safeExecuteInTheMiddle:Gm,safeExecuteInTheMiddleAsync:Hm},Symbol.toStringTag,{value:"Module"})),Ym=Ns(zm),M=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,V=globalThis,ge="9.46.0";function ze(){return un(V),V}function un(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ge,t[ge]=t[ge]||{}}function ln(e,t,n=V){const r=n.__SENTRY__=n.__SENTRY__||{},o=r[ge]=r[ge]||{};return o[e]||(o[e]=t())}const rl=["debug","info","warn","error","log","assert","trace"],Wm="Sentry Logger ",nr={};function rt(e){if(!("console"in V))return e();const t=V.console,n={},r=Object.keys(nr);r.forEach(o=>{const s=nr[o];n[o]=t[o],t[o]=s});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function Km(){Ks().enabled=!0}function Jm(){Ks().enabled=!1}function ol(){return Ks().enabled}function Zm(...e){Ws("log",...e)}function Qm(...e){Ws("warn",...e)}function eE(...e){Ws("error",...e)}function Ws(e,...t){M&&ol()&&rt(()=>{V.console[e](`${Wm}[${e}]:`,...t)})}function Ks(){return M?ln("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const R={enable:Km,disable:Jm,isEnabled:ol,log:Zm,warn:Qm,error:eE},sl=50,il="?",Fa=/\(error: (.*)\)/,Ua=/captureMessage|captureException/;function al(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{const s=[],i=n.split(`
`);for(let c=r;c<i.length;c++){const a=i[c];if(a.length>1024)continue;const u=Fa.test(a)?a.replace(Fa,"$1"):a;if(!u.match(/\S*Error: /)){for(const l of t){const f=l(u);if(f){s.push(f);break}}if(s.length>=sl+o)break}}return nE(s.slice(o))}}function tE(e){return Array.isArray(e)?al(...e):e}function nE(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Mn(t).function||"")&&t.pop(),t.reverse(),Ua.test(Mn(t).function||"")&&(t.pop(),Ua.test(Mn(t).function||"")&&t.pop()),t.slice(0,sl).map(n=>({...n,filename:n.filename||Mn(t).filename,function:n.function||il}))}function Mn(e){return e[e.length-1]||{}}const To="<anonymous>";function cl(e){try{return!e||typeof e!="function"?To:e.name||To}catch{return To}}const Yn={},Ba={};function Js(e,t){Yn[e]=Yn[e]||[],Yn[e].push(t)}function Zs(e,t){if(!Ba[e]){Ba[e]=!0;try{t()}catch(n){M&&R.error(`Error while instrumenting ${e}`,n)}}}function Qs(e,t){const n=e&&Yn[e];if(n)for(const r of n)try{r(t)}catch(o){M&&R.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${cl(r)}
Error:`,o)}}let Ro=null;function rE(e){const t="error";Js(t,e),Zs(t,oE)}function oE(){Ro=V.onerror,V.onerror=function(e,t,n,r,o){return Qs("error",{column:r,error:o,line:n,msg:e,url:t}),Ro?Ro.apply(this,arguments):!1},V.onerror.__SENTRY_INSTRUMENTED__=!0}let Oo=null;function sE(e){const t="unhandledrejection";Js(t,e),Zs(t,iE)}function iE(){Oo=V.onunhandledrejection,V.onunhandledrejection=function(e){return Qs("unhandledrejection",e),Oo?Oo.apply(this,arguments):!0},V.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const ul=Object.prototype.toString;function ll(e){switch(ul.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ot(e,Error)}}function Ir(e,t){return ul.call(e)===`[object ${t}]`}function aE(e){return Ir(e,"ErrorEvent")}function rr(e){return Ir(e,"String")}function ei(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function fl(e){return e===null||ei(e)||typeof e!="object"&&typeof e!="function"}function Qt(e){return Ir(e,"Object")}function cE(e){return typeof Event<"u"&&ot(e,Event)}function uE(e){return typeof Element<"u"&&ot(e,Element)}function lE(e){return Ir(e,"RegExp")}function fn(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function fE(e){return Qt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ot(e,t){try{return e instanceof t}catch{return!1}}function pl(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}const pE=V,dE=80;function hE(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let s=0,i=0;const c=" > ",a=c.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||dE;for(;n&&s++<r&&(u=_E(n,l),!(u==="html"||s>1&&i+o.length*a+u.length>=f));)o.push(u),i+=u.length,n=n.parentNode;return o.reverse().join(c)}catch{return"<unknown>"}}function _E(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(pE.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=t!=null&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(o!=null&&o.length)o.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&rr(i)){const c=i.split(/\s+/);for(const a of c)r.push(`.${a}`)}}const s=["aria-label","type","name","title","alt"];for(const i of s){const c=n.getAttribute(i);c&&r.push(`[${i}="${c}"]`)}return r.join("")}function or(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function gE(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const o=e[r];try{pl(o)?n.push("[VueViewModel]"):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function mE(e,t,n=!1){return rr(e)?lE(t)?t.test(e):rr(t)?n?e===t:e.includes(t):!1:!1}function pn(e,t=[],n=!1){return t.some(r=>mE(e,r,n))}function EE(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const o=n(r);typeof o=="function"&&vE(o,r);try{e[t]=o}catch{M&&R.log(`Failed to replace method "${t}" in object`,e)}}function Ue(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{M&&R.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function vE(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ue(e,"__sentry_original__",t)}catch{}}function SE(e){return e.__sentry_original__}function dl(e){if(ll(e))return{message:e.message,name:e.name,stack:e.stack,...Ga(e)};if(cE(e)){const t={type:e.type,target:ja(e.target),currentTarget:ja(e.currentTarget),...Ga(e)};return typeof CustomEvent<"u"&&ot(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ja(e){try{return uE(e)?hE(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ga(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function yE(e,t=40){const n=Object.keys(dl(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return or(r,t);for(let o=n.length;o>0;o--){const s=n.slice(0,o).join(", ");if(!(s.length>t))return o===n.length?s:or(s,t)}return""}function TE(){const e=V;return e.crypto||e.msCrypto}function me(e=TE()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function hl(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function mt(e){const{message:t,event_id:n}=e;if(t)return t;const r=hl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function RE(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{};s.value||(s.value=""),s.type||(s.type="Error")}function ti(e,t){const n=hl(e);if(!n)return;const r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){const s={...o==null?void 0:o.data,...t.data};n.mechanism.data=s}}const OE=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function Ao(e){return parseInt(e||"",10)}function AE(e){const t=e.match(OE)||[],n=Ao(t[1]),r=Ao(t[2]),o=Ao(t[3]);return{buildmetadata:t[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(o)?void 0:o,prerelease:t[4]}}function Ha(e){if(bE(e))return!0;try{Ue(e,"__sentry_captured__",!0)}catch{}return!1}function bE(e){try{return e.__sentry_captured__}catch{}}const _l=1e3;function dn(){return Date.now()/_l}function IE(){const{performance:e}=V;if(!(e!=null&&e.now)||!e.timeOrigin)return dn;const t=e.timeOrigin;return()=>(t+e.now())/_l}let Va;function gl(){return(Va??(Va=IE()))()}function es(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||gl(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:me()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function hn(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=hn(r[o],t[o],n-1));return r}function sr(){return me()}function ni(){return me().substring(16)}const ts="_sentrySpan";function ns(e,t){t?Ue(e,ts,t):delete e[ts]}function rs(e){return e[ts]}const PE=100;class Ae{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:sr(),sampleRand:Math.random()}}clone(){const t=new Ae;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,ns(t,rs(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&es(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof Ae?n.getScopeData():Qt(n)?t:void 0,{tags:o,extra:s,user:i,contexts:c,level:a,fingerprint:u=[],propagationContext:l}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...c},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ns(this,void 0),this._attachments=[],this.setPropagationContext({traceId:sr(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var s;const r=typeof n=="number"?n:PE;if(r<=0)return this;const o={timestamp:dn(),...t,message:t.message?or(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(s=this._client)==null||s.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:rs(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=hn(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||me();if(!this._client)return M&&R.warn("No client configured on scope - will not capture exception!"),r;const o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){const o=(r==null?void 0:r.event_id)||me();if(!this._client)return M&&R.warn("No client configured on scope - will not capture message!"),o;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:o},this),o}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||me();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(M&&R.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function ri(){return ln("defaultCurrentScope",()=>new Ae)}function oi(){return ln("defaultIsolationScope",()=>new Ae)}class CE{constructor(t,n){let r;t?r=t:r=new Ae;let o;n?o=n:o=new Ae,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(o){throw this._popScope(),o}return fn(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Rt(){const e=ze(),t=un(e);return t.stack=t.stack||new CE(ri(),oi())}function NE(e){return Rt().withScope(e)}function wE(e,t){const n=Rt();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function qa(e){return Rt().withScope(()=>e(Rt().getIsolationScope()))}function LE(){return{withIsolationScope:qa,withScope:NE,withSetScope:wE,withSetIsolationScope:(e,t)=>qa(t),getCurrentScope:()=>Rt().getScope(),getIsolationScope:()=>Rt().getIsolationScope()}}function $E(e){const t=ze(),n=un(t);n.acs=e}function Ct(e){const t=un(e);return t.acs?t.acs:LE()}function Se(){const e=ze();return Ct(e).getCurrentScope()}function _n(){const e=ze();return Ct(e).getIsolationScope()}function ME(){return ln("globalScope",()=>new Ae)}function ml(...e){const t=ze(),n=Ct(t);if(e.length===2){const[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function ne(){return Se().getClient()}function si(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,s={trace_id:n,span_id:o||ni()};return r&&(s.parent_span_id=r),s}const Be="sentry.source",en="sentry.sample_rate",xE="sentry.previous_trace_sample_rate",je="sentry.op",Nt="sentry.origin",DE="sentry.measurement_unit",kE="sentry.measurement_value",Pr="sentry.custom_span_name",El="sentry.profile_id",vl="sentry.exclusive_time",FE=0,ir=1,ee=2;function UE(e){if(e<400&&e>=100)return{code:ir};if(e>=400&&e<500)switch(e){case 401:return{code:ee,message:"unauthenticated"};case 403:return{code:ee,message:"permission_denied"};case 404:return{code:ee,message:"not_found"};case 409:return{code:ee,message:"already_exists"};case 413:return{code:ee,message:"failed_precondition"};case 429:return{code:ee,message:"resource_exhausted"};case 499:return{code:ee,message:"cancelled"};default:return{code:ee,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:ee,message:"unimplemented"};case 503:return{code:ee,message:"unavailable"};case 504:return{code:ee,message:"deadline_exceeded"};default:return{code:ee,message:"internal_error"}}return{code:ee,message:"unknown_error"}}const Sl="_sentryScope",yl="_sentryIsolationScope";function BE(e,t,n){e&&(Ue(e,yl,n),Ue(e,Sl,t))}function Cr(e){return{scope:e[Sl],isolationScope:e[yl]}}const ii="sentry-",jE=/^sentry-/,GE=8192;function Nr(e){const t=ar(e);if(!t)return;const n=Object.entries(t).reduce((r,[o,s])=>{if(o.match(jE)){const i=o.slice(ii.length);r[i]=s}return r},{});if(Object.keys(n).length>0)return n}function ai(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${ii}${r}`]=o),n),{});return Tl(t)}function ar(e){if(!(!e||!rr(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Xa(n);return Object.entries(r).forEach(([o,s])=>{t[o]=s}),t},{}):Xa(e)}function Xa(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Tl(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=o===0?s:`${t},${s}`;return i.length>GE?(M&&R.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}function Ot(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const Rl=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function HE(e){if(!e)return;const t=e.match(Rl);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function VE(e,t){const n=HE(e),r=Nr(t);if(!(n!=null&&n.traceId))return{traceId:sr(),sampleRand:Math.random()};const o=qE(n,r);r&&(r.sample_rand=o.toString());const{traceId:s,parentSpanId:i,parentSampled:c}=n;return{traceId:s,parentSpanId:i,sampled:c,dsc:r||{},sampleRand:o}}function wr(e=sr(),t=ni(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function qE(e,t){const n=Ot(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=Ot(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Ol=1;let za=!1;function ci(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:xe(e).parent_span_id,s=Cr(e).scope,i=r?(s==null?void 0:s.getPropagationContext().propagationSpanId)||ni():t;return{parent_span_id:o,span_id:i,trace_id:n}}function XE(e){const{traceId:t,spanId:n}=e.spanContext(),r=li(e);return wr(t,n,r)}function ui(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:s})=>({span_id:t,trace_id:n,sampled:r===Ol,attributes:s,...o}))}function At(e){return typeof e=="number"?Ya(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ya(e.getTime()):gl()}function Ya(e){return e>9999999999?e/1e3:e}function xe(e){var r;if(YE(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(zE(e)){const{attributes:o,startTime:s,name:i,endTime:c,status:a,links:u}=e,l="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:o,description:i,parent_span_id:l,start_timestamp:At(s),timestamp:At(c)||void 0,status:fi(a),op:o[je],origin:o[Nt],links:ui(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function zE(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function YE(e){return typeof e.getSpanJSON=="function"}function li(e){const{traceFlags:t}=e.spanContext();return t===Ol}function fi(e){if(!(!e||e.code===FE))return e.code===ir?"ok":e.message||"unknown_error"}const bo="_sentryChildSpans",os="_sentryRootSpan";function WE(e,t){const n=e[os]||e;Ue(t,os,n),e[bo]?e[bo].add(t):Ue(e,bo,new Set([t]))}function wt(e){return e[os]||e}function pi(){const e=ze(),t=Ct(e);return t.getActiveSpan?t.getActiveSpan():rs(Se())}function Wa(){za||(rt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),za=!0)}let Ka=!1;function KE(){if(Ka)return;function e(){const t=pi(),n=t&&wt(t);if(n){const r="internal_error";M&&R.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:ee,message:r})}}e.tag="sentry_tracingErrorCallback",Ka=!0,rE(e),sE(e)}function Lr(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=ne())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const di="production",JE=/^o(\d+)\./,ZE=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function QE(e){return e==="http"||e==="https"}function gn(e,t=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:c,publicKey:a}=e;return`${c}://${a}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${i}`}function e1(e){const t=ZE.exec(e);if(!t){rt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,o="",s="",i="",c=""]=t.slice(1);let a="",u=c;const l=u.split("/");if(l.length>1&&(a=l.slice(0,-1).join("/"),u=l.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return Al({host:s,pass:o,path:a,projectId:u,port:i,protocol:n,publicKey:r})}function Al(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function t1(e){if(!M)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(R.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?QE(r)?t&&isNaN(parseInt(t,10))?(R.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(R.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(R.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function n1(e){const t=e.match(JE);return t==null?void 0:t[1]}function r1(e){const t=typeof e=="string"?e1(e):Al(e);if(!(!t||!t1(t)))return t}const o1="_frozenDsc";function bl(e,t){const n=t.getOptions(),{publicKey:r,host:o}=t.getDsn()||{};let s;n.orgId?s=String(n.orgId):o&&(s=n1(o));const i={environment:n.environment||di,release:n.release,public_key:r,trace_id:e,org_id:s};return t.emit("createDsc",i),i}function mn(e,t){const n=t.getPropagationContext();return n.dsc||bl(n.traceId,e)}function Ge(e){var m;const t=ne();if(!t)return{};const n=wt(e),r=xe(n),o=r.data,s=n.spanContext().traceState,i=(s==null?void 0:s.get("sentry.sample_rate"))??o[en]??o[xE];function c(_){return(typeof i=="number"||typeof i=="string")&&(_.sample_rate=`${i}`),_}const a=n[o1];if(a)return c(a);const u=s==null?void 0:s.get("sentry.dsc"),l=u&&Nr(u);if(l)return c(l);const f=bl(e.spanContext().traceId,t),p=o[Be],d=r.description;return p!=="url"&&d&&(f.transaction=d),Lr()&&(f.sampled=String(li(n)),f.sample_rand=(s==null?void 0:s.get("sentry.sample_rand"))??((m=Cr(n).scope)==null?void 0:m.getPropagationContext().sampleRand.toString())),c(f),t.emit("createDsc",f,n),f}function Ne(e,t=100,n=1/0){try{return ss("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Il(e,t=3,n=100*1024){const r=Ne(e,t);return c1(r)>n?Il(e,t-1,n):r}function ss(e,t,n=1/0,r=1/0,o=u1()){const[s,i]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const c=s1(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const a=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(a===0)return c.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const d=u.toJSON();return ss("",d,a-1,r,o)}catch{}const l=Array.isArray(t)?[]:{};let f=0;const p=dl(t);for(const d in p){if(!Object.prototype.hasOwnProperty.call(p,d))continue;if(f>=r){l[d]="[MaxProperties ~]";break}const m=p[d];l[d]=ss(d,m,a-1,r,o),f++}return i(t),l}function s1(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(pl(t))return"[VueViewModel]";if(fE(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${cl(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=i1(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function i1(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function a1(e){return~-encodeURI(e).split(/%..|./).length}function c1(e){return a1(JSON.stringify(e))}function u1(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Lt(e,t=[]){return[e,t]}function l1(e,t){const[n,r]=e;return[n,[...r,t]]}function Ja(e,t){const n=e[1];for(const r of n){const o=r[0].type;if(t(r,o))return!0}return!1}function is(e){const t=un(V);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function f1(e){const[t,n]=e;let r=JSON.stringify(t);function o(s){typeof r=="string"?r=typeof s=="string"?r+s:[is(r),s]:r.push(typeof s=="string"?is(s):s)}for(const s of n){const[i,c]=s;if(o(`
${JSON.stringify(i)}
`),typeof c=="string"||c instanceof Uint8Array)o(c);else{let a;try{a=JSON.stringify(c)}catch{a=JSON.stringify(Ne(c))}o(a)}}return typeof r=="string"?r:p1(r)}function p1(e){const t=e.reduce((o,s)=>o+s.length,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}function d1(e){const t=typeof e.data=="string"?is(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const h1={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Za(e){return h1[e]}function Pl(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function _1(e,t,n,r){var s;const o=(s=e.sdkProcessingMetadata)==null?void 0:s.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:gn(r)},...o&&{trace:o}}}function g1(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function m1(e,t,n,r){const o=Pl(n),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:gn(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Lt(s,[i])}function E1(e,t,n,r){const o=Pl(n),s=e.type&&e.type!=="replay_event"?e.type:"event";g1(e,n==null?void 0:n.sdk);const i=_1(e,o,r,t);return delete e.sdkProcessingMetadata,Lt(i,[[{type:s},e]])}function v1(e){if(!M)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=xe(e),{spanId:o}=e.spanContext(),s=li(e),i=wt(e),c=i===e,a=`[Tracing] Starting ${s?"sampled":"unsampled"} ${c?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!c){const{op:l,description:f}=xe(i);u.push(`root ID: ${i.spanContext().spanId}`),l&&u.push(`root op: ${l}`),f&&u.push(`root description: ${f}`)}R.log(`${a}
  ${u.join(`
  `)}`)}function S1(e){if(!M)return;const{description:t="< unknown name >",op:n="< unknown op >"}=xe(e),{spanId:r}=e.spanContext(),s=wt(e)===e,i=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;R.log(i)}function Cl(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},o=r[DE],s=r[kE];typeof o=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:o})}),t}function Nl(e,t,n=()=>{}){let r;try{r=e()}catch(o){throw t(o),n(),o}return y1(r,t,n)}function y1(e,t,n){return fn(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function T1(e,t,n){if(!Lr(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:c=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):c}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);const s=Ot(o);if(s===void 0)return M&&R.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!s)return M&&R.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,r];const i=n<s;return i||M&&R.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[i,s,r]}function R1(e,t){const n=O1();return n.withActiveSpan?n.withActiveSpan(e,t):ml(r=>(ns(r,e||void 0),t(r)))}function O1(){const e=ze();return Ct(e)}const Io=0,Qa=1,ec=2;function st(e){return new He(t=>{t(e)})}function wl(e){return new He((t,n)=>{n(e)})}class He{constructor(t){this._state=Io,this._handlers=[],this._runExecutor(t)}then(t,n){return new He((r,o)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(i){o(i)}},s=>{if(!n)o(s);else try{r(n(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new He((n,r)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){r(o);return}n(o)})})}_executeHandlers(){if(this._state===Io)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Qa&&n[1](this._value),this._state===ec&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(s,i)=>{if(this._state===Io){if(fn(i)){i.then(r,o);return}this._state=s,this._value=i,this._executeHandlers()}},r=s=>{n(Qa,s)},o=s=>{n(ec,s)};try{t(r,o)}catch(s){o(s)}}}function as(e,t,n,r=0){return new He((o,s)=>{const i=e[r];if(t===null||typeof i!="function")o(t);else{const c=i({...t},n);M&&i.id&&c===null&&R.log(`Event processor "${i.id}" dropped event`),fn(c)?c.then(a=>as(e,a,n,r+1).then(o)).then(null,s):as(e,c,n,r+1).then(o).then(null,s)}})}function A1(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:s}=t;b1(e,t),r&&C1(e,r),N1(e,n),I1(e,o),P1(e,s)}function tc(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,sdkProcessingMetadata:c,breadcrumbs:a,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:p,transactionName:d,span:m}=t;xn(e,"extra",n),xn(e,"tags",r),xn(e,"user",o),xn(e,"contexts",s),e.sdkProcessingMetadata=hn(e.sdkProcessingMetadata,c,2),i&&(e.level=i),d&&(e.transactionName=d),m&&(e.span=m),a.length&&(e.breadcrumbs=[...e.breadcrumbs,...a]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...p}}function xn(e,t,n){e[t]=hn(e[t],n,1)}function b1(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,transactionName:c}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),i&&(e.level=i),c&&e.type!=="transaction"&&(e.transaction=c)}function I1(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function P1(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function C1(e,t){e.contexts={trace:ci(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ge(t),...e.sdkProcessingMetadata};const n=wt(t),r=xe(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function N1(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Dn,nc,kn;function w1(e){const t=V._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return kn&&n.length===nc||(nc=n.length,kn=n.reduce((r,o)=>{Dn||(Dn={});const s=Dn[o];if(s)r[s[0]]=s[1];else{const i=e(o);for(let c=i.length-1;c>=0;c--){const a=i[c],u=a==null?void 0:a.filename,l=t[o];if(u&&l){r[u]=l,Dn[o]=[u,l];break}}}return r},{})),kn}function L1(e,t,n,r,o,s){const{normalizeDepth:i=3,normalizeMaxBreadth:c=1e3}=e,a={...t,event_id:t.event_id||n.event_id||me(),timestamp:t.timestamp||dn()},u=n.integrations||e.integrations.map(v=>v.name);$1(a,e),D1(a,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&M1(a,e.stackParser);const l=F1(r,n.captureContext);n.mechanism&&ti(a,n.mechanism);const f=o?o.getEventProcessors():[],p=ME().getScopeData();if(s){const v=s.getScopeData();tc(p,v)}if(l){const v=l.getScopeData();tc(p,v)}const d=[...n.attachments||[],...p.attachments];d.length&&(n.attachments=d),A1(a,p);const m=[...f,...p.eventProcessors];return as(m,a,n).then(v=>(v&&x1(v),typeof i=="number"&&i>0?k1(v,i,c):v))}function $1(e,t){const{environment:n,release:r,dist:o,maxValueLength:s=250}=t;e.environment=e.environment||n||di,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);const i=e.request;i!=null&&i.url&&(i.url=or(i.url,s))}function M1(e,t){var r,o;const n=w1(t);(o=(r=e.exception)==null?void 0:r.values)==null||o.forEach(s=>{var i,c;(c=(i=s.stacktrace)==null?void 0:i.frames)==null||c.forEach(a=>{a.filename&&(a.debug_id=n[a.filename])})})}function x1(e){var r,o;const t={};if((o=(r=e.exception)==null?void 0:r.values)==null||o.forEach(s=>{var i,c;(c=(i=s.stacktrace)==null?void 0:i.frames)==null||c.forEach(a=>{a.debug_id&&(a.abs_path?t[a.abs_path]=a.debug_id:a.filename&&(t[a.filename]=a.debug_id),delete a.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([s,i])=>{n.push({type:"sourcemap",code_file:s,debug_id:i})})}function D1(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function k1(e,t,n){var o,s;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Ne(i.data,t,n)}}))},...e.user&&{user:Ne(e.user,t,n)},...e.contexts&&{contexts:Ne(e.contexts,t,n)},...e.extra&&{extra:Ne(e.extra,t,n)}};return(o=e.contexts)!=null&&o.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ne(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:Ne(i.data,t,n)}}))),(s=e.contexts)!=null&&s.flags&&r.contexts&&(r.contexts.flags=Ne(e.contexts.flags,3,n)),r}function F1(e,t){if(!t)return e;const n=e?e.clone():new Ae;return n.update(t),n}function U1(e){if(e)return B1(e)?{captureContext:e}:G1(e)?{captureContext:e}:e}function B1(e){return e instanceof Ae||typeof e=="function"}const j1=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function G1(e){return Object.keys(e).some(t=>j1.includes(t))}function hi(e,t){return Se().captureException(e,U1(t))}function H1(e,t){return Se().captureEvent(e,t)}function V1(){const e=ne();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}const q1="7";function X1(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function z1(e){return`${X1(e)}${e.projectId}/envelope/`}function Y1(e,t){const n={sentry_version:q1};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function W1(e,t,n){return t||`${z1(e)}?${Y1(e,n)}`}const rc=[];function K1(e){const t={};return e.forEach(n=>{const{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function J1(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return K1(r)}function Z1(e,t){const n={};return t.forEach(r=>{r&&Ll(e,r,n)}),n}function oc(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Ll(e,t,n){if(n[t.name]){M&&R.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,rc.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),rc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,s)=>r(o,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),o=Object.assign((s,i)=>r(s,i,e),{id:t.name});e.addEventProcessor(o)}M&&R.log(`Integration installed: ${t.name}`)}function Q1(e,t,n){const r=[{type:"client_report"},{timestamp:dn(),discarded_events:e}];return Lt(t?{dsn:t}:{},[r])}function $l(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function ev(e){var a;const{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:s,data:i,op:c}=((a=e.contexts)==null?void 0:a.trace)??{};return{data:i??{},description:e.transaction,op:c,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:i==null?void 0:i[El],exclusive_time:i==null?void 0:i[vl],measurements:e.measurements,is_segment:!0}}function tv(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[El]:e.profile_id},...e.exclusive_time&&{[vl]:e.exclusive_time}}}},measurements:e.measurements}}const sc="Not capturing exception because it's already been captured.",ic="Discarded session because of missing or non-string release",Ml=Symbol.for("SentryInternalError"),xl=Symbol.for("SentryDoNotSendEventError");function Wn(e){return{message:e,[Ml]:!0}}function Po(e){return{message:e,[xl]:!0}}function ac(e){return!!e&&typeof e=="object"&&Ml in e}function cc(e){return!!e&&typeof e=="object"&&xl in e}class nv{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=r1(t.dsn):M&&R.warn("No DSN provided, client will not send events."),this._dsn){const n=W1(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const o=me();if(Ha(t))return M&&R.log(sc),o;const s={event_id:o,...n};return this._process(this.eventFromException(t,s).then(i=>this._captureEvent(i,s,r))),s.event_id}captureMessage(t,n,r,o){const s={event_id:me(),...r},i=ei(t)?t:String(t),c=fl(t)?this.eventFromMessage(i,n,s):this.eventFromException(t,s);return this._process(c.then(a=>this._captureEvent(a,s,o))),s.event_id}captureEvent(t,n,r){const o=me();if(n!=null&&n.originalException&&Ha(n.originalException))return M&&R.log(sc),o;const s={event_id:o,...n},i=t.sdkProcessingMetadata||{},c=i.capturedSpanScope,a=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,s,c||r,a)),s.event_id}captureSession(t){this.sendSession(t),es(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(o=>r&&o))):st(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Ll(this,t,this._integrations),n||oc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=E1(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=l1(r,d1(s));const o=this.sendEnvelope(r);o&&o.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const{release:n,environment:r=di}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!n){M&&R.warn(ic);return}s.release=s.release||n,s.environment=s.environment||r,t.attrs=s}else{if(!t.release&&!n){M&&R.warn(ic);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const o=m1(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const o=`${t}:${n}`;M&&R.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const o=r.indexOf(n);o>-1&&r.splice(o,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(o=>o(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(M&&R.error("Error while sending envelope:",n),n)):(M&&R.error("Transport disabled"),st({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Z1(this,t),oc(this,t)}_updateSessionFromEvent(t,n){var a;let r=n.level==="fatal",o=!1;const s=(a=n.exception)==null?void 0:a.values;if(s){o=!0;for(const u of s){const l=u.mechanism;if((l==null?void 0:l.handled)===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(es(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new He(n=>{let r=0;const o=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=o,t&&r>=t&&(clearInterval(s),n(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){const s=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&(i!=null&&i.length)&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),L1(s,t,n,r,this,o).then(c=>{if(c===null)return c;this.emit("postprocessEvent",c,n),c.contexts={trace:si(r),...c.contexts};const a=mn(this,r);return c.sdkProcessingMetadata={dynamicSamplingContext:a,...c.sdkProcessingMetadata},c})}_captureEvent(t,n={},r=Se(),o=_n()){return M&&cs(t)&&R.log(`Captured error event \`${$l(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(s=>s.event_id,s=>{M&&(cc(s)?R.log(s.message):ac(s)?R.warn(s.message):R.warn(s))})}_processEvent(t,n,r,o){const s=this.getOptions(),{sampleRate:i}=s,c=Dl(t),a=cs(t),u=t.type||"error",l=`before send for type \`${u}\``,f=typeof i>"u"?void 0:Ot(i);if(a&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error"),wl(Po(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const p=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,o).then(d=>{if(d===null)throw this.recordDroppedEvent("event_processor",p),Po("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return d;const _=ov(this,s,d,n);return rv(_,l)}).then(d=>{var v;if(d===null){if(this.recordDroppedEvent("before_send",p),c){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw Po(`${l} returned \`null\`, will not send event.`)}const m=r.getSession()||o.getSession();if(a&&m&&this._updateSessionFromEvent(m,d),c){const h=((v=d.sdkProcessingMetadata)==null?void 0:v.spanCountBeforeProcessing)||0,S=d.spans?d.spans.length:0,g=h-S;g>0&&this.recordDroppedEvent("before_send","span",g)}const _=d.transaction_info;if(c&&_&&d.transaction!==t.transaction){const h="custom";d.transaction_info={..._,source:h}}return this.sendEvent(d,n),d}).then(null,d=>{throw cc(d)||ac(d)?d:(this.captureException(d,{data:{__sentry__:!0},originalException:d}),Wn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${d}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[o,s]=n.split(":");return{reason:o,category:s,quantity:r}})}_flushOutcomes(){M&&R.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){M&&R.log("No outcomes to send");return}if(!this._dsn){M&&R.log("No dsn provided, will not send outcomes");return}M&&R.log("Sending outcomes:",t);const n=Q1(t,this._options.tunnel&&gn(this._dsn));this.sendEnvelope(n)}}function rv(e,t){const n=`${t} must return \`null\` or a valid event.`;if(fn(e))return e.then(r=>{if(!Qt(r)&&r!==null)throw Wn(n);return r},r=>{throw Wn(`${t} rejected with ${r}`)});if(!Qt(e)&&e!==null)throw Wn(n);return e}function ov(e,t,n,r){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i}=t;let c=n;if(cs(c)&&o)return o(c,r);if(Dl(c)){if(i){const a=i(ev(c));if(a?c=hn(n,tv(a)):Wa(),c.spans){const u=[];for(const l of c.spans){const f=i(l);f?u.push(f):(Wa(),u.push(l))}c.spans=u}}if(s){if(c.spans){const a=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:a}}return s(c,r)}}return c}function cs(e){return e.type===void 0}function Dl(e){return e.type==="transaction"}function sv(e,t){return t?ml(t,()=>{const n=pi(),r=n?ci(n):si(t);return[n?Ge(n):mn(e,t),r]}):[void 0,void 0]}function iv(e,t,n,r,o){const s={sent_at:new Date().toISOString()};n!=null&&n.sdk&&(s.sdk={name:n.sdk.name,version:n.sdk.version}),r&&o&&(s.dsn=gn(o)),t&&(s.trace=t);const i=av(e);return Lt(s,[i])}function av(e){return[{type:"check_in"},e]}function cv(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function uv(e,t,n,r){const o={};return t!=null&&t.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=gn(r)),Lt(o,[cv(e)])}function Kn(e,t){const n=lv(e)??[];if(n.length===0)return;const r=e.getOptions(),o=uv(n,r._metadata,r.tunnel,e.getDsn());kl().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function lv(e){return kl().get(e)}function kl(){return ln("clientToLogBufferMap",()=>new WeakMap)}function Fl(e,t){return e(t.stack||"",1)}function Ul(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=Fl(e,t);return r.length&&(n.stacktrace={frames:r}),n}function fv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function pv(e){if("name"in e&&typeof e.name=="string"){let r=`'${e.name}' captured as exception`;return"message"in e&&typeof e.message=="string"&&(r+=` with message '${e.message}'`),r}else if("message"in e&&typeof e.message=="string")return e.message;const t=yE(e);if(aE(e))return`Event \`ErrorEvent\` captured as exception with message \`${e.message}\``;const n=dv(e);return`${n&&n!=="Object"?`'${n}'`:"Object"} captured as exception with keys: ${t}`}function dv(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function hv(e,t,n,r){if(ll(n))return[n,void 0];if(t.synthetic=!0,Qt(n)){const s=e==null?void 0:e.getOptions().normalizeDepth,i={__serialized__:Il(n,s)},c=fv(n);if(c)return[c,i];const a=pv(n),u=(r==null?void 0:r.syntheticException)||new Error(a);return u.message=a,[u,i]}const o=(r==null?void 0:r.syntheticException)||new Error(n);return o.message=`${n}`,[o,void 0]}function _v(e,t,n,r){const s=(r==null?void 0:r.data)&&r.data.mechanism||{handled:!0,type:"generic"},[i,c]=hv(e,s,n,r),a={exception:{values:[Ul(t,i)]}};return c&&(a.extra=c),RE(a),ti(a,s),{...a,event_id:r==null?void 0:r.event_id}}function gv(e,t,n="info",r,o){const s={event_id:r==null?void 0:r.event_id,level:n};if(o&&(r!=null&&r.syntheticException)){const i=Fl(e,r.syntheticException);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]},ti(s,{synthetic:!0}))}if(ei(t)){const{__sentry_template_string__:i,__sentry_template_values__:c}=t;return s.logentry={message:i,params:c},s}return s.message=t,s}const mv=5e3;class Ev extends nv{constructor(t){var r;if(KE(),super(t),this._logWeight=0,this._options.enableLogs??((r=this._options._experiments)==null?void 0:r.enableLogs)){const o=this;o.on("flushLogs",()=>{o._logWeight=0,clearTimeout(o._logFlushIdleTimeout)}),o.on("afterCaptureLog",s=>{o._logWeight+=vv(s),o._logWeight>=8e5?Kn(o):o._logFlushIdleTimeout=setTimeout(()=>{Kn(o)},mv)}),o.on("flush",()=>{Kn(o)})}}eventFromException(t,n){const r=_v(this,this._options.stackParser,t,n);return r.level="error",st(r)}eventFromMessage(t,n="info",r){return st(gv(this._options.stackParser,t,n,r,this._options.attachStacktrace))}captureException(t,n,r){return uc(n),super.captureException(t,n,r)}captureEvent(t,n,r){var s;return!t.type&&((s=t.exception)==null?void 0:s.values)&&t.exception.values.length>0&&uc(n),super.captureEvent(t,n,r)}captureCheckIn(t,n,r){const o="checkInId"in t&&t.checkInId?t.checkInId:me();if(!this._isEnabled())return M&&R.warn("SDK not enabled, will not capture check-in."),o;const s=this.getOptions(),{release:i,environment:c,tunnel:a}=s,u={check_in_id:o,monitor_slug:t.monitorSlug,status:t.status,release:i,environment:c};"duration"in t&&(u.duration=t.duration),n&&(u.monitor_config={schedule:n.schedule,checkin_margin:n.checkinMargin,max_runtime:n.maxRuntime,timezone:n.timezone,failure_issue_threshold:n.failureIssueThreshold,recovery_threshold:n.recoveryThreshold});const[l,f]=sv(this,r);f&&(u.contexts={trace:f});const p=iv(u,l,this.getSdkMetadata(),a,this.getDsn());return M&&R.log("Sending checkin:",t.monitorSlug,t.status),this.sendEnvelope(p),o}_prepareEvent(t,n,r,o){var s;return this._options.platform&&(t.platform=t.platform||this._options.platform),this._options.runtime&&(t.contexts={...t.contexts,runtime:((s=t.contexts)==null?void 0:s.runtime)||this._options.runtime}),this._options.serverName&&(t.server_name=t.server_name||this._options.serverName),super._prepareEvent(t,n,r,o)}}function uc(e){var n;const t=_n().getScopeData().sdkProcessingMetadata.requestSession;if(t){const r=((n=e==null?void 0:e.mechanism)==null?void 0:n.handled)??!0;r&&t.status!=="crashed"?t.status="errored":r||(t.status="crashed")}}function vv(e){let t=0;return e.message&&(t+=e.message.length*2),e.attributes&&Object.values(e.attributes).forEach(n=>{Array.isArray(n)?t+=n.length*lc(n[0]):fl(n)?t+=lc(n):t+=100}),t}function lc(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}const Bl=Symbol.for("SentryBufferFullError");function Sv(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function o(i){if(!n())return wl(Bl);const c=i();return t.indexOf(c)===-1&&t.push(c),c.then(()=>r(c)).then(null,()=>r(c).then(null,()=>{})),c}function s(i){return new He((c,a)=>{let u=t.length;if(!u)return c(!0);const l=setTimeout(()=>{i&&i>0&&c(!1)},i);t.forEach(f=>{st(f).then(()=>{--u||(clearTimeout(l),c(!0))},a)})})}return{$:t,add:o,drain:s}}const yv=60*1e3;function Tv(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?yv:r-t}function Rv(e,t){return e[t]||e.all||0}function Ov(e,t,n=Date.now()){return Rv(e,t)>n}function Av(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},s=n==null?void 0:n["x-sentry-rate-limits"],i=n==null?void 0:n["retry-after"];if(s)for(const c of s.trim().split(",")){const[a,u,,,l]=c.split(":",5),f=parseInt(a,10),p=(isNaN(f)?60:f)*1e3;if(!u)o.all=r+p;else for(const d of u.split(";"))d==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(o[d]=r+p):o[d]=r+p}else i?o.all=r+Tv(i,r):t===429&&(o.all=r+60*1e3);return o}const bv=64;function Iv(e,t,n=Sv(e.bufferSize||bv)){let r={};const o=i=>n.drain(i);function s(i){const c=[];if(Ja(i,(f,p)=>{const d=Za(p);Ov(r,d)?e.recordDroppedEvent("ratelimit_backoff",d):c.push(f)}),c.length===0)return st({});const a=Lt(i[0],c),u=f=>{Ja(a,(p,d)=>{e.recordDroppedEvent(f,Za(d))})},l=()=>t({body:f1(a)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&M&&R.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=Av(r,f),f),f=>{throw u("network_error"),M&&R.error("Encountered error running transport request:",f),f});return n.add(l).then(f=>f,f=>{if(f===Bl)return M&&R.error("Skipped sending event because buffer is full."),u("queue_overflow"),st({});throw f})}return{send:s,flush:o}}function Pv(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:ge})),version:ge}),e._metadata=o}function Cv(e={}){const t=e.client||ne();if(!V1()||!t)return{};const n=ze(),r=Ct(n);if(r.getTraceData)return r.getTraceData(e);const o=e.scope||Se(),s=e.span||pi(),i=s?XE(s):Nv(o),c=s?Ge(s):mn(t,o),a=ai(c);return Rl.test(i)?{"sentry-trace":i,baggage:a}:(R.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function Nv(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return wr(t,r,n)}function wv(e,t,n){let r,o,s;const i=Math.max(n.maxWait,t),c=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function a(){return u(),r=e(),r}function u(){o!==void 0&&clearTimeout(o),s!==void 0&&clearTimeout(s),o=s=void 0}function l(){return o!==void 0||s!==void 0?a():r}function f(){return o&&clearTimeout(o),o=c(a,t),i&&s===void 0&&(s=c(a,i)),r}return f.cancel=u,f.flush=l,f}const Lv=100;function jl(e,t){const n=ne(),r=_n();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=Lv}=n.getOptions();if(s<=0)return;const c={timestamp:dn(),...e},a=o?rt(()=>o(c,t)):c;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,s))}let fc;const $v="FunctionToString",pc=new WeakMap,Mv=()=>({name:$v,setupOnce(){fc=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=SE(this),n=pc.has(ne())&&t!==void 0?t:this;return fc.apply(n,e)}}catch{}},setup(e){pc.set(e,!0)}}),xv=Mv,Dv=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],kv="EventFilters",Fv=(e={})=>{let t;return{name:kv,setup(n){const r=n.getOptions();t=dc(e,r)},processEvent(n,r,o){if(!t){const s=o.getOptions();t=dc(e,s)}return Uv(n,t)?null:n}}};function dc(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Dv],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Uv(e,t){if(e.type){if(e.type==="transaction"&&jv(e,t.ignoreTransactions))return M&&R.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${mt(e)}`),!0}else{if(Bv(e,t.ignoreErrors))return M&&R.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${mt(e)}`),!0;if(qv(e))return M&&R.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${mt(e)}`),!0;if(Gv(e,t.denyUrls))return M&&R.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${mt(e)}.
Url: ${cr(e)}`),!0;if(!Hv(e,t.allowUrls))return M&&R.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${mt(e)}.
Url: ${cr(e)}`),!0}return!1}function Bv(e,t){return t!=null&&t.length?$l(e).some(n=>pn(n,t)):!1}function jv(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?pn(n,t):!1}function Gv(e,t){if(!(t!=null&&t.length))return!1;const n=cr(e);return n?pn(n,t):!1}function Hv(e,t){if(!(t!=null&&t.length))return!0;const n=cr(e);return n?pn(n,t):!0}function Vv(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function cr(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(s=>{var i,c,a;return((i=s.mechanism)==null?void 0:i.parent_id)===void 0&&((a=(c=s.stacktrace)==null?void 0:c.frames)==null?void 0:a.length)}),o=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return o?Vv(o):null}catch{return M&&R.error(`Cannot extract url for event ${mt(e)}`),null}}function qv(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function Xv(e,t,n,r,o,s){var c;if(!((c=o.exception)!=null&&c.values)||!s||!ot(s.originalException,Error))return;const i=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;i&&(o.exception.values=us(e,t,r,s.originalException,n,o.exception.values,i,0))}function us(e,t,n,r,o,s,i,c){if(s.length>=n+1)return s;let a=[...s];if(ot(r[o],Error)){hc(i,c);const u=e(t,r[o]),l=a.length;_c(u,o,l,c),a=us(e,t,n,r[o],o,[u,...a],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(ot(u,Error)){hc(i,c);const f=e(t,u),p=a.length;_c(f,`errors[${l}]`,p,c),a=us(e,t,n,u,o,[f,...a],f,p)}}),a}function hc(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function _c(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const zv="cause",Yv=5,Wv="LinkedErrors",Kv=(e={})=>{const t=e.limit||Yv,n=e.key||zv;return{name:Wv,preprocessEvent(r,o,s){const i=s.getOptions();Xv(Ul,i.stackParser,n,t,r,o)}}},Jv=Kv;function Zv(e){const t="console";Js(t,e),Zs(t,Qv)}function Qv(){"console"in V&&rl.forEach(function(e){e in V.console&&EE(V.console,e,function(t){return nr[e]=t,function(...n){Qs("console",{args:n,level:e});const o=nr[e];o==null||o.apply(V.console,n)}})})}function eS(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const tS=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function nS(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=tS.exec(t);return n?n.slice(1):[]}function rS(e){const t=nS(e),n=t[0]||"";let r=t[1];return!n&&!r?".":(r&&(r=r.slice(0,r.length-1)),n+r)}const oS="Console",sS=(e={})=>{const t=new Set(e.levels||rl);return{name:oS,setup(n){Zv(({args:r,level:o})=>{ne()!==n||!t.has(o)||iS(o,r)})}}};function iS(e,t){const n={category:"console",data:{arguments:t,logger:"console"},level:eS(e),message:gc(t)};if(e==="assert")if(t[0]===!1){const r=t.slice(1);n.message=r.length>0?`Assertion failed: ${gc(r)}`:"Assertion failed",n.data.arguments=r}else return;jl(n,{input:t,level:e})}function gc(e){return"util"in V&&typeof V.util.format=="function"?V.util.format(...e):gE(e," ")}function _i(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function mc(e){return e.split(/[?#]/,1)[0]}function gi(e){const{protocol:t,host:n,path:r}=e,o=(n==null?void 0:n.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,""))||"";return`${t?`${t}://`:""}${o}${r}`}function aS(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}function cS(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.match(/^[A-Z]:/)&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&e!==void 0&&!e.includes("node_modules/")}function uS(e){const t=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return r=>{var s;const o=r.match(n);if(o){let i,c,a,u,l;if(o[1]){a=o[1];let d=a.lastIndexOf(".");if(a[d-1]==="."&&d--,d>0){i=a.slice(0,d),c=a.slice(d+1);const m=i.indexOf(".Module");m>0&&(a=a.slice(m+1),i=i.slice(0,m))}u=void 0}c&&(u=i,l=c),c==="<anonymous>"&&(l=void 0,a=void 0),a===void 0&&(l=l||il,a=u?`${u}.${l}`:l);let f=(s=o[2])!=null&&s.startsWith("file://")?o[2].slice(7):o[2];const p=o[5]==="native";return f!=null&&f.match(/\/[A-Z]:/)&&(f=f.slice(1)),!f&&o[5]&&!p&&(f=o[5]),{filename:f?decodeURI(f):void 0,module:e?e(f):void 0,function:a,lineno:Ec(o[3]),colno:Ec(o[4]),in_app:cS(f||"",p)}}if(r.match(t))return{filename:r}}}function lS(e){return[90,uS(e)]}function Ec(e){return parseInt(e||"",10)||void 0}class Gl{constructor(t){this._maxSize=t,this._cache=new Map}get size(){return this._cache.size}get(t){const n=this._cache.get(t);if(n!==void 0)return this._cache.delete(t),this._cache.set(t,n),n}set(t,n){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(t,n)}remove(t){const n=this._cache.get(t);return n&&this._cache.delete(t),n}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const t=[];return this._cache.forEach(n=>t.push(n)),t}}const ur={};function Hl(e,t,n){return n?pS(e,t,n):fS(e,t)}function fS(e,t){return Object.assign(n=>{const r=ur[e];if(r)return n&&r.setConfig(n),r;const o=t(n);return ur[e]=o,Ar({instrumentations:[o]}),o},{id:e})}function pS(e,t,n){return Object.assign(r=>{const o=n(r),s=ur[e];if(s)return s.setConfig(o),s;const i=new t(o);return ur[e]=i,Ar({instrumentations:[i]}),i},{id:e})}const dS="db.system",hS="db.statement",_S="faas.trigger",gS="http.method",mS="http.url",ES="http.target",vS="http.status_code",SS="messaging.system",yS="rpc.service",TS="rpc.grpc.status_code",RS=dS,OS=hS,AS=_S,mi=gS,$r=mS,bS=ES,Vl=vS,IS=SS,PS=yS,CS=TS,NS="service.namespace",wS=NS,Ei="http.request.method",vi="http.response.status_code",LS="http.route",$S="service.name",MS="service.version",Mr="url.full";var xS="exception",ls=function(){return ls=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ls.apply(this,arguments)},DS=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},vc=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},kS=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},FS=function(){function e(t,n,r,o,s,i,c,a,u,l){c===void 0&&(c=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Le.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=o,this.parentSpanId=i,this.kind=s,this.links=c;var f=Date.now();this._performanceStartTime=tt.now(),this._performanceOffset=f-(this._performanceStartTime+mr()),this._startTimeProvided=a!=null,this.startTime=this._getTime(a??f),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,l!=null&&this.setAttributes(l),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return n==null||this._isSpanEnded()?this:t.length===0?(x.warn("Invalid attribute key: "+t),this):xs(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(n),this):(x.warn("Invalid attribute value set for key: "+t),this)},e.prototype.setAttributes=function(t){var n,r;try{for(var o=DS(Object.entries(t)),s=o.next();!s.done;s=o.next()){var i=vc(s.value,2),c=i[0],a=i[1];this.setAttribute(c,a)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return this},e.prototype.addEvent=function(t,n,r){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return x.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&x.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Ho(n)&&(Ho(r)||(r=n),n=void 0);var o=Vt(n);return this.events.push({name:t,attributes:o,time:this._getTime(r),droppedAttributesCount:0}),this},e.prototype.addLink=function(t){return this.links.push(t),this},e.prototype.addLinks=function(t){var n;return(n=this.links).push.apply(n,kS([],vc(t),!1)),this},e.prototype.setStatus=function(t){return this._isSpanEnded()?this:(this.status=ls({},t),this.status.message!=null&&typeof t.message!="string"&&(x.warn("Dropping invalid status.message of type '"+typeof t.message+"', expected 'string'"),delete this.status.message),this)},e.prototype.updateName=function(t){return this._isSpanEnded()?this:(this.name=t,this)},e.prototype.end=function(t){if(this._isSpanEnded()){x.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(t),this._duration=du(this.startTime,this.endTime),this._duration[0]<0&&(x.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&x.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},e.prototype._getTime=function(t){if(typeof t=="number"&&t<=tt.now())return Fs(t+this._performanceOffset);if(typeof t=="number")return we(t);if(t instanceof Date)return we(t.getTime());if(Er(t))return t;if(this._startTimeProvided)return we(Date.now());var n=tt.now()-this._performanceStartTime;return Us(this.startTime,we(n))},e.prototype.isRecording=function(){return this._ended===!1},e.prototype.recordException=function(t,n){var r={};typeof t=="string"?r[Yr]=t:t&&(t.code?r[zr]=t.code.toString():t.name&&(r[zr]=t.name),t.message&&(r[Yr]=t.message),t.stack&&(r[A5]=t.stack)),r[zr]||r[Yr]?this.addEvent(xS,r,n):x.warn("Failed to record an exception "+t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&x.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(t,n){return t.length<=n?t:t.substring(0,n)},e.prototype._truncateToSize=function(t){var n=this,r=this._attributeValueLengthLimit;return r<=0?(x.warn("Attribute value limit must be positive, got "+r),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(function(o){return typeof o=="string"?n._truncateToLimitUtil(o,r):o}):t},e}(),le;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(le||(le={}));var lr=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:le.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),St=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:le.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),Co=function(){function e(t){var n,r,o,s;this._root=t.root,this._root||(yt(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new St),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new St,this._remoteParentNotSampled=(r=t.remoteParentNotSampled)!==null&&r!==void 0?r:new lr,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new St,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new lr}return e.prototype.shouldSample=function(t,n,r,o,s,i){var c=F.getSpanContext(t);return!c||!Xe(c)?this._root.shouldSample(t,n,r,o,s,i):c.isRemote?c.traceFlags&te.SAMPLED?this._remoteParentSampled.shouldSample(t,n,r,o,s,i):this._remoteParentNotSampled.shouldSample(t,n,r,o,s,i):c.traceFlags&te.SAMPLED?this._localParentSampled.shouldSample(t,n,r,o,s,i):this._localParentNotSampled.shouldSample(t,n,r,o,s,i)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),Sc=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,n){return{decision:_r(n)&&this._accumulate(n)<this._upperBound?le.RECORD_AND_SAMPLED:le.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,r=0;r<t.length/8;r++){var o=r*8,s=parseInt(t.slice(o,o+8),16);n=(n^s)>>>0}return n},e}(),US=he.AlwaysOn,dt=1;function ql(){var e=Tt();return{sampler:Xl(e),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:e.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:e.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:e.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:e.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function Xl(e){switch(e===void 0&&(e=Tt()),e.OTEL_TRACES_SAMPLER){case he.AlwaysOn:return new St;case he.AlwaysOff:return new lr;case he.ParentBasedAlwaysOn:return new Co({root:new St});case he.ParentBasedAlwaysOff:return new Co({root:new lr});case he.TraceIdRatio:return new Sc(yc(e));case he.ParentBasedTraceIdRatio:return new Co({root:new Sc(yc(e))});default:return x.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+US+'".'),new St}}function yc(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return x.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+dt+"."),dt;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(x.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+dt+"."),dt):t<0||t>1?(x.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+dt+"."),dt):t}function BS(e){var t={sampler:Xl()},n=ql(),r=Object.assign({},n,t,e);return r.generalLimits=Object.assign({},n.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,e.spanLimits||{}),r}function jS(e){var t,n,r,o,s,i,c,a,u,l,f,p,d=Object.assign({},e.spanLimits),m=au();return d.attributeCountLimit=(i=(s=(o=(n=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&n!==void 0?n:(r=e.generalLimits)===null||r===void 0?void 0:r.attributeCountLimit)!==null&&o!==void 0?o:m.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:m.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:Xt,d.attributeValueLengthLimit=(p=(f=(l=(a=(c=e.spanLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&a!==void 0?a:(u=e.generalLimits)===null||u===void 0?void 0:u.attributeValueLengthLimit)!==null&&l!==void 0?l:m.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:m.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:qt,Object.assign({},e,{spanLimits:d})}var GS=function(){function e(t,n){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=Tt();this._maxExportBatchSize=typeof(n==null?void 0:n.maxExportBatchSize)=="number"?n.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(n==null?void 0:n.maxQueueSize)=="number"?n.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(n==null?void 0:n.scheduledDelayMillis)=="number"?n.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(n==null?void 0:n.exportTimeoutMillis)=="number"?n.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new bu(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(x.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&te.SAMPLED&&this._addToBuffer(t)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},e.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&x.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(x.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},e.prototype._flushAll=function(){var t=this;return new Promise(function(n,r){for(var o=[],s=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize),i=0,c=s;i<c;i++)o.push(t._flushOneBatch());Promise.all(o).then(function(){n()}).catch(r)})},e.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(n,r){var o=setTimeout(function(){r(new Error("Timeout"))},t._exportTimeoutMillis);G.with(at(G.active()),function(){var s;t._finishedSpans.length<=t._maxExportBatchSize?(s=t._finishedSpans,t._finishedSpans=[]):s=t._finishedSpans.splice(0,t._maxExportBatchSize);for(var i=function(){return t._exporter.export(s,function(f){var p;clearTimeout(o),f.code===Qn.SUCCESS?n():r((p=f.error)!==null&&p!==void 0?p:new Error("BatchSpanProcessor: span export failed"))})},c=null,a=0,u=s.length;a<u;a++){var l=s[a];l.resource.asyncAttributesPending&&l.resource.waitForAsyncAttributes&&(c??(c=[]),c.push(l.resource.waitForAsyncAttributes()))}c===null?i():Promise.all(c).then(i,function(f){yt(f),r(f)})})})},e.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var n=function(){t._isExporting=!0,t._flushOneBatch().finally(function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(r){t._isExporting=!1,yt(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return n();this._timer===void 0&&(this._timer=setTimeout(function(){return n()},this._scheduledDelayMillis),fu(this._timer))}},e.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},e}(),HS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),VS=function(e){HS(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onShutdown=function(){},t}(GS),qS=8,zl=16,XS=function(){function e(){this.generateTraceId=Tc(zl),this.generateSpanId=Tc(qS)}return e}(),Fn=Buffer.allocUnsafe(zl);function Tc(e){return function(){for(var n=0;n<e/4;n++)Fn.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,n*4);for(var n=0;n<e&&!(Fn[n]>0);n++)n===e-1&&(Fn[e-1]=1);return Fn.toString("hex",0,e)}}var zS=function(){function e(t,n,r){this._tracerProvider=r;var o=BS(n);this._sampler=o.sampler,this._generalLimits=o.generalLimits,this._spanLimits=o.spanLimits,this._idGenerator=n.idGenerator||new XS,this.resource=r.resource,this.instrumentationLibrary=t}return e.prototype.startSpan=function(t,n,r){var o,s,i;n===void 0&&(n={}),r===void 0&&(r=G.active()),n.root&&(r=F.deleteSpan(r));var c=F.getSpan(r);if(It(r)){x.debug("Instrumentation suppressed, returning Noop Span");var a=F.wrapSpanContext(As);return a}var u=c==null?void 0:c.spanContext(),l=this._idGenerator.generateSpanId(),f,p,d;!u||!F.isSpanContextValid(u)?f=this._idGenerator.generateTraceId():(f=u.traceId,p=u.traceState,d=u.spanId);var m=(o=n.kind)!==null&&o!==void 0?o:fe.INTERNAL,_=((s=n.links)!==null&&s!==void 0?s:[]).map(function(j){return{context:j.context,attributes:Vt(j.attributes)}}),v=Vt(n.attributes),h=this._sampler.shouldSample(r,f,t,m,v,_);p=(i=h.traceState)!==null&&i!==void 0?i:p;var S=h.decision===Me.RECORD_AND_SAMPLED?te.SAMPLED:te.NONE,g={traceId:f,spanId:l,traceFlags:S,traceState:p};if(h.decision===Me.NOT_RECORD){x.debug("Recording is off, propagating context in a non-recording span");var a=F.wrapSpanContext(g);return a}var y=Vt(Object.assign(v,h.attributes)),E=new FS(this,r,t,g,m,d,_,n.startTime,void 0,y);return E},e.prototype.startActiveSpan=function(t,n,r,o){var s,i,c;if(!(arguments.length<2)){arguments.length===2?c=n:arguments.length===3?(s=n,c=r):(s=n,i=r,c=o);var a=i??G.active(),u=this.startSpan(t,s,a),l=F.setSpan(a,u);return G.with(l,c,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}();function YS(){return"unknown_service:"+process.argv0}var Fe=function(){return Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Fe.apply(this,arguments)},WS=function(e,t,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function c(l){try{u(r.next(l))}catch(f){i(f)}}function a(l){try{u(r.throw(l))}catch(f){i(f)}}function u(l){l.done?s(l.value):o(l.value).then(c,a)}u((r=r.apply(e,t||[])).next())})},KS=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,i;return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(u){return function(l){return a([u,l])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],o=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},JS=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},fs=function(){function e(t,n){var r=this,o;this._attributes=t,this.asyncAttributesPending=n!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=n==null?void 0:n.then(function(s){return r._attributes=Object.assign({},r._attributes,s),r.asyncAttributesPending=!1,s},function(s){return x.debug("a resource's async attributes promise rejected: %s",s),r.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e((t={},t[L5]=YS(),t[jo]=Hn[jo],t[Bo]=Hn[Bo],t[Go]=Hn[Go],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&x.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return WS(this,void 0,void 0,function(){return KS(this,function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.merge=function(t){var n=this,r;if(!t)return this;var o=Fe(Fe({},this._syncAttributes),(r=t._syncAttributes)!==null&&r!==void 0?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var s=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(i){var c,a=JS(i,2),u=a[0],l=a[1];return Fe(Fe(Fe(Fe({},n._syncAttributes),u),(c=t._syncAttributes)!==null&&c!==void 0?c:t.attributes),l)});return new e(o,s)},e.EMPTY=new e({}),e}(),Un=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rc=function(){function e(t){this._spanProcessors=t}return e.prototype.forceFlush=function(){var t,n,r=[];try{for(var o=Un(this._spanProcessors),s=o.next();!s.done;s=o.next()){var i=s.value;r.push(i.forceFlush())}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return new Promise(function(c){Promise.all(r).then(function(){c()}).catch(function(a){yt(a||new Error("MultiSpanProcessor: forceFlush failed")),c()})})},e.prototype.onStart=function(t,n){var r,o;try{for(var s=Un(this._spanProcessors),i=s.next();!i.done;i=s.next()){var c=i.value;c.onStart(t,n)}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(t){var n,r;try{for(var o=Un(this._spanProcessors),s=o.next();!s.done;s=o.next()){var i=s.value;i.onEnd(t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.shutdown=function(){var t,n,r=[];try{for(var o=Un(this._spanProcessors),s=o.next();!s.done;s=o.next()){var i=s.value;r.push(i.shutdown())}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return new Promise(function(c,a){Promise.all(r).then(function(){c()},a)})},e}(),ZS=function(){function e(){}return e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}(),QS=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],i;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(c){i={error:c}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s},ey=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},Ze;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(Ze||(Ze={}));var ty=function(){function e(t){t===void 0&&(t={});var n,r;this._registeredSpanProcessors=[],this._tracers=new Map;var o=yu({},ql(),jS(t));if(this.resource=(n=o.resource)!==null&&n!==void 0?n:fs.empty(),o.mergeResourceWithDefaults&&(this.resource=fs.default().merge(this.resource)),this._config=Object.assign({},o,{resource:this.resource}),!((r=t.spanProcessors)===null||r===void 0)&&r.length)this._registeredSpanProcessors=ey([],QS(t.spanProcessors),!1),this.activeSpanProcessor=new Rc(this._registeredSpanProcessors);else{var s=this._buildExporterFromEnv();if(s!==void 0){var i=new VS(s);this.activeSpanProcessor=i}else this.activeSpanProcessor=new ZS}}return e.prototype.getTracer=function(t,n,r){var o=t+"@"+(n||"")+":"+((r==null?void 0:r.schemaUrl)||"");return this._tracers.has(o)||this._tracers.set(o,new zS({name:t,version:n,schemaUrl:r==null?void 0:r.schemaUrl},this._config,this)),this._tracers.get(o)},e.prototype.addSpanProcessor=function(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(n){return x.error("Error while trying to shutdown current span processor",n)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new Rc(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(t){t===void 0&&(t={}),F.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&G.setGlobalContextManager(t.contextManager),t.propagator&&Re.setGlobalPropagator(t.propagator)},e.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map(function(r){return new Promise(function(o){var s,i=setTimeout(function(){o(new Error("Span processor did not completed within timeout period of "+t+" ms")),s=Ze.timeout},t);r.forceFlush().then(function(){clearTimeout(i),s!==Ze.timeout&&(s=Ze.resolved,o(s))}).catch(function(c){clearTimeout(i),s=Ze.error,o(c)})})});return new Promise(function(r,o){Promise.all(n).then(function(s){var i=s.filter(function(c){return c!==Ze.resolved});i.length>0?o(i):r()}).catch(function(s){return o([s])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(t){var n;return(n=this.constructor._registeredPropagators.get(t))===null||n===void 0?void 0:n()},e.prototype._getSpanExporter=function(t){var n;return(n=this.constructor._registeredExporters.get(t))===null||n===void 0?void 0:n()},e.prototype._buildPropagatorFromEnv=function(){var t=this,n=Array.from(new Set(Tt().OTEL_PROPAGATORS)),r=n.map(function(s){var i=t._getPropagator(s);return i||x.warn('Propagator "'+s+'" requested through environment variable is unavailable.'),i}),o=r.reduce(function(s,i){return i&&s.push(i),s},[]);if(o.length!==0)return n.length===1?o[0]:new hu({propagators:o})},e.prototype._buildExporterFromEnv=function(){var t=Tt().OTEL_TRACES_EXPORTER;if(!(t==="none"||t==="")){var n=this._getSpanExporter(t);return n||x.error('Exporter "'+t+'" requested through environment variable is unavailable.'),n}},e._registeredPropagators=new Map([["tracecontext",function(){return new gu}],["baggage",function(){return new Ms}]]),e._registeredExporters=new Map,e}();const Si="sentry.parentIsRemote",ny="sentry.graphql.operation";function yi(e){var t;if("parentSpanId"in e)return e.parentSpanId;if("parentSpanContext"in e)return(t=e.parentSpanContext)==null?void 0:t.spanId}function Ti(e){const t=e;return!!t.attributes&&typeof t.attributes=="object"}function ry(e){return typeof e.kind=="number"}function oy(e){return!!e.status}function sy(e){return!!e.name}function iy(e){if(!Ti(e))return{};const t=e.attributes[Mr]||e.attributes[$r],n={url:t,"http.method":e.attributes[Ei]||e.attributes[mi]};!n["http.method"]&&n.url&&(n["http.method"]="GET");try{if(typeof t=="string"){const r=_i(t);n.url=gi(r),r.search&&(n["http.query"]=r.search),r.hash&&(n["http.fragment"]=r.hash)}}catch{}return n}function ay(e){return ry(e)?e.kind:fe.INTERNAL}const No="sentry-trace",ps="baggage",Ri="sentry.dsc",Oi="sentry.sampled_not_recording",Yl="sentry.url",cy="sentry.sample_rand",uy="sentry.sample_rate",Wl=De("sentry_scopes"),ds=De("sentry_fork_isolation_scope"),hs=De("sentry_fork_set_scope"),_s=De("sentry_fork_set_isolation_scope"),Kl="_scopeContext";function $t(e){return e.getValue(Wl)}function Jl(e,t){return e.setValue(Wl,t)}function ly(e,t){Ue(e,Kl,t)}function tn(e){return e[Kl]}function nn(e){const{traceFlags:t,traceState:n}=e,r=n?n.get(Oi)==="1":!1;if(t===te.SAMPLED)return!0;if(r)return!1;const o=n?n.get(Ri):void 0,s=o?Nr(o):void 0;if((s==null?void 0:s.sampled)==="true")return!0;if((s==null?void 0:s.sampled)==="false")return!1}function Zl(e,t,n){const r=t[Ei]||t[mi];if(r)return dy({attributes:t,name:e,kind:n},r);const o=t[RS],s=typeof t[je]=="string"&&t[je].startsWith("cache.");if(o&&!s)return py({attributes:t,name:e});const i=t[Be]==="custom"?"custom":"route";if(t[PS])return{...zt(e,t,"route"),op:"rpc"};if(t[IS])return{...zt(e,t,i),op:"message"};const u=t[AS];return u?{...zt(e,t,i),op:u.toString()}:{op:void 0,description:e,source:"custom"}}function fy(e){const t=Ti(e)?e.attributes:{},n=sy(e)?e.name:"<unknown>",r=ay(e);return Zl(n,t,r)}function py({attributes:e,name:t}){const n=e[Pr];if(typeof n=="string")return{op:"db",description:n,source:e[Be]||"custom"};if(e[Be]==="custom")return{op:"db",description:t,source:"custom"};const r=e[OS];return{op:"db",description:r?r.toString():t,source:"task"}}function dy({name:e,kind:t,attributes:n},r){const o=["http"];switch(t){case fe.CLIENT:o.push("client");break;case fe.SERVER:o.push("server");break}n["sentry.http.prefetch"]&&o.push("prefetch");const{urlPath:s,url:i,query:c,fragment:a,hasRoute:u}=_y(n,t);if(!s)return{...zt(e,n),op:o.join(".")};const l=n[ny],f=`${r} ${s}`,p=l?`${f} (${hy(l)})`:f,d=u||s==="/"?"route":"url",m={};i&&(m.url=i),c&&(m["http.query"]=c),a&&(m["http.fragment"]=a);const _=t===fe.CLIENT||t===fe.SERVER,h=!`${n[Nt]||"manual"}`.startsWith("auto"),S=n[Be]==="custom",g=n[Pr],y=!S&&g==null&&(_||!h),{description:E,source:j}=y?{description:p,source:d}:zt(e,n);return{op:o.join("."),description:E,source:j,data:m}}function hy(e){if(Array.isArray(e)){const t=e.slice().sort();return t.length<=5?t.join(", "):`${t.slice(0,5).join(", ")}, +${t.length-5}`}return`${e}`}function _y(e,t){const n=e[bS],r=e[$r]||e[Mr],o=e[LS],s=typeof r=="string"?_i(r):void 0,i=s?gi(s):void 0,c=(s==null?void 0:s.search)||void 0,a=(s==null?void 0:s.hash)||void 0;return typeof o=="string"?{urlPath:o,url:i,query:c,fragment:a,hasRoute:!0}:t===fe.SERVER&&typeof n=="string"?{urlPath:mc(n),url:i,query:c,fragment:a,hasRoute:!1}:s?{urlPath:i,url:i,query:c,fragment:a,hasRoute:!1}:typeof n=="string"?{urlPath:mc(n),url:i,query:c,fragment:a,hasRoute:!1}:{urlPath:void 0,url:i,query:c,fragment:a,hasRoute:!1}}function zt(e,t,n="custom"){const r=t[Be]||n,o=t[Pr];return o&&typeof o=="string"?{description:o,source:r}:{description:e,source:r}}function gy(){return F.getActiveSpan()}const be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ql({dsc:e,sampled:t}){const n=e?ai(e):void 0,r=new vr,o=n?r.set(Ri,n):r;return t===!1?o.set(Oi,"1"):o}const my=new Set;function xr(e){my.add(e)}class Ey extends Ms{constructor(){super(),xr("SentryPropagator"),this._urlMatchesTargetsMap=new Gl(100)}inject(t,n,r){var d,m;if(It(t)){be&&R.log("[Tracing] Not injecting trace data for url because tracing is suppressed.");return}const o=F.getSpan(t),s=o&&yy(o),i=(m=(d=ne())==null?void 0:d.getOptions())==null?void 0:m.tracePropagationTargets;if(!ef(s,i,this._urlMatchesTargetsMap)){be&&R.log("[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:",s);return}const c=Sy(n);let a=Re.getBaggage(t)||Re.createBaggage({});const{dynamicSamplingContext:u,traceId:l,spanId:f,sampled:p}=tf(t);if(c){const _=ar(c);_&&Object.entries(_).forEach(([v,h])=>{a=a.setEntry(v,{value:h})})}u&&(a=Object.entries(u).reduce((_,[v,h])=>h?_.setEntry(`${ii}${v}`,{value:h}):_,a)),l&&l!==hr&&r.set(n,No,wr(l,f,p)),super.inject(Re.setBaggage(t,a),n,r)}extract(t,n,r){const o=r.get(n,No),s=r.get(n,ps),i=o?Array.isArray(o)?o[0]:o:void 0;return rf(nf(t,{sentryTrace:i,baggage:s}))}fields(){return[No,ps]}}const Oc="[Tracing] Not injecting trace data for url because it does not match tracePropagationTargets:";function ef(e,t,n){if(typeof e!="string"||!t)return!0;const r=n==null?void 0:n.get(e);if(r!==void 0)return be&&!r&&R.log(Oc,e),r;const o=pn(e,t);return n==null||n.set(e,o),be&&!o&&R.log(Oc,e),o}function tf(e,t={}){var c;const n=F.getSpan(e);if(n!=null&&n.spanContext().isRemote){const a=n.spanContext();return{dynamicSamplingContext:Ge(n),traceId:a.traceId,spanId:void 0,sampled:nn(a)}}if(n){const a=n.spanContext();return{dynamicSamplingContext:Ge(n),traceId:a.traceId,spanId:a.spanId,sampled:nn(a)}}const r=t.scope||((c=$t(e))==null?void 0:c.scope)||Se(),o=t.client||ne(),s=r.getPropagationContext();return{dynamicSamplingContext:o?mn(o,r):void 0,traceId:s.traceId,spanId:s.propagationSpanId,sampled:s.sampled}}function nf(e,{sentryTrace:t,baggage:n}){const r=VE(t,n),{traceId:o,parentSpanId:s,sampled:i,dsc:c}=r;if(!s)return e;const a=Ty({traceId:o,spanId:s,sampled:i,dsc:c});return F.setSpanContext(e,a)}function vy(e,t,n){const r=rf(nf(e,t));return G.with(r,n)}function rf(e){const t=$t(e),n={scope:t?t.scope:Se().clone(),isolationScope:t?t.isolationScope:_n()};return Jl(e,n)}function Sy(e){try{const t=e[ps];return Array.isArray(t)?t.join(","):t}catch{return}}function yy(e){var o;const t=xe(e).data,n=t[$r]||t[Mr];if(typeof n=="string")return n;const r=(o=e.spanContext().traceState)==null?void 0:o.get(Yl);if(r)return r}function Ty({spanId:e,traceId:t,sampled:n,dsc:r}){const o=Ql({dsc:r,sampled:n});return{traceId:t,spanId:e,isRemote:!0,traceFlags:n?te.SAMPLED:te.NONE,traceState:o}}function Ry(e,t){const n=Ai(),{name:r,parentSpan:o}=e;return Pi(o)(()=>{const i=Ii(e.scope,e.forceTransaction),a=e.onlyIfParent&&!F.getSpan(i)?at(i):i,u=bi(e);return n.startActiveSpan(r,u,a,l=>Nl(()=>t(l),()=>{xe(l).status===void 0&&l.setStatus({code:Le.ERROR})},()=>l.end()))})}function Oy(e,t){const n=Ai(),{name:r,parentSpan:o}=e;return Pi(o)(()=>{const i=Ii(e.scope,e.forceTransaction),a=e.onlyIfParent&&!F.getSpan(i)?at(i):i,u=bi(e);return n.startActiveSpan(r,u,a,l=>Nl(()=>t(l,()=>l.end()),()=>{xe(l).status===void 0&&l.setStatus({code:Le.ERROR})}))})}function Ay(e){const t=Ai(),{name:n,parentSpan:r}=e;return Pi(r)(()=>{const s=Ii(e.scope,e.forceTransaction),c=e.onlyIfParent&&!F.getSpan(s)?at(s):s,a=bi(e);return t.startSpan(n,a,c)})}function of(e,t){const n=e?F.setSpan(G.active(),e):F.deleteSpan(G.active());return G.with(n,()=>t(Se()))}function Ai(){const e=ne();return(e==null?void 0:e.tracer)||F.getTracer("@sentry/opentelemetry",ge)}function bi(e){const{startTime:t,attributes:n,kind:r,op:o,links:s}=e,i=typeof t=="number"?by(t):t;return{attributes:o?{[je]:o,...n}:n,kind:r,links:s,startTime:i}}function by(e){return e<9999999999?e*1e3:e}function Ii(e,t){const n=Iy(e),r=F.getSpan(n);if(!r||!t)return n;const o=F.deleteSpan(n),{spanId:s,traceId:i}=r.spanContext(),c=nn(r.spanContext()),a=wt(r),u=Ge(a),l=Ql({dsc:u,sampled:c}),f={traceId:i,spanId:s,isRemote:!0,traceFlags:c?te.SAMPLED:te.NONE,traceState:l};return F.setSpanContext(o,f)}function Iy(e){if(e){const t=tn(e);if(t)return t}return G.active()}function Py(e,t){return vy(G.active(),e,t)}function Cy(e,t){const n=tn(t),r=n&&F.getSpan(n),o=r?ci(r):si(t);return[r?Ge(r):mn(e,t),o]}function Pi(e){return e!==void 0?t=>of(e,t):t=>t()}function Ny(e){const t=at(G.active());return G.with(t,e)}function wy({span:e,scope:t,client:n}={}){let r=(t&&tn(t))??G.active();if(e){const{scope:a}=Cr(e);r=a&&tn(a)||F.setSpan(G.active(),e)}const{traceId:o,spanId:s,sampled:i,dynamicSamplingContext:c}=tf(r,{scope:t,client:n});return{"sentry-trace":wr(o,s,i),baggage:ai(c)}}function Ly(){function e(){const c=G.active(),a=$t(c);return a||{scope:ri(),isolationScope:oi()}}function t(c){const a=G.active();return G.with(a,()=>c(s()))}function n(c,a){const u=tn(c)||G.active();return G.with(u.setValue(hs,c),()=>a(c))}function r(c){const a=G.active();return G.with(a.setValue(ds,!0),()=>c(i()))}function o(c,a){const u=G.active();return G.with(u.setValue(_s,c),()=>a(i()))}function s(){return e().scope}function i(){return e().isolationScope}$E({withScope:t,withSetScope:n,withSetIsolationScope:o,withIsolationScope:r,getCurrentScope:s,getIsolationScope:i,startSpan:Ry,startSpanManual:Oy,startInactiveSpan:Ay,getActiveSpan:gy,suppressTracing:Ny,getTraceData:wy,continueTrace:Py,withActiveSpan:of})}function $y(e){class t extends e{constructor(...r){super(...r),xr("SentryContextManager")}with(r,o,s,...i){const c=$t(r),a=(c==null?void 0:c.scope)||Se(),u=(c==null?void 0:c.isolationScope)||_n(),l=r.getValue(ds)===!0,f=r.getValue(hs),p=r.getValue(_s),d=f||a.clone(),m=p||(l?u.clone():u),h=Jl(r,{scope:d,isolationScope:m}).deleteValue(ds).deleteValue(hs).deleteValue(_s);return ly(d,h),super.with(h,o,s,...i)}}return t}function My(e){const t=new Map;for(const n of e)xy(t,n);return Array.from(t,function([n,r]){return r})}function sf(e){return e.attributes[Si]===!0?void 0:yi(e)}function xy(e,t){const n=t.spanContext().spanId,r=sf(t);if(!r){gs(e,{id:n,span:t,children:[]});return}const o=Dy(e,r),s=gs(e,{id:n,span:t,parentNode:o,children:[]});o.children.push(s)}function Dy(e,t){const n=e.get(t);return n||gs(e,{id:t,children:[]})}function gs(e,t){const n=e.get(t.id);return n!=null&&n.span?n:n&&!n.span?(n.span=t.span,n.parentNode=t.parentNode,n):(e.set(t.id,t),t)}const af={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"},ky=e=>Object.values(af).includes(e);function cf(e){const t=Ti(e)?e.attributes:{},n=oy(e)?e.status:void 0;if(n){if(n.code===Le.OK)return{code:ir};if(n.code===Le.ERROR){if(typeof n.message>"u"){const o=Ac(t);if(o)return o}return n.message&&ky(n.message)?{code:ee,message:n.message}:{code:ee,message:"unknown_error"}}}const r=Ac(t);return r||((n==null?void 0:n.code)===Le.UNSET?{code:ir}:{code:ee,message:"unknown_error"})}function Ac(e){const t=e[vi]||e[Vl],n=e[CS],r=typeof t=="number"?t:typeof t=="string"?parseInt(t):void 0;if(typeof r=="number")return UE(r);if(typeof n=="string")return{code:ee,message:af[n]||"unknown_error"}}const bc=1e3,Ic=300;class Fy{constructor(t){this._finishedSpanBucketSize=(t==null?void 0:t.timeout)||Ic,this._finishedSpanBuckets=new Array(this._finishedSpanBucketSize).fill(void 0),this._lastCleanupTimestampInS=Math.floor(Date.now()/1e3),this._spansToBucketEntry=new WeakMap,this._sentSpans=new Map,this._debouncedFlush=wv(this.flush.bind(this),1,{maxWait:100})}export(t){const n=Math.floor(Date.now()/1e3);if(this._lastCleanupTimestampInS!==n){let i=0;this._finishedSpanBuckets.forEach((c,a)=>{c&&c.timestampInS<=n-this._finishedSpanBucketSize&&(i+=c.spans.size,this._finishedSpanBuckets[a]=void 0)}),i>0&&be&&R.log(`SpanExporter dropped ${i} spans because they were pending for more than ${this._finishedSpanBucketSize} seconds.`),this._lastCleanupTimestampInS=n}const r=n%this._finishedSpanBucketSize,o=this._finishedSpanBuckets[r]||{timestampInS:n,spans:new Set};this._finishedSpanBuckets[r]=o,o.spans.add(t),this._spansToBucketEntry.set(t,o);const s=sf(t);(!s||this._sentSpans.has(s))&&this._debouncedFlush()}flush(){const t=this._finishedSpanBuckets.flatMap(i=>i?Array.from(i.spans):[]);this._flushSentSpanCache();const n=this._maybeSend(t),r=n.size,o=t.length-r;be&&R.log(`SpanExporter exported ${r} spans, ${o} spans are waiting for their parent spans to finish`);const s=Date.now()+Ic*1e3;for(const i of n){this._sentSpans.set(i.spanContext().spanId,s);const c=this._spansToBucketEntry.get(i);c&&c.spans.delete(i)}this._debouncedFlush.cancel()}clear(){this._finishedSpanBuckets=this._finishedSpanBuckets.fill(void 0),this._sentSpans.clear(),this._debouncedFlush.cancel()}_maybeSend(t){var s,i;const n=My(t),r=new Set,o=this._getCompletedRootNodes(n);for(const c of o){const a=c.span;r.add(a);const u=By(a);if(c.parentNode&&this._sentSpans.has(c.parentNode.id)){const p=(i=(s=u.contexts)==null?void 0:s.trace)==null?void 0:i.data;p&&(p["sentry.parent_span_already_sent"]=!0)}const l=u.spans||[];for(const p of c.children)ms(p,l,r);u.spans=l.length>bc?l.sort((p,d)=>p.start_timestamp-d.start_timestamp).slice(0,bc):l;const f=Cl(a.events);f&&(u.measurements=f),H1(u)}return r}_flushSentSpanCache(){const t=Date.now();for(const[n,r]of this._sentSpans.entries())r<=t&&this._sentSpans.delete(n)}_nodeIsCompletedRootNodeOrHasSentParent(t){return!!t.span&&(!t.parentNode||this._sentSpans.has(t.parentNode.id))}_getCompletedRootNodes(t){return t.filter(n=>this._nodeIsCompletedRootNodeOrHasSentParent(n))}}function Uy(e){const t=e.attributes,n=t[Nt],r=t[je],o=t[Be];return{origin:n,op:r,source:o}}function By(e){const{op:t,description:n,data:r,origin:o="manual",source:s}=uf(e),i=Cr(e),c=e.attributes[en],a={[Be]:s,[en]:c,[je]:t,[Nt]:o,...r,...lf(e.attributes)},{links:u}=e,{traceId:l,spanId:f}=e.spanContext(),p=yi(e),d=cf(e),m={parent_span_id:p,span_id:f,trace_id:l,data:a,origin:o,op:t,status:fi(d),links:ui(u)},_=a[vi],v=typeof _=="number"?{response:{status_code:_}}:void 0;return{contexts:{trace:m,otel:{resource:e.resource.attributes},...v},spans:[],start_timestamp:At(e.startTime),timestamp:At(e.endTime),transaction:n,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:i.scope,capturedSpanIsolationScope:i.isolationScope,sampleRate:c,dynamicSamplingContext:Ge(e)},...s&&{transaction_info:{source:s}}}}function ms(e,t,n){const r=e.span;if(r&&n.add(r),!r){e.children.forEach(g=>{ms(g,t,n)});return}const s=r.spanContext().spanId,i=r.spanContext().traceId,c=yi(r),{attributes:a,startTime:u,endTime:l,links:f}=r,{op:p,description:d,data:m,origin:_="manual"}=uf(r),v={[Nt]:_,[je]:p,...lf(a),...m},h=cf(r),S={span_id:s,trace_id:i,data:v,description:d,parent_span_id:c,start_timestamp:At(u),timestamp:At(l)||void 0,status:fi(h),op:p,origin:_,measurements:Cl(r.events),links:ui(f)};t.push(S),e.children.forEach(g=>{ms(g,t,n)})}function uf(e){const{op:t,source:n,origin:r}=Uy(e),{op:o,description:s,source:i,data:c}=fy(e),a=t||o,u=n||i,l={...c,...jy(e)};return{op:a,description:s,source:u,origin:r,data:l}}function lf(e){const t={...e};return delete t[en],delete t[Si],delete t[Pr],t}function jy(e){const t=e.attributes,n={};e.kind!==fe.INTERNAL&&(n["otel.kind"]=fe[e.kind]);const r=t[Vl];r&&(n[vi]=r);const o=iy(e);return o.url&&(n.url=o.url),o["http.query"]&&(n["http.query"]=o["http.query"].slice(1)),o["http.fragment"]&&(n["http.fragment"]=o["http.fragment"].slice(1)),n}function Gy(e,t){const n=F.getSpan(t);let r=$t(t);n&&!n.spanContext().isRemote&&WE(n,e),n!=null&&n.spanContext().isRemote&&e.setAttribute(Si,!0),t===Ts&&(r={scope:ri(),isolationScope:oi()}),r&&BE(e,r.scope,r.isolationScope),v1(e);const o=ne();o==null||o.emit("spanStart",e)}function Hy(e){S1(e);const t=ne();t==null||t.emit("spanEnd",e)}class Vy{constructor(t){xr("SentrySpanProcessor"),this._exporter=new Fy(t)}async forceFlush(){this._exporter.flush()}async shutdown(){this._exporter.clear()}onStart(t,n){Gy(t,n)}onEnd(t){Hy(t),this._exporter.export(t)}}class qy{constructor(t){this._client=t,xr("SentrySampler")}shouldSample(t,n,r,o,s,i){const c=this._client.getOptions(),a=Yy(t),u=a==null?void 0:a.spanContext();if(!Lr(c))return ht({decision:void 0,context:t,spanAttributes:s});const l=s[mi]||s[Ei];if(o===fe.CLIENT&&l&&(!a||u!=null&&u.isRemote))return ht({decision:void 0,context:t,spanAttributes:s});const f=a?Xy(a,n,r):void 0;if(!(!a||(u==null?void 0:u.isRemote)))return ht({decision:f?le.RECORD_AND_SAMPLED:le.NOT_RECORD,context:t,spanAttributes:s});const{description:d,data:m,op:_}=Zl(r,s,o),v={...m,...s};_&&(v[je]=_);const h={decision:!0};if(this._client.emit("beforeSampling",{spanAttributes:v,spanName:d,parentSampled:f,parentContext:u},h),!h.decision)return ht({decision:void 0,context:t,spanAttributes:s});const{isolationScope:S}=$t(t)??{},g=u!=null&&u.traceState?u.traceState.get(Ri):void 0,y=g?Nr(g):void 0,E=Ot(y==null?void 0:y.sample_rand)??Math.random(),[j,H,ce]=T1(c,{name:d,attributes:v,normalizedRequest:S==null?void 0:S.getScopeData().sdkProcessingMetadata.normalizedRequest,parentSampled:f,parentSampleRate:Ot(y==null?void 0:y.sample_rate)},E),Q=`${l}`.toUpperCase();return Q==="OPTIONS"||Q==="HEAD"?(be&&R.log(`[Tracing] Not sampling span because HTTP method is '${Q}' for ${r}`),ht({decision:le.NOT_RECORD,context:t,spanAttributes:s,sampleRand:E,downstreamTraceSampleRate:0})):(!j&&f===void 0&&(be&&R.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),this._client.recordDroppedEvent("sample_rate","transaction")),{...ht({decision:j?le.RECORD_AND_SAMPLED:le.NOT_RECORD,context:t,spanAttributes:s,sampleRand:E,downstreamTraceSampleRate:ce?H:void 0}),attributes:{[en]:ce?H:void 0}})}toString(){return"SentrySampler"}}function Xy(e,t,n){const r=e.spanContext();if(Xe(r)&&r.traceId===t){if(r.isRemote){const s=nn(e.spanContext());return be&&R.log(`[Tracing] Inheriting remote parent's sampled decision for ${n}: ${s}`),s}const o=nn(r);return be&&R.log(`[Tracing] Inheriting parent's sampled decision for ${n}: ${o}`),o}}function ht({decision:e,context:t,spanAttributes:n,sampleRand:r,downstreamTraceSampleRate:o}){let s=zy(t,n);return o!==void 0&&(s=s.set(uy,`${o}`)),r!==void 0&&(s=s.set(cy,`${r}`)),e==null?{decision:le.NOT_RECORD,traceState:s}:e===le.NOT_RECORD?{decision:e,traceState:s.set(Oi,"1")}:{decision:e,traceState:s}}function zy(e,t){const n=F.getSpan(e),r=n==null?void 0:n.spanContext();let o=(r==null?void 0:r.traceState)||new vr;const s=t[$r]||t[Mr];return s&&typeof s=="string"&&(o=o.set(Yl,s)),o}function Yy(e){const t=F.getSpan(e);return t&&Xe(t.spanContext())?t:void 0}const Yt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Pc(e,t){if(!e)return t;const n=ar(e),r=ar(t);if(!r)return e;const o={...n};return Object.entries(r).forEach(([s,i])=>{o[s]||(o[s]=i)}),Tl(o)}const ff=AE(process.versions.node),Cc=ff.major,Wy=ff.minor,Bn="sentry-trace",wo="baggage",Nc=/baggage: (.*)\r\n/;class Ky extends nl{constructor(t={}){super("@sentry/instrumentation-node-fetch",ge,t),this._channelSubs=[],this._propagationDecisionMap=new Gl(100),this._ignoreOutgoingRequestsMap=new WeakMap}init(){}disable(){super.disable(),this._channelSubs.forEach(t=>t.unsubscribe()),this._channelSubs=[]}enable(){super.enable(),this._channelSubs=this._channelSubs||[],!(this._channelSubs.length>0)&&(this._subscribeToChannel("undici:request:create",this._onRequestCreated.bind(this)),this._subscribeToChannel("undici:request:headers",this._onResponseHeaders.bind(this)))}_onRequestCreated({request:t}){var l,f;if(!(this.getConfig().enabled!==!1))return;const o=this._shouldIgnoreOutgoingRequest(t);if(this._ignoreOutgoingRequestsMap.set(t,o),o)return;const s=Es(t.origin,t.path),i=(l=ne())==null?void 0:l.getOptions().tracePropagationTargets,c=ef(s,i,this._propagationDecisionMap)?Cv():void 0;if(!c)return;const{"sentry-trace":a,baggage:u}=c;if(Array.isArray(t.headers)){const p=t.headers;a&&!p.includes(Bn)&&p.push(Bn,a);const d=p.findIndex(m=>m===wo);if(u&&d===-1)p.push(wo,u);else if(u){const m=p[d+1],_=Pc(m,u);_&&(p[d+1]=_)}}else{const p=t.headers;a&&!p.includes(`${Bn}:`)&&(t.headers+=`${Bn}: ${a}\r
`);const d=(f=t.headers.match(Nc))==null?void 0:f[1];if(u&&!d)t.headers+=`${wo}: ${u}\r
`;else if(u){const m=Pc(d,u);m&&(t.headers=t.headers.replace(Nc,`baggage: ${m}\r
`))}}}_onResponseHeaders({request:t,response:n}){const r=this.getConfig();if(!(r.enabled!==!1))return;const s=r.breadcrumbs,i=typeof s>"u"?!0:s,c=this._ignoreOutgoingRequestsMap.get(t);i&&!c&&Jy(t,n)}_subscribeToChannel(t,n){var s;const r=Cc>18||Cc===18&&Wy>=19;let o;if(r)(s=We.subscribe)==null||s.call(We,t,n),o=()=>{var i;return(i=We.unsubscribe)==null?void 0:i.call(We,t,n)};else{const i=We.channel(t);i.subscribe(n),o=()=>i.unsubscribe(n)}this._channelSubs.push({name:t,unsubscribe:o})}_shouldIgnoreOutgoingRequest(t){if(It(G.active()))return!0;const n=Es(t.origin,t.path),r=this.getConfig().ignoreOutgoingRequests;return typeof r!="function"||!n?!1:r(n)}}function Jy(e,t){const n=Zy(e),r=t.statusCode,o=aS(r);jl({category:"http",data:{status_code:r,...n},type:"http",level:o},{event:"response",request:e,response:t})}function Zy(e){try{const t=Es(e.origin,e.path),n=_i(t),r={url:gi(n),"http.method":e.method||"GET"};return n.search&&(r["http.query"]=n.search),n.hash&&(r["http.fragment"]=n.hash),r}catch{return{}}}function Es(e,t="/"){try{return new URL(t,e).toString()}catch{const n=`${e}`;return n.endsWith("/")&&t.startsWith("/")?`${n}${t.slice(1)}`:!n.endsWith("/")&&!t.startsWith("/")?`${n}/${t.slice(1)}`:`${n}${t}`}}const Qy=2e3;function vs(e){rt(()=>{console.error(e)});const t=ne();if(t===void 0){Yt&&R.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1);return}const n=t.getOptions(),r=n!=null&&n.shutdownTimeout&&n.shutdownTimeout>0?n.shutdownTimeout:Qy;t.close(r).then(o=>{o||Yt&&R.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)},o=>{Yt&&R.error(o)})}const eT="OnUncaughtException",tT=(e={})=>{const t={exitEvenIfOtherHandlersAreRegistered:!1,...e};return{name:eT,setup(n){global.process.on("uncaughtException",nT(n,t))}}};function nT(e,t){let r=!1,o=!1,s=!1,i;const c=e.getOptions();return Object.assign(a=>{let u=vs;t.onFatalError?u=t.onFatalError:c.onFatalError&&(u=c.onFatalError);const f=global.process.listeners("uncaughtException").filter(d=>d.name!=="domainUncaughtExceptionClear"&&d.tag!=="sentry_tracingErrorCallback"&&d._errorHandler!==!0).length===0,p=t.exitEvenIfOtherHandlersAreRegistered||f;r?p&&(s?(Yt&&R.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),vs(a)):o||(o=!0,setTimeout(()=>{s||(s=!0,u(i,a))},2e3))):(i=a,r=!0,ne()===e&&hi(a,{originalException:a,captureContext:{level:"fatal"},mechanism:{handled:!1,type:"onuncaughtexception"}}),!s&&p&&(s=!0,u(a)))},{_errorHandler:!0})}const rT="OnUnhandledRejection",oT=(e={})=>{const t={mode:"warn",...e};return{name:rT,setup(n){global.process.on("unhandledRejection",iT(n,t))}}},sT=oT;function iT(e,t){return function(r,o){if(ne()!==e)return;const s=t.mode==="strict"?"fatal":"error",i=r&&typeof r=="object"?r._sentry_active_span:void 0;(i?a=>R1(i,a):a=>a())(()=>{hi(r,{originalException:o,captureContext:{extra:{unhandledPromiseRejection:!0},level:s},mechanism:{handled:!1,type:"onunhandledrejection"}})}),aT(r,t.mode)}}function aT(e,t){const n="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";t==="warn"?rt(()=>{console.warn(n),console.error(e&&typeof e=="object"&&"stack"in e?e.stack:e)}):t==="strict"&&(rt(()=>{console.warn(n)}),vs(e))}var pf={},Dr={},En={};Object.defineProperty(En,"__esModule",{value:!0});En.AbstractAsyncHooksContextManager=void 0;const cT=Tf,uT=["addListener","on","once","prependListener","prependOnceListener"];class lT{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(t,n){return n instanceof cT.EventEmitter?this._bindEventEmitter(t,n):typeof n=="function"?this._bindFunction(t,n):n}_bindFunction(t,n){const r=this,o=function(...s){return r.with(t,()=>n.apply(this,s))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:n.length}),o}_bindEventEmitter(t,n){return this._getPatchMap(n)!==void 0||(this._createPatchMap(n),uT.forEach(o=>{n[o]!==void 0&&(n[o]=this._patchAddListener(n,n[o],t))}),typeof n.removeListener=="function"&&(n.removeListener=this._patchRemoveListener(n,n.removeListener)),typeof n.off=="function"&&(n.off=this._patchRemoveListener(n,n.off)),typeof n.removeAllListeners=="function"&&(n.removeAllListeners=this._patchRemoveAllListeners(n,n.removeAllListeners))),n}_patchRemoveListener(t,n){const r=this;return function(o,s){var i;const c=(i=r._getPatchMap(t))===null||i===void 0?void 0:i[o];if(c===void 0)return n.call(this,o,s);const a=c.get(s);return n.call(this,o,a||s)}}_patchRemoveAllListeners(t,n){const r=this;return function(o){const s=r._getPatchMap(t);return s!==void 0&&(arguments.length===0?r._createPatchMap(t):s[o]!==void 0&&delete s[o]),n.apply(this,arguments)}}_patchAddListener(t,n,r){const o=this;return function(s,i){if(o._wrapped)return n.call(this,s,i);let c=o._getPatchMap(t);c===void 0&&(c=o._createPatchMap(t));let a=c[s];a===void 0&&(a=new WeakMap,c[s]=a);const u=o.bind(r,i);a.set(i,u),o._wrapped=!0;try{return n.call(this,s,u)}finally{o._wrapped=!1}}}_createPatchMap(t){const n=Object.create(null);return t[this._kOtListeners]=n,n}_getPatchMap(t){return t[this._kOtListeners]}}En.AbstractAsyncHooksContextManager=lT;Object.defineProperty(Dr,"__esModule",{value:!0});Dr.AsyncHooksContextManager=void 0;const fT=ws,pT=Bc,dT=En;class hT extends dT.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=pT.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var t;return(t=this._stack[this._stack.length-1])!==null&&t!==void 0?t:fT.ROOT_CONTEXT}with(t,n,r,...o){this._enterContext(t);try{return n.call(r,...o)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(t,n){if(n==="TIMERWRAP")return;const r=this._stack[this._stack.length-1];r!==void 0&&this._contexts.set(t,r)}_destroy(t){this._contexts.delete(t)}_before(t){const n=this._contexts.get(t);n!==void 0&&this._enterContext(n)}_after(){this._exitContext()}_enterContext(t){this._stack.push(t)}_exitContext(){this._stack.pop()}}Dr.AsyncHooksContextManager=hT;var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.AsyncLocalStorageContextManager=void 0;const _T=ws,gT=Bc,mT=En;class ET extends mT.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new gT.AsyncLocalStorage}active(){var t;return(t=this._asyncLocalStorage.getStore())!==null&&t!==void 0?t:_T.ROOT_CONTEXT}with(t,n,r,...o){const s=r==null?n:n.bind(r);return this._asyncLocalStorage.run(t,s,...o)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}kr.AsyncLocalStorageContextManager=ET;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncLocalStorageContextManager=e.AsyncHooksContextManager=void 0;var t=Dr;Object.defineProperty(e,"AsyncHooksContextManager",{enumerable:!0,get:function(){return t.AsyncHooksContextManager}});var n=kr;Object.defineProperty(e,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return n.AsyncLocalStorageContextManager}})})(pf);const vT=$y(pf.AsyncLocalStorageContextManager);function ST(){x.disable(),x.setLogger({error:R.error,warn:R.warn,info:R.log,debug:R.log,verbose:R.log},q.DEBUG)}function wc(e){return e.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}function yT(e=process.argv[1]?rS(process.argv[1]):process.cwd(),t=wi.sep==="\\"){const n=t?wc(e):e;return r=>{if(!r)return;const o=t?wc(r):r;let{dir:s,base:i,ext:c}=wi.posix.parse(o);(c===".js"||c===".mjs"||c===".cjs")&&(i=i.slice(0,c.length*-1));const a=decodeURIComponent(i);s||(s=".");const u=s.lastIndexOf("/node_modules");if(u>-1)return`${s.slice(u+14).replace(/\//g,".")}:${a}`;if(s.startsWith(n)){const l=s.slice(n.length+1).replace(/\//g,".");return l?`${l}:${a}`:a}return a}}const TT=6e4;class RT extends Ev{constructor(t){const n=t.includeServerName===!1?void 0:t.serverName||global.process.env.SENTRY_NAME||Af.hostname(),r={...t,platform:"node",runtime:{name:"node",version:global.process.version},serverName:n};t.openTelemetryInstrumentations&&Ar({instrumentations:t.openTelemetryInstrumentations}),Pv(r,"node"),R.log(`Initializing Sentry: process: ${process.pid}, thread: ${Mo.isMainThread?"main":`worker-${Mo.threadId}`}.`),super(r);const{enableLogs:o,_experiments:s}=this.getOptions();(o??(s==null?void 0:s.enableLogs))&&(this._logOnExitFlushListener=()=>{Kn(this)},n&&this.on("beforeCaptureLog",c=>{c.attributes={...c.attributes,"server.address":n}}),process.on("beforeExit",this._logOnExitFlushListener))}get tracer(){if(this._tracer)return this._tracer;const t="@sentry/node",n=ge,r=F.getTracer(t,n);return this._tracer=r,r}async flush(t){const n=this.traceProvider;return await(n==null?void 0:n.forceFlush()),this.getOptions().sendClientReports&&this._flushOutcomes(),super.flush(t)}close(t){return this._clientReportInterval&&clearInterval(this._clientReportInterval),this._clientReportOnExitFlushListener&&process.off("beforeExit",this._clientReportOnExitFlushListener),this._logOnExitFlushListener&&process.off("beforeExit",this._logOnExitFlushListener),super.close(t)}startClientReportTracking(){const t=this.getOptions();t.sendClientReports&&(this._clientReportOnExitFlushListener=()=>{this._flushOutcomes()},this._clientReportInterval=setInterval(()=>{Yt&&R.log("Flushing client reports based on interval."),this._flushOutcomes()},t.clientReportFlushInterval??TT).unref(),process.on("beforeExit",this._clientReportOnExitFlushListener))}_getTraceInfoFromScope(t){return t?Cy(this,t):[void 0,void 0]}}var df={},Fr={},bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.PACKAGE_NAME=bt.PACKAGE_VERSION=void 0;bt.PACKAGE_VERSION="0.10.1";bt.PACKAGE_NAME="@opentelemetry/instrumentation-undici";var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.SemanticAttributes=void 0;Ur.SemanticAttributes={HTTP_CONNECTION_STATE:"http.connection.state",ERROR_TYPE:"error.type",HTTP_REQUEST_BODY_SIZE:"http.request.body.size",HTTP_REQUEST_METHOD:"http.request.method",HTTP_REQUEST_METHOD_ORIGINAL:"http.request.method_original",HTTP_REQUEST_RESEND_COUNT:"http.request.resend_count",HTTP_RESPONSE_BODY_SIZE:"http.response.body.size",HTTP_RESPONSE_STATUS_CODE:"http.response.status_code",HTTP_ROUTE:"http.route",NETWORK_PEER_ADDRESS:"network.peer.address",NETWORK_PEER_PORT:"network.peer.port",NETWORK_PROTOCOL_NAME:"network.protocol.name",NETWORK_PROTOCOL_VERSION:"network.protocol.version",SERVER_ADDRESS:"server.address",SERVER_PORT:"server.port",URL_FULL:"url.full",URL_PATH:"url.path",URL_QUERY:"url.query",URL_SCHEME:"url.scheme",USER_AGENT_ORIGINAL:"user_agent.original"};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.UndiciInstrumentation=void 0;const jt=jc,OT=Uc,Gt=Ym,ue=ws,Lc=bt,Z=Ur,jn=$d;class AT extends Gt.InstrumentationBase{constructor(t={}){super(Lc.PACKAGE_NAME,Lc.PACKAGE_VERSION,t),this._recordFromReq=new WeakMap}init(){}disable(){super.disable(),this._channelSubs.forEach(t=>t.unsubscribe()),this._channelSubs.length=0}enable(){super.enable(),this._channelSubs=this._channelSubs||[],!(this._channelSubs.length>0)&&(this.subscribeToChannel("undici:request:create",this.onRequestCreated.bind(this)),this.subscribeToChannel("undici:client:sendHeaders",this.onRequestHeaders.bind(this)),this.subscribeToChannel("undici:request:headers",this.onResponseHeaders.bind(this)),this.subscribeToChannel("undici:request:trailers",this.onDone.bind(this)),this.subscribeToChannel("undici:request:error",this.onError.bind(this)))}_updateMetricInstruments(){this._httpClientDurationHistogram=this.meter.createHistogram("http.client.request.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"s",valueType:ue.ValueType.DOUBLE,advice:{explicitBucketBoundaries:[.005,.01,.025,.05,.075,.1,.25,.5,.75,1,2.5,5,7.5,10]}})}subscribeToChannel(t,n){var r;const[o,s]=process.version.replace("v","").split(".").map(a=>Number(a)),i=o>18||o===18&&s>=19;let c;if(i)(r=jt.subscribe)===null||r===void 0||r.call(jt,t,n),c=()=>{var a;return(a=jt.unsubscribe)===null||a===void 0?void 0:a.call(jt,t,n)};else{const a=jt.channel(t);a.subscribe(n),c=()=>a.unsubscribe(n)}this._channelSubs.push({name:t,unsubscribe:c})}onRequestCreated({request:t}){const n=this.getConfig(),r=n.enabled!==!1;if((0,Gt.safeExecuteInTheMiddle)(()=>{var E;return!r||t.method==="CONNECT"||((E=n.ignoreRequestHook)===null||E===void 0?void 0:E.call(n,t))},E=>E&&this._diag.error("caught ignoreRequestHook error: ",E),!0))return;const s=(0,jn.hrTime)();let i;try{i=new OT.URL(t.path,t.origin)}catch(E){this._diag.warn("could not determine url.full:",E);return}const c=i.protocol.replace(":",""),a=this.getRequestMethod(t.method),u={[Z.SemanticAttributes.HTTP_REQUEST_METHOD]:a,[Z.SemanticAttributes.HTTP_REQUEST_METHOD_ORIGINAL]:t.method,[Z.SemanticAttributes.URL_FULL]:i.toString(),[Z.SemanticAttributes.URL_PATH]:i.pathname,[Z.SemanticAttributes.URL_QUERY]:i.search,[Z.SemanticAttributes.URL_SCHEME]:c},l={https:"443",http:"80"},f=i.hostname,p=i.port||l[c];u[Z.SemanticAttributes.SERVER_ADDRESS]=f,p&&!isNaN(Number(p))&&(u[Z.SemanticAttributes.SERVER_PORT]=Number(p));let d;if(Array.isArray(t.headers)){const E=t.headers.findIndex(j=>j.toLowerCase()==="user-agent");E>=0&&(d=t.headers[E+1])}else if(typeof t.headers=="string"){const j=t.headers.split(`\r
`).find(H=>H.toLowerCase().startsWith("user-agent"));d=j&&j.substring(j.indexOf(":")+1).trim()}d&&(u[Z.SemanticAttributes.USER_AGENT_ORIGINAL]=d);const m=(0,Gt.safeExecuteInTheMiddle)(()=>{var E;return(E=n.startSpanHook)===null||E===void 0?void 0:E.call(n,t)},E=>E&&this._diag.error("caught startSpanHook error: ",E),!0);m&&Object.entries(m).forEach(([E,j])=>{u[E]=j});const _=ue.context.active(),v=ue.trace.getSpan(_);let h;n.requireParentforSpans&&(!v||!ue.trace.isSpanContextValid(v.spanContext()))?h=ue.trace.wrapSpanContext(ue.INVALID_SPAN_CONTEXT):h=this.tracer.startSpan(a==="_OTHER"?"HTTP":a,{kind:ue.SpanKind.CLIENT,attributes:u},_),(0,Gt.safeExecuteInTheMiddle)(()=>{var E;return(E=n.requestHook)===null||E===void 0?void 0:E.call(n,h,t)},E=>E&&this._diag.error("caught requestHook error: ",E),!0);const S=ue.trace.setSpan(ue.context.active(),h),g={};ue.propagation.inject(S,g);const y=Object.entries(g);for(let E=0;E<y.length;E++){const[j,H]=y[E];typeof t.addHeader=="function"?t.addHeader(j,H):typeof t.headers=="string"?t.headers+=`${j}: ${H}\r
`:Array.isArray(t.headers)&&t.headers.push(j,H)}this._recordFromReq.set(t,{span:h,attributes:u,startTime:s})}onRequestHeaders({request:t,socket:n}){var r;const o=this._recordFromReq.get(t);if(!o)return;const s=this.getConfig(),{span:i}=o,{remoteAddress:c,remotePort:a}=n,u={[Z.SemanticAttributes.NETWORK_PEER_ADDRESS]:c,[Z.SemanticAttributes.NETWORK_PEER_PORT]:a};if(!((r=s.headersToSpanAttributes)===null||r===void 0)&&r.requestHeaders){const l=new Set(s.headersToSpanAttributes.requestHeaders.map(p=>p.toLowerCase())),f=Array.isArray(t.headers)?t.headers:t.headers.split(`\r
`);f.forEach((p,d)=>{const m=p.indexOf(":"),_=m!==-1,v=(_?p.substring(0,m):p).toLowerCase(),h=_?p.substring(m+1):f[d+1];l.has(v)&&(u[`http.request.header.${v}`]=h.trim())})}i.setAttributes(u)}onResponseHeaders({request:t,response:n}){var r,o;const s=this._recordFromReq.get(t);if(!s)return;const{span:i,attributes:c}=s,a={[Z.SemanticAttributes.HTTP_RESPONSE_STATUS_CODE]:n.statusCode},u=this.getConfig();(0,Gt.safeExecuteInTheMiddle)(()=>{var f;return(f=u.responseHook)===null||f===void 0?void 0:f.call(u,i,{request:t,response:n})},f=>f&&this._diag.error("caught responseHook error: ",f),!0);const l=new Set;!((r=u.headersToSpanAttributes)===null||r===void 0)&&r.responseHeaders&&((o=u.headersToSpanAttributes)===null||o===void 0||o.responseHeaders.forEach(f=>l.add(f.toLowerCase())));for(let f=0;f<n.headers.length;f=f+2){const p=n.headers[f].toString().toLowerCase(),d=n.headers[f+1];if(l.has(p)&&(a[`http.response.header.${p}`]=d.toString()),p==="content-length"){const m=Number(d.toString());isNaN(m)||(a["http.response.header.content-length"]=m)}}i.setAttributes(a),i.setStatus({code:n.statusCode>=400?ue.SpanStatusCode.ERROR:ue.SpanStatusCode.UNSET}),s.attributes=Object.assign(c,a)}onDone({request:t}){const n=this._recordFromReq.get(t);if(!n)return;const{span:r,attributes:o,startTime:s}=n;r.end(),this._recordFromReq.delete(t),this.recordRequestDuration(o,s)}onError({request:t,error:n}){const r=this._recordFromReq.get(t);if(!r)return;const{span:o,attributes:s,startTime:i}=r;o.recordException(n),o.setStatus({code:ue.SpanStatusCode.ERROR,message:n.message}),o.end(),this._recordFromReq.delete(t),s[Z.SemanticAttributes.ERROR_TYPE]=n.message,this.recordRequestDuration(s,i)}recordRequestDuration(t,n){const r={};[Z.SemanticAttributes.HTTP_RESPONSE_STATUS_CODE,Z.SemanticAttributes.HTTP_REQUEST_METHOD,Z.SemanticAttributes.SERVER_ADDRESS,Z.SemanticAttributes.SERVER_PORT,Z.SemanticAttributes.URL_SCHEME,Z.SemanticAttributes.ERROR_TYPE].forEach(i=>{i in t&&(r[i]=t[i])});const s=(0,jn.hrTimeToMilliseconds)((0,jn.hrTimeDuration)(n,(0,jn.hrTime)()))/1e3;this._httpClientDurationHistogram.record(s,r)}getRequestMethod(t){const n={CONNECT:!0,OPTIONS:!0,HEAD:!0,GET:!0,POST:!0,PUT:!0,PATCH:!0,DELETE:!0,TRACE:!0};return t.toUpperCase()in n?t.toUpperCase():"_OTHER"}}Fr.UndiciInstrumentation=AT;var hf={};Object.defineProperty(hf,"__esModule",{value:!0});(function(e){var t=Tn&&Tn.__createBinding||(Object.create?function(r,o,s,i){i===void 0&&(i=s),Object.defineProperty(r,i,{enumerable:!0,get:function(){return o[s]}})}:function(r,o,s,i){i===void 0&&(i=s),r[i]=o[s]}),n=Tn&&Tn.__exportStar||function(r,o){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(Fr,e),n(hf,e)})(df);const _f="NodeFetch",bT=Hl(_f,df.UndiciInstrumentation,e=>LT(e)),IT=Hl(`${_f}.sentry`,Ky,e=>e),PT=(e={})=>({name:"NodeFetch",setupOnce(){var n;wT(e,(n=ne())==null?void 0:n.getOptions())&&bT(e),IT(e)}}),CT=PT;function NT(e,t="/"){const n=`${e}`;return n.endsWith("/")&&t.startsWith("/")?`${n}${t.slice(1)}`:!n.endsWith("/")&&!t.startsWith("/")?`${n}/${t.slice(1)}`:`${n}${t}`}function wT(e,t={}){return typeof e.spans=="boolean"?e.spans:!t.skipOpenTelemetrySetup&&Lr(t)}function LT(e={}){return{requireParentforSpans:!1,ignoreRequestHook:n=>{const r=NT(n.origin,n.path),o=e.ignoreOutgoingRequests;return!!(o&&r&&o(r))},startSpanHook:()=>({[Nt]:"auto.http.otel.node_fetch"})}}const $c=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Lo=1e6;function $T(e,t={}){e.getOptions().debug&&ST();const n=MT(e,t);e.traceProvider=n}function MT(e,t={}){const n=new ty({sampler:new qy(e),resource:new fs({[$S]:"node",[wS]:"sentry",[MS]:ge}),forceFlushTimeoutMillis:500,spanProcessors:[new Vy({timeout:xT(e.getOptions().maxSpanWaitDuration)}),...t.spanProcessors||[]]});return F.setGlobalTracerProvider(n),Re.setGlobalPropagator(new Ey),G.setGlobalContextManager(new vT),n}function xT(e){if(e!=null){if(e>Lo)return $c&&R.warn(`\`maxSpanWaitDuration\` is too high, using the maximum value of ${Lo}`),Lo;if(e<=0||Number.isNaN(e)){$c&&R.warn("`maxSpanWaitDuration` must be a positive number, using default value instead.");return}return e}}var Mc;(function(e){e[e.Classic=1]="Classic",e[e.Protocol=2]="Protocol",e[e.Both=3]="Both"})(Mc||(Mc={}));var xc;(function(e){e.RENDERER_START="sentry-electron.renderer-start",e.SCOPE="sentry-electron.scope",e.ENVELOPE="sentry-electron.envelope",e.STATUS="sentry-electron.status",e.STRUCTURED_LOG="sentry-electron.structured-log"})(xc||(xc={}));const gf="__sentry_message_port_message__";function Dc(e){return!!(e&&typeof e=="object"&&gf in e)}function DT(){return{[gf]:!0}}function kT(){let e;async function t(n){let r=0;for(;e===void 0;)if(await new Promise(o=>setTimeout(o,100)),r+=1,r>=50)throw new Error("Timeout waiting for message port to send event to main process");e.postMessage(n)}return process.parentPort.on("message",n=>{if(Dc(n.data)){const[r]=n.ports;e=r,e==null||e.start()}}),process.parentPort.on=new Proxy(process.parentPort.on,{apply:(n,r,[o,s])=>o==="message"?n.apply(r,["message",i=>{if(!Dc(i.data))return s(i)}]):n.apply(r,[o,s])}),process.parentPort.postMessage(DT()),n=>Iv(n,async r=>(await t(r.body),{statusCode:200}))}const FT=al(lS(yT()));function UT(){return[Fv(),xv(),Jv(),sS(),CT(),tT(),sT()]}function BT(e={}){const t={defaultIntegrations:UT(),transport:kT(),sendClientReports:!1,...e,stackParser:tE(e.stackParser||FT),dsn:"https://12345@dummy.dsn/12345",includeServerName:!1},n={...t,integrations:J1(t)};n.debug&&R.enable(),Ly();const r=Se();r.update(n.initialScope);const o=new RT(n);r.setClient(o),o.init(),n.skipOpenTelemetrySetup||$T(o)}const jT="Granola";function GT(e){return jT+` Helper (${e})`}function Ve(e){process.parentPort.postMessage(e)}const kc=new Int16Array(480);function HT(e){for(let t=0;t<e.length;t+=2)kc[t/2]=e[t+1]<<8|e[t];return kc}function VT(e){return e.reduce((n,r)=>n+Math.abs(r),0)/e.length}function Gn(e){return VT(HT(e))}const Fc=Buffer.from([1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,254,255,252,255,249,255,246,255,242,255,239,255,237,255,236,255,235,255,236,255,237,255,239,255,241,255,243,255,245,255,247,255,248,255,248,255,248,255,248,255,247,255,247,255,247,255,248,255,248,255,249,255,250,255,250,255,251,255,251,255,251,255,250,255,250,255,250,255,249,255,249,255,249,255,250,255,250,255,249,255,249,255,248,255,247,255,246,255,245,255,244,255,243,255,242,255,242,255,242,255,241,255,241,255,240,255,240,255,239,255,238,255,237,255,236,255,236,255,236,255,236,255,237,255,239,255,240,255,242,255,244,255,245,255,247,255,248,255,249,255,249,255,249,255,250,255,250,255,250,255,250,255,250,255,251,255,251,255,252,255,253,255,254,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,255,255,255,255,254,255,253,255,253,255,253,255,254,255,254,255,255,255,0,0,0,0,1,0,1,0,2,0,2,0,2,0,3,0,3,0,4,0,5,0,5,0,6,0,7,0,7,0,7,0,7,0,8,0,8,0,9,0,9,0,10,0,11,0,12,0,13,0,14,0,14,0,14,0,14,0,14,0,15,0,15,0,15,0,16,0,17,0,19,0,20,0,21,0,22,0,23,0,23,0,23,0,23,0,23,0,22,0,22,0,22,0,23,0,23,0,23,0,23,0,24,0,24,0,24,0,24,0,24,0,24,0,25,0,25,0,26,0,27,0,28,0,28,0,29,0,29,0,29,0,28,0,27,0,27,0,26,0,26,0,26,0,26,0,27,0,27,0,28,0,29,0,30,0,31,0,32,0,32,0,33,0,33,0,33,0,33,0,33,0,33,0,33,0,32,0,32,0,31,0,30,0,29,0,28,0,26,0,25,0,24,0,23,0,22,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,20,0,20,0,19,0,17,0,16,0,16,0,15,0,15,0,15,0,15,0,16,0,17,0,17,0,18,0,18,0,18,0,18,0,19,0,19,0,19,0,19,0,19,0,18,0,18,0,18,0,17,0,16,0,15,0,14,0,13,0,12,0,12,0,12,0,12,0,13,0,13,0,14,0,15,0,15,0,16,0,16,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,18,0,18,0,19,0,19,0,19,0,20,0,20,0,20,0,21,0,21,0,22,0,23,0,23,0,24,0,24,0,24,0,24,0,23,0,22,0,21,0,20,0,19,0,18,0,17,0,17,0,17,0,17,0,17,0,18,0,18,0,19,0,19,0,19,0,19,0,19,0,18,0,17,0,16,0,14,0,13,0,11,0,8,0,6,0,4,0,2,0,0,0,254,255,253,255,251,255,250,255,249,255,249,255,248,255,248,255,249,255,249,255,250,255,251,255,251,255,252,255,252,255,253,255,253,255,254,255,255,255,255,255,1,0,2,0,3,0,5,0,6,0,7,0,7,0,6,0,6,0,5,0,3,0,2,0,1,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,254,255,254,255,253,255,252,255,251,255,250,255,249,255,249,255,248,255,247,255,247,255,247,255,246,255,246,255,245,255,245,255,245,255,244,255,244,255,244,255,244,255,244,255,243,255,242,255,241,255,240,255,238,255,237,255,236,255,235,255,234,255,233,255,233,255,232,255,231,255,230,255,228,255,227,255,225,255,224,255,222,255,222,255,221,255,221,255,221,255,221,255,221,255,221,255,221,255,221,255,221,255,221,255,221,255,222,255,223,255,224,255,226,255,228,255,230,255,232,255,233,255,234,255,234,255,233,255,233,255,232,255,231,255,231,255,231,255,230,255,230,255,230,255,230,255,229,255,229,255,228,255,227,255,226,255,225,255,224,255,223,255,223,255,222,255,222,255,222,255,221,255,221,255,220,255,220,255,219,255,219,255,219,255,219,255,219,255,219,255,219,255,218,255,218,255,218,255,217,255,216,255,215,255,214,255,213,255,212,255,211,255,210,255,209,255,207,255,206,255,204,255,202,255,201,255,199,255,198,255,198,255,197,255,197,255,197,255,197,255,197,255,197,255,197,255,196,255,196,255,196,255,196,255,197,255,197,255,198,255,200,255,201,255,203,255,204,255,205,255,205,255,205,255,205,255,204,255,203,255,203,255,202,255,202,255,202,255,202,255,202,255,203,255,204,255,206,255,208,255,210,255,212,255,214,255,216,255,218,255,220,255,222,255,224,255,225,255,226,255,227,255,227,255,228,255,228,255,228,255,228,255,228,255,228,255,229,255,229,255,229,255,230,255,230,255,231,255,231,255,232,255,232,255,233,255,233,255,233,255,233,255,233,255,233,255,234,255,234,255,234,255,235,255,235,255,236,255,236,255,237,255,237,255,238,255,238,255,238,255,238,255,239,255,239,255,239,255,239,255,240,255,240,255,240,255,241,255,241,255,241,255,241,255,241,255,242,255,242,255,242,255,242,255,243,255,243,255,243,255,243,255,243,255,243,255,243,255,243,255,244,255,244,255,245,255,245,255,245,255,246,255,246,255,246,255,246,255,246,255,246,255,246,255,246,255,246,255,247,255,247,255,247,255,248,255,248,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,250,255,250,255,251,255,251,255,252,255,252,255,252,255,252,255,252,255,253,255,253,255,253,255,253,255,254,255,254,255,255,255,255,255,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,2,0,2,0,2,0,3,0,3,0,3,0,3,0,4,0,4,0,4,0,4,0,4,0,4,0,5,0,5,0,5,0,6,0,6,0,7,0,7,0,7,0,7,0,7,0,7,0,7,0,7,0,7,0,8,0,8,0,8,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,10,0,10,0,10,0,11,0,11,0,11,0,11,0,11,0,11,0,12,0,12,0,12,0,12,0,12,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,14,0,14,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,16,0,16,0,16,0,16,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,18,0,18,0,18,0,18,0,18,0,18,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,20,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,21,0,21,0,21,0,21,0,21,0,22,0,22,0,22,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,22,0,22,0,22,0,22,0,22,0,22,0,22,0,21,0,21,0,21,0,20,0,20,0,20,0,20,0,20,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,20,0,20,0,20,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,21,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,20,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,19,0,18,0,18,0,18,0,18,0,18,0,18,0,18,0,18,0,18,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,17,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,16,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,15,0,14,0,14,0,14,0,14,0,14,0,14,0,14,0,14,0,14,0,14,0,14,0,14,0,14,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,13,0,12,0,12,0,12,0,12,0,12,0,12,0,12,0,12,0,12,0,12,0,12,0,12,0,12,0,11,0,11,0,11,0,11,0,11,0,11,0,11,0,11,0,11,0,11,0,11,0,11,0,11,0,10,0,10,0,10,0,10,0,10,0,10,0,10,0,10,0,10,0,10,0,10,0,10,0,10,0,10,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,9,0,8,0,8,0,8,0,8,0,8,0,8,0,8,0,8,0,8,0,8,0,8,0,8,0,8,0,8,0,7,0,7,0,7,0,7,0,7,0,7,0,7,0,7,0,7,0,7,0,6,0,6,0,6,0,6,0,6,0,6,0,6,0,6,0,6,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,249,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,250,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,251,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,252,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,253,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,0,0,0,0,0,0,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,3,0,2,0,2,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,4,0,3,0,3,0,3,0,4,0,4,0,4,0,3,0,3,0,4,0,4,0,4,0,3,0,4,0,4,0,4,0,4,0,3,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,5,0,5,0,4,0,4,0,5,0,5,0,5,0,4,0,4,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,5,0,4,0,5,0,5,0,5,0,4,0,4,0,4,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,5,0,5,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,5,0,4,0,4,0,4,0,4,0,4,0,4,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,5,0,5,0,5,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,5,0,5,0,4,0,4,0,5,0,4,0,4,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,4,0,5,0,4,0,4,0,4,0,3,0,3,0,4,0,4,0,5,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,4,0,5,0,5,0,4,0,5,0,4,0,4,0,4,0,5,0,4,0,4,0,5,0,5,0,4,0,4,0,5,0,5,0,5,0,5,0,5,0,4,0,5,0,5,0,5,0,4,0,5,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,5,0,4,0,4,0,4,0,4,0,3,0,3,0,4,0,4,0,4,0,4,0,4,0,3,0,4,0,4,0,4,0,4,0,4,0,5,0,4,0,4,0,5,0,4,0,3,0,4,0,5,0,4,0,4,0,5,0,4,0,4,0,5,0,5,0,4,0,4,0,5,0,5,0,4,0,4,0,5,0,4,0,4,0,4,0,4,0,4,0,5,0,5,0,4,0,3,0,5,0,6,0,5,0,5,0,6,0,5,0,5,0,6,0,5,0,4,0,5,0,6,0,6,0,4,0,5,0,5,0,5,0,5,0,5,0,4,0,4,0,5,0,5,0,4,0,4,0,5,0,5,0,4,0,4,0,4,0,4,0,4,0,4,0,4,0,3,0,3,0,3,0,2,0,2,0,3,0,4,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,3,0,2,0,0,0,1,0,2,0,1,0,0,0,1,0,1,0,1,0,1,0,0,0,255,255,255,255,0,0,1,0,0,0,0,0,1,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,254,255,254,255,255,255,254,255,253,255,253,255,254,255,254,255,253,255,253,255,253,255,252,255,253,255,254,255,253,255,252,255,253,255,253,255,252,255,251,255,252,255,252,255,252,255,252,255,251,255,250,255,251,255,252,255,251,255,249,255,250,255,251,255,250,255,250,255,250,255,249,255,249,255,250,255,250,255,248,255,248,255,249,255,248,255,247,255,247,255,248,255,248,255,248,255,248,255,248,255,247,255,248,255,248,255,247,255,247,255,248,255,248,255,246,255,246,255,246,255,246,255,246,255,246,255,246,255,245,255,246,255,247,255,246,255,245,255,246,255,247,255,246,255,245,255,246,255,246,255,245,255,246,255,246,255,245,255,245,255,246,255,246,255,245,255,245,255,246,255,245,255,244,255,245,255,246,255,246,255,246,255,246,255,245,255,245,255,246,255,246,255,245,255,245,255,245,255,245,255,245,255,244,255,244,255,244,255,244,255,244,255,243,255,243,255,245,255,245,255,244,255,243,255,244,255,245,255,245,255,245,255,245,255,245,255,245,255,245,255,244,255,243,255,244,255,246,255,245,255,244,255,244,255,245,255,245,255,245,255,244,255,245,255,245,255,246,255,245,255,244,255,244,255,245,255,244,255,243,255,243,255,244,255,244,255,244,255,244,255,244,255,244,255,244,255,243,255,242,255,242,255,244,255,245,255,244,255,243,255,244,255,245,255,245,255,244,255,243,255,244,255,245,255,245,255,244,255,244,255,245,255,245,255,245,255,243,255,244,255,245,255,246,255,245,255,244,255,244,255,245,255,245,255,244,255,243,255,243,255,245,255,244,255,243,255,242,255,243,255,244,255,244,255,242,255,242,255,243,255,244,255,244,255,242,255,241,255,243,255,245,255,244,255,242,255,241,255,243,255,244,255,243,255,241,255,240,255,243,255,244,255,243,255,241,255,241,255,243,255,244,255,242,255,240,255,241,255,243,255,244,255,242,255,240,255,241,255,243,255,243,255,242,255,240,255,241,255,243,255,243,255,240,255,239,255,240,255,242,255,243,255,241,255,240,255,241,255,243,255,242,255,240,255,239,255,241,255,244,255,243,255,240,255,240,255,242,255,243,255,242,255,240,255,240,255,243,255,244,255,243,255,241,255,241,255,243,255,243,255,242,255,241,255,242,255,243,255,244,255,243,255,242,255,242,255,244,255,244,255,242,255,241,255,243,255,245,255,244,255,243,255,243,255,244,255,246,255,246,255,243,255,243,255,245,255,247,255,246,255,244,255,244,255,245,255,245,255,245,255,244,255,245,255,247,255,248,255,246,255,244,255,245,255,248,255,248,255,246,255,246,255,247,255,248,255,248,255,246,255,245,255,247,255,249,255,248,255,246,255,246,255,249,255,250,255,249,255,247,255,248,255,249,255,252,255,252,255,250,255,249,255,252,255,254,255,252,255,250,255,252,255,254,255,254,255,253,255,253,255,253,255,254,255,0,0,254,255,252,255,253,255,0,0,0,0,254,255,254,255,0,0,1,0,1,0,1,0,0,0,1,0,4,0,4,0,1,0,1,0,4,0,6,0,5,0,4,0,4,0,6,0,8,0,9,0,6,0,6,0,10,0,13,0,10,0,8,0,10,0,12,0,12,0,11,0,11,0,11,0,12,0,14,0,13,0,11,0,13,0,16,0,15,0,13,0,14,0,15,0,16,0,16,0,16,0,14,0,15,0,18,0,19,0,16,0,15,0,18,0,19,0,19,0,20,0,20,0,20,0,22,0,23,0,20,0,18,0,22,0,25,0,23,0,21,0,22,0,23,0,23,0,24,0,23,0,22,0,23,0,26,0,24,0,20,0,21,0,25,0,25,0,24,0,26,0,27,0,26,0,26,0,25,0,23,0,24,0,29,0,29,0,25,0,25,0,28,0,28,0,27,0,27,0,28,0,27,0,29,0,31,0,28,0,26,0,30,0,32,0,28,0,25,0,28,0,30,0,30,0,30,0,28,0,25,0,27,0,30,0,28,0,24,0,25,0,29,0,29,0,27,0,26,0,27,0,28,0,31,0,30,0,26,0,27,0,32,0,32,0,28,0,27,0,30,0,31,0,30,0,29,0,28,0,28,0,32,0,33,0,29,0,25,0,29,0,32,0,30,0,28,0,30,0,32,0,31,0,31,0,29,0,28,0,31,0,34,0,30,0,26,0,28,0,31,0,31,0,29,0,29,0,29,0,29,0,32,0,32,0,29,0,29,0,34,0,35,0,31,0,31,0,35,0,36,0,34,0,34,0,33,0,34,0,37,0,39,0,36,0,34,0,37,0,40,0,37,0,35,0,36,0,36,0,37,0,39,0,39,0,36,0,37,0,39,0,36,0,33,0,36,0,40,0,38,0,36,0,37,0,37,0,37,0,39,0,40,0,37,0,38,0,41,0,41,0,38,0,38,0,41,0,42,0,41,0,41,0,40,0,40,0,42,0,42,0,39,0,37,0,40,0,41,0,37,0,34,0,36,0,35,0,33,0,32,0,32,0,31,0,32,0,32,0,28,0,24,0,25,0,27,0,26,0,26,0,30,0,31,0,27,0,23,0,22,0,21,0,23,0,24,0,23,0,21,0,21,0,21,0,18,0,15,0,17,0,18,0,16,0,14,0,14,0,11,0,11,0,13,0,13,0,9,0,8,0,11,0,11,0,8,0,7,0,8,0,8,0,7,0,6,0,4,0,3,0,4,0,3,0,0,0,1,0,6,0,8,0,6,0,4,0,4,0,5,0,5,0,5,0,5,0,6,0,7,0,5,0,1,0,0,0,4,0,6,0,3,0,255,255,255,255,1,0,1,0,0,0,254,255,253,255,0,0,3,0,2,0,253,255,253,255,1,0,2,0,255,255,252,255,252,255,255,255,255,255,251,255,246,255,246,255,250,255,252,255,249,255,249,255,252,255,254,255,252,255,249,255,249,255,251,255,252,255,249,255,246,255,247,255,249,255,249,255,245,255,243,255,244,255,247,255,247,255,244,255,242,255,242,255,243,255,244,255,244,255,244,255,246,255,249,255,248,255,244,255,244,255,249,255,252,255,249,255,246,255,247,255,251,255,252,255,251,255,249,255,249,255,253,255,0,0,0,0,253,255,254,255,1,0,255,255,251,255,250,255,252,255,255,255,2,0,1,0,255,255,254,255,1,0,0,0,252,255,254,255,4,0,7,0,5,0,1,0]);BT();process.title=GT("Audio");let $e;qT(process.argv[2]);process.parentPort.on("message",e=>{try{const t=e.data;switch(t.event){case"stop-audio-capture":XT();break;case"request-microphone-permission":zT();break;case"request-system-audio-permission":YT(t.useCoreAudio);break;case"start-audio-capture":KT({useCoreAudio:t.useCoreAudio,disableEchoCancellationOnHeadphones:t.disableEchoCancellationOnHeadphones,enableAutomaticGainCompensation:t.enableAutomaticGainCompensation,sampleRate:t.sampleRate});break;case"crash-audio-capture":JT();break;case"get-audio-capture-status":ZT();break;default:If(t)}}catch(t){console.error(t),hi(t)}});function qT(e){process.platform==="win32"?$e=new(require(e)).AudioCapture:$e=require(e),$e.setGlobalLogFunction((t,n,r)=>{Ve({event:"log-to-backend",level:t,logEvent:n,payload:r})}),console.log("Audio process initialized"),Ve({event:"initialized"})}function XT(){$e.stopAudioCapture()}function zT(){$e.requestMicrophonePermission(e=>Ve({event:"microphone-permission-response",granted:e}))}let $o=!1;function YT(e){if($o){Ve({event:"log-to-backend",level:"info",logEvent:"audio-capture-process-ongoing-request-system-audio-permission"});return}$o=!0,console.log("Requesting audio permissions",{useCoreAudio:e}),$e.requestSystemAudioPermission(e,t=>{process.parentPort.postMessage({event:"system-audio-permission-response",granted:t}),$o=!1})}const fr=200;let _t=fr,gt=fr;const WT=Of.throttle((e,t)=>{Ve({event:"audio-volume",system:e,microphone:t})},100,{trailing:!0});function KT({useCoreAudio:e,disableEchoCancellationOnHeadphones:t,enableAutomaticGainCompensation:n,sampleRate:r}){let o,s,i=0;$e.startAudioCapture(e,t,n,r,(c,a)=>{c&&(o=Gn(c),o===0&&(c=Fc.subarray(0,c.byteLength),o=Gn(c))),a&&(s=Gn(a),s===0&&(a=Fc.subarray(0,a.byteLength),s=Gn(a))),Ve({event:"audio-capture-buffer",microphoneBuffer:c,systemAudioBuffer:a}),typeof o=="number"&&(o>_t?_t=o:_t=Math.max(fr,_t*.9)),typeof s=="number"&&(s>gt?gt=s:gt=Math.max(fr,gt*.9));const u=o!==void 0&&_t?Math.min(1,o/_t):0,l=s!==void 0&&gt?Math.min(1,s/gt):0;WT(l,u);const f=i%1e5===0;i++,f&&Ve({event:"log-to-backend",level:"info",logEvent:"audio-capture-process-buffer-received",payload:{count:i,microphoneBufferSize:c?c.byteLength:void 0,systemAudioBufferSize:a?a.byteLength:void 0}})})}function JT(){$e.crashAudioCapture()}function ZT(){Ve({event:"audio-capture-status",status:$e.getAudioCaptureStatus()})}
//# sourceMappingURL=index.js.map
