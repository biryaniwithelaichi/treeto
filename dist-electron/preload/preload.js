"use strict";const t=require("electron");t.contextBridge.exposeInMainWorld("electron",{platform:process.platform,ipcInvoke:(e,...r)=>t.ipcRenderer.invoke(e,...r),ipcOn:(e,r)=>{t.ipcRenderer.on(e,r)},ipcOff:(e,r)=>{t.ipcRenderer.off(e,r)},ipcSend:(e,...r)=>{t.ipcRenderer.send(e,...r)},buffer:{from:Buffer.from,convertRawBufferToCacheString:async e=>{let r;try{r=new TextDecoder("utf-8").decode(e)}catch(n){return console.error("[trace] error converting raw buffer to cache string",n),Promise.reject(new Error("Failed to deserialize raw cache buffer"))}return Promise.resolve(r)}},telemetrySession:{start:(e,r,n)=>t.ipcRenderer.invoke("telemetry-session:start",e,r,n),stop:(e,r,n)=>t.ipcRenderer.invoke("telemetry-session:stop",e,r,n),requestStopDeferred:(e,r,n)=>{t.ipcRenderer.send("telemetry-session:request-stop-deferred",e,r,n)},getActive:e=>t.ipcRenderer.invoke("telemetry-session:get-active",e),get:e=>t.ipcRenderer.invoke("telemetry-session:get",e),getDiagnostics:()=>t.ipcRenderer.invoke("telemetry-session:diagnostics"),emit:e=>{t.ipcRenderer.send("telemetry-session:event",e)},getTranscriptionBufferState:()=>t.ipcRenderer.invoke("transcription:get-buffer-state")}});
